!function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function l(t){t.forEach(o)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(t,e,n=e){return t.set(n),e}const a="undefined"!=typeof window;let f=a?()=>window.performance.now():()=>Date.now(),h=a?t=>requestAnimationFrame(t):t;const d=new Set;function p(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&h(p)}function m(t){let e;return 0===d.size&&h(p),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}function g(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function _(){return x(" ")}function k(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function T(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function E(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function q(t,e,n){t.classList[n?"add":"remove"](e)}const A=new Set;let P,M=0;function O(t,e,n,o,r,l,s,c=0){const i=16.666/o;let u="{\n";for(let t=0;t<=1;t+=i){const o=e+(n-e)*l(t);u+=100*t+`%{${s(o,1-o)}}\n`}const a=u+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${c}`,h=t.ownerDocument;A.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(y("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${a}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${f} ${o}ms linear ${r}ms 1 both`,M+=1,f}function S(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),M-=r,M||h((()=>{M||(A.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),A.clear())})))}function B(t){P=t}function D(){if(!P)throw new Error("Function called outside component initialization");return P}const K=[],L=[],N=[],I=[],H=Promise.resolve();let R=!1;function z(t){N.push(t)}let F=!1;const Y=new Set;function U(){if(!F){F=!0;do{for(let t=0;t<K.length;t+=1){const e=K[t];B(e),J(e.$$)}for(B(null),K.length=0;L.length;)L.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];Y.has(e)||(Y.add(e),e())}N.length=0}while(K.length);for(;I.length;)I.pop()();R=!1,F=!1,Y.clear()}}function J(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}let Q;function V(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const W=new Set;let X;function G(){X={r:0,c:[],p:X}}function Z(){X.r||l(X.c),X=X.p}function tt(t,e){t&&t.i&&(W.delete(t),t.i(e))}function et(t,e,n,o){if(t&&t.o){if(W.has(t))return;W.add(t),X.c.push((()=>{W.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const nt={duration:0};function ot(n,o,r,c){let i=o(n,r),u=c?0:1,a=null,h=null,d=null;function p(){d&&S(n,d)}function g(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(o){const{delay:r=0,duration:s=300,easing:c=e,tick:$=t,css:b}=i||nt,v={start:f()+r,b:o};o||(v.group=X,X.r+=1),a||h?h=v:(b&&(p(),d=O(n,u,o,s,r,c,b)),o&&$(0,1),a=g(v,s),z((()=>V(n,o,"start"))),m((t=>{if(h&&t>h.start&&(a=g(h,s),h=null,V(n,a.b,"start"),b&&(p(),d=O(n,u,a.b,a.duration,0,c,i.css))),a)if(t>=a.end)$(u=a.b,1-u),V(n,a.b,"end"),h||(a.b?p():--a.group.r||l(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;u=a.a+a.d*c(e/a.duration),$(u,1-u)}return!(!a&&!h)})))}return{run(t){s(i)?(Q||(Q=Promise.resolve(),Q.then((()=>{Q=null}))),Q).then((()=>{i=i(),$(t)})):$(t)},end(){p(),a=h=null}}}function rt(t,e){const n=e.token={};function o(t,o,r,l){if(e.token!==n)return;e.resolved=l;let s=e.ctx;void 0!==r&&(s=s.slice(),s[r]=l);const c=t&&(e.current=t)(s);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(G(),et(t,1,1,(()=>{e.blocks[n]=null})),Z())})):e.block.d(1),c.c(),tt(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[o]=c),i&&U()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=D();if(t.then((t=>{B(n),o(e.then,1,e.value,t),B(null)}),(t=>{if(B(n),o(e.catch,2,e.error,t),B(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var r}const lt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function st(t){t&&t.c()}function ct(t,e,n){const{fragment:r,on_mount:c,on_destroy:i,after_update:u}=t.$$;r&&r.m(e,n),z((()=>{const e=c.map(o).filter(s);i?i.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(z)}function it(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ut(t,e){-1===t.$$.dirty[0]&&(K.push(t),R||(R=!0,H.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,n,o,s,c,i,u=[-1]){const a=P;B(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:r(),dirty:u,skip_bound:!1};let d=!1;if(h.ctx=o?o(e,f,((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),d&&ut(e,t)),n})):[],h.update(),d=!0,l(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(b)}else h.fragment&&h.fragment.c();n.intro&&tt(e.$$.fragment),ct(e,n.target,n.anchor),U()}B(a)}class ft{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ht(e){let n;return{c(){n=y("section"),n.innerHTML="<h2>The Child&#39;s Perspective</h2> \n  <p>TKTKTK</p>"},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class dt extends ft{constructor(t){super(),at(this,t,null,ht,c,{})}}const pt=[];function mt(e,n=t){let o;const r=[];function l(t){if(c(e,t)&&(e=t,o)){const t=!pt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),pt.push(n,e)}if(t){for(let t=0;t<pt.length;t+=2)pt[t][0](pt[t+1]);pt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,c=t){const i=[s,c];return r.push(i),1===r.length&&(o=n(l)||t),s(e),()=>{const t=r.indexOf(i);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function gt(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function $t(t){return"[object Date]"===Object.prototype.toString.call(t)}function bt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>bt(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if($t(t)&&$t(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),o={};return n.forEach((n=>{o[n]=bt(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=o[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}const vt=mt(0),yt=mt(),wt={subscribe:mt(["tokens","bigrams"],xt).subscribe};var xt;const{window:_t}=lt;function kt(t,e,n){const o=t.slice();return o[10]=e[n],o[12]=n,o}function Tt(t){let e,n,o,r=t[10].charAt(0).toUpperCase()+t[10].slice(1)+"";return{c(){e=y("option"),n=x(r),e.__value=o=t[12],e.value=e.__value,T(e,"class","svelte-ja9ix3")},m(t,o){$(t,e,o),g(e,n)},p(t,e){4&e&&r!==(r=t[10].charAt(0).toUpperCase()+t[10].slice(1)+"")&&C(n,r)},d(t){t&&b(e)}}}function Ct(e){let n,o,r,s,c,i,u,a,f,h,d,p,m,w,x,C,E,A,P,M,O,S,B,D,K,L,N,I=e[2],H=[];for(let t=0;t<I.length;t+=1)H[t]=Tt(kt(e,I,t));return{c(){n=y("aside"),o=y("section"),r=y("h2"),r.textContent="The Child's Perspective",s=_(),c=y("p"),c.textContent="TKTKTK",i=_(),u=y("section"),a=y("h2"),a.textContent="The Parent's Perspective",f=_(),h=y("p"),h.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",d=_(),p=y("p"),p.textContent="You can select either 'Tokens' for single words or 'Bigrams' for pairs of\n      words. Clicking the column title will sort the terms by the prevalence in\n      that month. The number of terms will be limited to the top 10.",m=_(),w=y("select");for(let t=0;t<H.length;t+=1)H[t].c();x=_(),C=y("section"),E=y("h2"),E.textContent="The Teacher's Perspective",A=_(),P=y("p"),P.textContent="We commissioned a series of surveys with Teacher Tapp. TKTKTK",M=_(),O=y("p"),O.textContent="The square charts show the percentage of respondents who selected that\n      option. Each square represents 1 percent.",S=_(),B=y("p"),B.textContent="The surveys returned by the teachers have been segmented during analysis.\n      Select a segment to drill down into the results.",D=_(),K=y("p"),K.textContent="You can comare this result against another segment with the select box\n      that appears. The baseline figure will appear as a solid border on the\n      chart.",T(r,"class","svelte-ja9ix3"),T(c,"class","svelte-ja9ix3"),T(o,"class","svelte-ja9ix3"),q(o,"hidden",e[0][0]),T(a,"class","svelte-ja9ix3"),T(h,"class","svelte-ja9ix3"),T(p,"class","svelte-ja9ix3"),T(w,"class","svelte-ja9ix3"),void 0===e[1]&&z((()=>e[6].call(w))),T(u,"class","svelte-ja9ix3"),q(u,"hidden",e[0][1]),T(E,"class","svelte-ja9ix3"),T(P,"class","svelte-ja9ix3"),T(O,"class","svelte-ja9ix3"),T(B,"class","svelte-ja9ix3"),T(K,"class","svelte-ja9ix3"),T(C,"class","svelte-ja9ix3"),q(C,"hidden",e[0][2])},m(t,l){$(t,n,l),g(n,o),g(o,r),g(o,s),g(o,c),g(n,i),g(n,u),g(u,a),g(u,f),g(u,h),g(u,d),g(u,p),g(u,m),g(u,w);for(let t=0;t<H.length;t+=1)H[t].m(w,null);j(w,e[1]),g(n,x),g(n,C),g(C,E),g(C,A),g(C,P),g(C,M),g(C,O),g(C,S),g(C,B),g(C,D),g(C,K),L||(N=[k(_t,"scroll",e[4]),k(r,"click",e[5](0)),k(a,"click",e[5](1)),k(w,"change",e[6]),k(E,"click",e[5](2))],L=!0)},p(t,[e]){if(1&e&&q(o,"hidden",t[0][0]),4&e){let n;for(I=t[2],n=0;n<I.length;n+=1){const o=kt(t,I,n);H[n]?H[n].p(o,e):(H[n]=Tt(o),H[n].c(),H[n].m(w,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=I.length}2&e&&j(w,t[1]),1&e&&q(u,"hidden",t[0][1]),1&e&&q(C,"hidden",t[0][2])},i:t,o:t,d(t){t&&b(n),v(H,t),L=!1,l(N)}}}function jt(t,o,r){let l,s,c;i(t,vt,(t=>r(1,s=t))),i(t,wt,(t=>r(2,c=t)));const u=function(t,o={}){const r=mt(t);let l,s=t;function c(c,i){if(null==t)return r.set(t=c),Promise.resolve();s=c;let u=l,a=!1,{delay:h=0,duration:d=400,easing:p=e,interpolate:g=bt}=n(n({},o),i);if(0===d)return u&&(u.abort(),u=null),r.set(t=s),Promise.resolve();const $=f()+h;let b;return l=m((e=>{if(e<$)return!0;a||(b=g(t,c),"function"==typeof d&&(d=d(t,c)),a=!0),u&&(u.abort(),u=null);const n=e-$;return n>d?(r.set(t=c),!1):(r.set(t=b(p(n/d))),!0)})),l.promise}return{set:c,update:(e,n)=>c(e(s,t),n),subscribe:r.subscribe}}(window.scrollX,{duration:400,easing:gt});i(t,u,(t=>r(7,l=t)));let a=[];const h=()=>{const t=document.querySelectorAll("main section h2");return Array.from(t).map((t=>t.offsetTop))},d=()=>{const t=h(),e=window.scrollY+200;r(0,a=t.map(((t,n,o)=>!(e>t&&!(e>o[n+1])))))};var p;return p=()=>{d()},D().$$.after_update.push(p),t.$$.update=()=>{128&t.$$.dirty&&window.scrollTo(0,l)},[a,s,c,u,()=>d(),t=>()=>{const e=h();u.set(e[t]-100)},function(){s=E(this),vt.set(s)}]}class Et extends ft{constructor(t){super(),at(this,t,jt,Ct,c,{})}}function qt(e){let n;return{c(){n=y("header"),n.innerHTML="<h1>Exploring the impact of COVID-19 on Education</h1>"},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class At extends ft{constructor(t){super(),at(this,t,null,qt,c,{})}}function Pt(t,{delay:n=0,duration:o=400,easing:r=e}){const l=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*l}}function Mt(t){let e,n,o;return{c(){e=y("div"),T(e,"class","popover")},m(n,r){$(n,e,r),e.innerHTML=t[1],o=!0},p(t,n){(!o||2&n)&&(e.innerHTML=t[1])},i(t){o||(z((()=>{n||(n=ot(e,Pt,{},!0)),n.run(1)})),o=!0)},o(t){n||(n=ot(e,Pt,{},!1)),n.run(0),o=!1},d(t){t&&b(e),t&&n&&n.end()}}}function Ot(t){let e,n,o,r,s,c,i,u=t[1]&&t[2]&&Mt(t);return{c(){e=y("div"),n=w("svg"),o=w("circle"),r=_(),u&&u.c(),T(o,"r",t[0]),T(n,"viewBox","-1 -1 2 2"),T(e,"class","container")},m(l,a){$(l,e,a),g(e,n),g(n,o),g(e,r),u&&u.m(e,null),s=!0,c||(i=[k(n,"mouseenter",t[3]),k(n,"mouseleave",t[4])],c=!0)},p(t,[n]){(!s||1&n)&&T(o,"r",t[0]),t[1]&&t[2]?u?(u.p(t,n),6&n&&tt(u,1)):(u=Mt(t),u.c(),tt(u,1),u.m(e,null)):u&&(G(),et(u,1,1,(()=>{u=null})),Z())},i(t){s||(tt(u),s=!0)},o(t){et(u),s=!1},d(t){t&&b(e),u&&u.d(),c=!1,l(i)}}}function St(t,e,n){let o,{radius:r}=e,{content:l}=e;return t.$$set=t=>{"radius"in t&&n(0,r=t.radius),"content"in t&&n(1,l=t.content)},[r,l,o,()=>n(2,o=!0),()=>n(2,o=!1)]}class Bt extends ft{constructor(t){super(),at(this,t,St,Ot,c,{radius:0,content:1})}}function Dt(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Kt(t,e,n){const o=t.slice();return o[6]=e[n],o}function Lt(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Nt(t){let e,n,o,r,l=t[9]+"";function s(...e){return t[5](t[11],...e)}return{c(){e=y("th"),n=x(l),T(e,"class","svelte-mtqint"),q(e,"selected",t[11]===t[2])},m(t,l){$(t,e,l),g(e,n),o||(r=k(e,"click",s),o=!0)},p(o,r){t=o,1&r&&l!==(l=t[9]+"")&&C(n,l),4&r&&q(e,"selected",t[11]===t[2])},d(t){t&&b(e),o=!1,r()}}}function It(e){let n,o=e[6][e[9]]+"";return{c(){n=x(o)},m(t,e){$(t,n,e)},p(t,e){1&e&&o!==(o=t[6][t[9]]+"")&&C(n,o)},i:t,o:t,d(t){t&&b(n)}}}function Ht(t){let e,n;return e=new Bt({props:{radius:Math.sqrt(t[6][t[9]]/t[3]),content:"<p>"+t[6][t[9]]+"</p>"}}),{c(){st(e.$$.fragment)},m(t,o){ct(e,t,o),n=!0},p(t,n){const o={};9&n&&(o.radius=Math.sqrt(t[6][t[9]]/t[3])),1&n&&(o.content="<p>"+t[6][t[9]]+"</p>"),e.$set(o)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Rt(t){let e,n,o,r,l;const s=[Ht,It],c=[];function i(t,e){return 1&e&&(n=!!t[4](t[6][t[9]])),n?0:1}return o=i(t,-1),r=c[o]=s[o](t),{c(){e=y("td"),r.c(),T(e,"class","svelte-mtqint"),q(e,"selected",t[11]===t[2])},m(t,n){$(t,e,n),c[o].m(e,null),l=!0},p(t,n){let l=o;o=i(t,n),o===l?c[o].p(t,n):(G(),et(c[l],1,1,(()=>{c[l]=null})),Z(),r=c[o],r||(r=c[o]=s[o](t),r.c()),tt(r,1),r.m(e,null)),4&n&&q(e,"selected",t[11]===t[2])},i(t){l||(tt(r),l=!0)},o(t){et(r),l=!1},d(t){t&&b(e),c[o].d()}}}function zt(t){let e,n,o,r=t[0].columns,l=[];for(let e=0;e<r.length;e+=1)l[e]=Rt(Dt(t,r,e));const s=t=>et(l[t],1,1,(()=>{l[t]=null}));return{c(){e=y("tr");for(let t=0;t<l.length;t+=1)l[t].c();n=_()},m(t,r){$(t,e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null);g(e,n),o=!0},p(t,o){if(29&o){let c;for(r=t[0].columns,c=0;c<r.length;c+=1){const s=Dt(t,r,c);l[c]?(l[c].p(s,o),tt(l[c],1)):(l[c]=Rt(s),l[c].c(),tt(l[c],1),l[c].m(e,n))}for(G(),c=r.length;c<l.length;c+=1)s(c);Z()}},i(t){if(!o){for(let t=0;t<r.length;t+=1)tt(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)et(l[t]);o=!1},d(t){t&&b(e),v(l,t)}}}function Ft(t){let e,n,o,r,l,s,c=t[0].columns,i=[];for(let e=0;e<c.length;e+=1)i[e]=Nt(Lt(t,c,e));let u=t[0],a=[];for(let e=0;e<u.length;e+=1)a[e]=zt(Kt(t,u,e));const f=t=>et(a[t],1,1,(()=>{a[t]=null}));return{c(){e=y("table"),n=y("thead"),o=y("tr");for(let t=0;t<i.length;t+=1)i[t].c();r=_(),l=y("tbody");for(let t=0;t<a.length;t+=1)a[t].c();T(e,"class","svelte-mtqint")},m(t,c){$(t,e,c),g(e,n),g(n,o);for(let t=0;t<i.length;t+=1)i[t].m(o,null);g(e,r),g(e,l);for(let t=0;t<a.length;t+=1)a[t].m(l,null);s=!0},p(t,[e]){if(7&e){let n;for(c=t[0].columns,n=0;n<c.length;n+=1){const r=Lt(t,c,n);i[n]?i[n].p(r,e):(i[n]=Nt(r),i[n].c(),i[n].m(o,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}if(29&e){let n;for(u=t[0],n=0;n<u.length;n+=1){const o=Kt(t,u,n);a[n]?(a[n].p(o,e),tt(a[n],1)):(a[n]=zt(o),a[n].c(),tt(a[n],1),a[n].m(l,null))}for(G(),n=u.length;n<a.length;n+=1)f(n);Z()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)tt(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)et(a[t]);s=!1},d(t){t&&b(e),v(i,t),v(a,t)}}}function Yt(t,e,n){let{data:o}=e,{handler:r=(()=>{})}=e,{highlight:l}=e;const s=t=>!isNaN(t);let c;return t.$$set=t=>{"data"in t&&n(0,o=t.data),"handler"in t&&n(1,r=t.handler),"highlight"in t&&n(2,l=t.highlight)},t.$$.update=()=>{1&t.$$.dirty&&n(3,c=o.reduce(((t,e)=>{const n=Math.max(...Object.values(e).filter(s));return n>t?n:t}),0))},[o,r,l,c,s,t=>r(t)]}class Ut extends ft{constructor(t){super(),at(this,t,Yt,Ft,c,{data:0,handler:1,highlight:2})}}function Jt(e){let n,o,r,l,s=e[10]+"";return{c(){n=y("p"),n.textContent="Data not loaded!",o=_(),r=y("p"),l=x(s),function(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}(n,"color","red")},m(t,e){$(t,n,e),$(t,o,e),$(t,r,e),g(r,l)},p:t,i:t,o:t,d(t){t&&b(n),t&&b(o),t&&b(r)}}}function Qt(t){let e,n,o,r;return e=new Ut({props:{data:t[1],handler:t[3],highlight:t[0]}}),{c(){st(e.$$.fragment),n=_(),o=y("aside"),o.textContent="Data sourced from Mumsnet MI systems with kind permission."},m(t,l){ct(e,t,l),$(t,n,l),$(t,o,l),r=!0},p(t,n){const o={};2&n&&(o.data=t[1]),1&n&&(o.highlight=t[0]),e.$set(o)},i(t){r||(tt(e.$$.fragment,t),r=!0)},o(t){et(e.$$.fragment,t),r=!1},d(t){it(e,t),t&&b(n),t&&b(o)}}}function Vt(e){let n;return{c(){n=x("Loading data...")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}function Wt(t){let e,n,o,r,l,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Vt,then:Qt,catch:Jt,error:10,blocks:[,,,]};return rt(r=t[2],s),{c(){e=y("section"),n=y("h2"),n.textContent="The Parent's Perspective",o=_(),s.block.c(),T(e,"class","mumsnet")},m(t,r){$(t,e,r),g(e,n),g(e,o),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,l=!0},p(e,[n]){{const o=(t=e).slice();o[10]=s.resolved,s.block.p(o,n)}},i(t){l||(tt(s.block),l=!0)},o(t){for(let t=0;t<3;t+=1){et(s.blocks[t])}l=!1},d(t){t&&b(e),s.block.d(),s.token=null,s=null}}}function Xt(t,e,n){let o,r,l;i(t,wt,(t=>n(5,o=t))),i(t,yt,(t=>n(1,r=t))),i(t,vt,(t=>n(6,l=t)));let s,c=2;function a(t,e,n){const o=t[e],r=o.columns[n],l=h(r),s=o.sort(l).slice(0,10);return s.columns=o.columns,s}let f=async function(){n(4,s=await Promise.all(o.map((t=>(async t=>{const e=await fetch(t),n=await e.text(),[o,...r]=n.split("\n").filter((t=>t)).map((t=>t.split(/\s*,\s*/))),l=r.map((t=>t.reduce(((t,e,n)=>(t[o[n]]=e,t)),{})));return Object.defineProperty(l,"columns",{enumerable:!1,writable:!0}),l.columns=o,l})(`data/mumsnet/${t}.csv`))))),u(yt,r=a(s,l,c),r)}();const h=t=>(e,n)=>parseInt(e[t])>parseInt(n[t])?-1:parseInt(e[t])<parseInt(n[t])?1:0;return t.$$.update=()=>{81&t.$$.dirty&&s&&u(yt,r=a(s,l,c),r)},[c,r,f,t=>{0!==t&&n(0,c=t)}]}class Gt extends ft{constructor(t){super(),at(this,t,Xt,Wt,c,{})}}function Zt(t,e,n){const o=t.slice();return o[3]=e[n],o[5]=n,o}function te(t){let e,n,o;return{c(){e=w("rect"),T(e,"width","5"),T(e,"height","5"),T(e,"x",n=t[5]%10*10+1),T(e,"y",o=10*Math.floor((99-t[5])/10)+1),T(e,"class","svelte-1csbitr"),q(e,"filled",t[5]+1<=100*t[0]/t[2]),q(e,"baseline",t[5]+1<=100*t[1]/t[2])},m(t,n){$(t,e,n)},p(t,n){5&n&&q(e,"filled",t[5]+1<=100*t[0]/t[2]),6&n&&q(e,"baseline",t[5]+1<=100*t[1]/t[2])},d(t){t&&b(e)}}}function ee(e){let n,o=Array(100),r=[];for(let t=0;t<o.length;t+=1)r[t]=te(Zt(e,o,t));return{c(){n=w("svg");for(let t=0;t<r.length;t+=1)r[t].c();T(n,"viewBox","0 0 100 100")},m(t,e){$(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){if(7&e){let l;for(o=Array(100),l=0;l<o.length;l+=1){const s=Zt(t,o,l);r[l]?r[l].p(s,e):(r[l]=te(s),r[l].c(),r[l].m(n,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},i:t,o:t,d(t){t&&b(n),v(r,t)}}}function ne(t,e,n){let{number:o}=e,{reference:r}=e,{total:l=100}=e;return t.$$set=t=>{"number"in t&&n(0,o=t.number),"reference"in t&&n(1,r=t.reference),"total"in t&&n(2,l=t.total)},[o,r,l]}class oe extends ft{constructor(t){super(),at(this,t,ne,ee,c,{number:0,reference:1,total:2})}}const re=t=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(t));function le(t,e,n){const o=t.slice();return o[7]=e[n].title,o[8]=e[n].number,o[9]=e[n].reference,o}function se(t,e,n){const o=t.slice();return o[12]=e[n],o}function ce(t,e,n){const o=t.slice();return o[12]=e[n],o}function ie(t){let e,n,o,r=t[12]+"";return{c(){e=y("option"),n=x(r),e.__value=o=t[12],e.value=e.__value},m(t,o){$(t,e,o),g(e,n)},p(t,l){2&l&&r!==(r=t[12]+"")&&C(n,r),2&l&&o!==(o=t[12])&&(e.__value=o,e.value=e.__value)},d(t){t&&b(e)}}}function ue(t){let e,n,o,r,l,s,c,i,u,a,f=t[1],h=[];for(let e=0;e<f.length;e+=1)h[e]=ae(se(t,f,e));return{c(){e=y("div"),n=y("label"),n.textContent="Comparison",o=_(),r=w("svg"),l=w("rect"),s=_(),c=y("select"),i=y("option"),i.textContent="None";for(let t=0;t<h.length;t+=1)h[t].c();T(n,"for","comarison-segment"),T(l,"class","baseline"),T(l,"width","10"),T(l,"height","10"),T(r,"width","10"),T(r,"viewBox","0 0 10 10"),i.__value="None",i.value=i.__value,T(c,"id","comparison-segment"),void 0===t[4]&&z((()=>t[6].call(c))),T(e,"class","selector")},m(f,d){$(f,e,d),g(e,n),g(e,o),g(e,r),g(r,l),g(e,s),g(e,c),g(c,i);for(let t=0;t<h.length;t+=1)h[t].m(c,null);j(c,t[4]),u||(a=k(c,"change",t[6]),u=!0)},p(t,e){if(2&e){let n;for(f=t[1],n=0;n<f.length;n+=1){const o=se(t,f,n);h[n]?h[n].p(o,e):(h[n]=ae(o),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}18&e&&j(c,t[4])},d(t){t&&b(e),v(h,t),u=!1,a()}}}function ae(t){let e,n,o,r=t[12]+"";return{c(){e=y("option"),n=x(r),e.__value=o=t[12],e.value=e.__value},m(t,o){$(t,e,o),g(e,n)},p(t,l){2&l&&r!==(r=t[12]+"")&&C(n,r),2&l&&o!==(o=t[12])&&(e.__value=o,e.value=e.__value)},d(t){t&&b(e)}}}function fe(t){let e,n,o,r,l,s,c,i,u,a,f,h,d,p=t[7]+"",m=t[8]+"";return n=new oe({props:{number:t[8],reference:t[9]}}),{c(){e=y("section"),st(n.$$.fragment),o=_(),r=y("p"),l=x(p),s=_(),c=y("p"),i=x(m),u=x("% of "),a=x(t[3]),f=x(" respondents"),h=_(),T(c,"class","summary"),T(e,"class","response")},m(t,p){$(t,e,p),ct(n,e,null),g(e,o),g(e,r),g(r,l),g(e,s),g(e,c),g(c,i),g(c,u),g(c,a),g(c,f),g(e,h),d=!0},p(t,e){const o={};4&e&&(o.number=t[8]),4&e&&(o.reference=t[9]),n.$set(o),(!d||4&e)&&p!==(p=t[7]+"")&&C(l,p),(!d||4&e)&&m!==(m=t[8]+"")&&C(i,m),(!d||8&e)&&C(a,t[3])},i(t){d||(tt(n.$$.fragment,t),d=!0)},o(t){et(n.$$.fragment,t),d=!1},d(t){t&&b(e),it(n)}}}function he(t){let e,n,o,r,l,s,c,i,u,a,f,h,d,p,m,E,q,A,P,M,O,S,B,D,K,L=t[0].q+"",N=t[0].r+"",I=re(t[0].d)+"",H=t[1],R=[];for(let e=0;e<H.length;e+=1)R[e]=ie(ce(t,H,e));let F="All"!=t[3]&&ue(t),Y=t[2],U=[];for(let e=0;e<Y.length;e+=1)U[e]=fe(le(t,Y,e));const J=t=>et(U[t],1,1,(()=>{U[t]=null}));return{c(){e=y("section"),n=y("h3"),o=x(L),r=_(),l=y("div"),s=y("label"),s.textContent="Segment",c=_(),i=w("svg"),u=w("rect"),a=_(),f=y("select");for(let t=0;t<R.length;t+=1)R[t].c();h=_(),F&&F.c(),d=_(),p=y("div");for(let t=0;t<U.length;t+=1)U[t].c();m=_(),E=y("p"),q=x("Total respondents "),A=x(N),P=_(),M=y("p"),O=x("Question asked on "),S=x(I),T(s,"for","primary-segment"),T(u,"class","filled"),T(u,"width","10"),T(u,"height","10"),T(i,"width","10"),T(i,"viewBox","0 0 10 10"),T(f,"id","primary-segment"),void 0===t[3]&&z((()=>t[5].call(f))),T(l,"class","selector"),T(p,"class","grid")},m(b,v){$(b,e,v),g(e,n),g(n,o),g(e,r),g(e,l),g(l,s),g(l,c),g(l,i),g(i,u),g(l,a),g(l,f);for(let t=0;t<R.length;t+=1)R[t].m(f,null);j(f,t[3]),g(e,h),F&&F.m(e,null),g(e,d),g(e,p);for(let t=0;t<U.length;t+=1)U[t].m(p,null);g(e,m),g(e,E),g(E,q),g(E,A),g(e,P),g(e,M),g(M,O),g(M,S),B=!0,D||(K=k(f,"change",t[5]),D=!0)},p(t,[n]){if((!B||1&n)&&L!==(L=t[0].q+"")&&C(o,L),2&n){let e;for(H=t[1],e=0;e<H.length;e+=1){const o=ce(t,H,e);R[e]?R[e].p(o,n):(R[e]=ie(o),R[e].c(),R[e].m(f,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=H.length}if(10&n&&j(f,t[3]),"All"!=t[3]?F?F.p(t,n):(F=ue(t),F.c(),F.m(e,d)):F&&(F.d(1),F=null),12&n){let e;for(Y=t[2],e=0;e<Y.length;e+=1){const o=le(t,Y,e);U[e]?(U[e].p(o,n),tt(U[e],1)):(U[e]=fe(o),U[e].c(),tt(U[e],1),U[e].m(p,null))}for(G(),e=Y.length;e<U.length;e+=1)J(e);Z()}(!B||1&n)&&N!==(N=t[0].r+"")&&C(A,N),(!B||1&n)&&I!==(I=re(t[0].d)+"")&&C(S,I)},i(t){if(!B){for(let t=0;t<Y.length;t+=1)tt(U[t]);B=!0}},o(t){U=U.filter(Boolean);for(let t=0;t<U.length;t+=1)et(U[t]);B=!1},d(t){t&&b(e),v(R,t),F&&F.d(),v(U,t),D=!1,K()}}}function de(t,e,n){let o,{question:r}=e,{keys:l}=e,s="All",c="All";return t.$$set=t=>{"question"in t&&n(0,r=t.question),"keys"in t&&n(1,l=t.keys)},t.$$.update=()=>{if(27&t.$$.dirty){const t=l.indexOf(s),e=l.indexOf(c);n(2,o=r.a.map((({t:n,d:o})=>({title:n,number:o[t],reference:0!==t?o[e]:void 0}))))}},[r,l,o,s,c,function(){s=E(this),n(3,s),n(1,l)},function(){c=E(this),n(4,c),n(1,l)}]}class pe extends ft{constructor(t){super(),at(this,t,de,he,c,{question:0,keys:1})}}const me=mt();function ge(t,e,n){const o=t.slice();return o[3]=e[n],o}function $e(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function be(t){let e,n,o=t[0].q,r=[];for(let e=0;e<o.length;e+=1)r[e]=ve(ge(t,o,e));const l=t=>et(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=x("")},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);$(t,e,o),n=!0},p(t,n){if(1&n){let s;for(o=t[0].q,s=0;s<o.length;s+=1){const l=ge(t,o,s);r[s]?(r[s].p(l,n),tt(r[s],1)):(r[s]=ve(l),r[s].c(),tt(r[s],1),r[s].m(e.parentNode,e))}for(G(),s=o.length;s<r.length;s+=1)l(s);Z()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)tt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)et(r[t]);n=!1},d(t){v(r,t),t&&b(e)}}}function ve(t){let e,n;return e=new pe({props:{question:t[3],keys:t[0].k}}),{c(){st(e.$$.fragment)},m(t,o){ct(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.question=t[3]),1&n&&(o.keys=t[0].k),e.$set(o)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function ye(e){let n;return{c(){n=y("p"),n.textContent="Loading data file"},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}function we(t){let e,n,o,r,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:ye,then:be,catch:$e,blocks:[,,,]};return rt(r=t[1],s),{c(){e=y("section"),n=y("h2"),n.textContent="The Teacher's Perspective",o=_(),s.block.c(),T(e,"class","teachertapp")},m(t,r){$(t,e,r),g(e,n),g(e,o),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,l=!0},p(e,[n]){{const o=(t=e).slice();s.block.p(o,n)}},i(t){l||(tt(s.block),l=!0)},o(t){for(let t=0;t<3;t+=1){et(s.blocks[t])}l=!1},d(t){t&&b(e),s.block.d(),s.token=null,s=null}}}function xe(t,e,n){let o;i(t,me,(t=>n(0,o=t)));const r=(async()=>{u(me,o=await(async t=>(await fetch(t)).json())("data/teacher-tapp/questions.json"),o)})();return[o,r]}class _e extends ft{constructor(t){super(),at(this,t,xe,we,c,{})}}function ke(e){let n,o,r,l,s,c,i,u,a,f,h;return n=new At({}),r=new Et({}),c=new dt({}),u=new Gt({}),f=new _e({}),{c(){st(n.$$.fragment),o=_(),st(r.$$.fragment),l=_(),s=y("main"),st(c.$$.fragment),i=_(),st(u.$$.fragment),a=_(),st(f.$$.fragment),T(s,"role","main")},m(t,e){ct(n,t,e),$(t,o,e),ct(r,t,e),$(t,l,e),$(t,s,e),ct(c,s,null),g(s,i),ct(u,s,null),g(s,a),ct(f,s,null),h=!0},p:t,i(t){h||(tt(n.$$.fragment,t),tt(r.$$.fragment,t),tt(c.$$.fragment,t),tt(u.$$.fragment,t),tt(f.$$.fragment,t),h=!0)},o(t){et(n.$$.fragment,t),et(r.$$.fragment,t),et(c.$$.fragment,t),et(u.$$.fragment,t),et(f.$$.fragment,t),h=!1},d(t){it(n,t),t&&b(o),it(r,t),t&&b(l),t&&b(s),it(c),it(u),it(f)}}}new class extends ft{constructor(t){super(),at(this,t,null,ke,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
