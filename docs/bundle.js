!function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function i(t,e,n=e){return t.set(n),e}const u="undefined"!=typeof window;let a=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const h=new Set;function d(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&f(d)}function p(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function y(){return x(" ")}function _(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function C(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function j(t,e,n){t.classList[n?"add":"remove"](e)}const q=new Set;let E,A=0;function P(t,e,n,o,l,r,s,c=0){const i=16.666/o;let u="{\n";for(let t=0;t<=1;t+=i){const o=e+(n-e)*r(t);u+=100*t+`%{${s(o,1-o)}}\n`}const a=u+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${c}`,h=t.ownerDocument;q.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(v("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${a}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${f} ${o}ms linear ${l}ms 1 both`,A+=1,f}function M(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-o.length;l&&(t.style.animation=o.join(", "),A-=l,A||f((()=>{A||(q.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),q.clear())})))}function S(t){E=t}function O(){if(!E)throw new Error("Function called outside component initialization");return E}const B=[],K=[],L=[],N=[],D=Promise.resolve();let I=!1;function H(t){L.push(t)}let R=!1;const z=new Set;function F(){if(!R){R=!0;do{for(let t=0;t<B.length;t+=1){const e=B[t];S(e),Y(e.$$)}for(S(null),B.length=0;K.length;)K.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];z.has(e)||(z.add(e),e())}L.length=0}while(B.length);for(;N.length;)N.pop()();I=!1,R=!1,z.clear()}}function Y(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}let U;function J(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const Q=new Set;let V;function W(){V={r:0,c:[],p:V}}function G(){V.r||l(V.c),V=V.p}function X(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function Z(t,e,n,o){if(t&&t.o){if(Q.has(t))return;Q.add(t),V.c.push((()=>{Q.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const tt={duration:0};function et(n,o,s,c){let i=o(n,s),u=c?0:1,p=null,m=null,g=null;function $(){g&&M(n,g)}function v(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(o){const{delay:r=0,duration:s=300,easing:c=e,tick:b=t,css:x}=i||tt,y={start:a()+r,b:o};o||(y.group=V,V.r+=1),p||m?m=y:(x&&($(),g=P(n,u,o,s,r,c,x)),o&&b(0,1),p=v(y,s),H((()=>J(n,o,"start"))),function(t){let e;0===h.size&&f(d),new Promise((n=>{h.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(p=v(m,s),m=null,J(n,p.b,"start"),x&&($(),g=P(n,u,p.b,p.duration,0,c,i.css))),p)if(t>=p.end)b(u=p.b,1-u),J(n,p.b,"end"),m||(p.b?$():--p.group.r||l(p.group.c)),p=null;else if(t>=p.start){const e=t-p.start;u=p.a+p.d*c(e/p.duration),b(u,1-u)}return!(!p&&!m)})))}return{run(t){r(i)?(U||(U=Promise.resolve(),U.then((()=>{U=null}))),U).then((()=>{i=i(),b(t)})):b(t)},end(){$(),p=m=null}}}function nt(t,e){const n=e.token={};function o(t,o,l,r){if(e.token!==n)return;e.resolved=r;let s=e.ctx;void 0!==l&&(s=s.slice(),s[l]=r);const c=t&&(e.current=t)(s);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(W(),Z(t,1,1,(()=>{e.blocks[n]=null})),G())})):e.block.d(1),c.c(),X(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[o]=c),i&&F()}if((l=t)&&"object"==typeof l&&"function"==typeof l.then){const n=O();if(t.then((t=>{S(n),o(e.then,1,e.value,t),S(null)}),(t=>{if(S(n),o(e.catch,2,e.error,t),S(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var l}const ot="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function lt(t){t&&t.c()}function rt(t,e,o){const{fragment:s,on_mount:c,on_destroy:i,after_update:u}=t.$$;s&&s.m(e,o),H((()=>{const e=c.map(n).filter(r);i?i.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(H)}function st(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(B.push(t),I||(I=!0,D.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function it(e,n,r,s,c,i,u=[-1]){const a=E;S(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let d=!1;if(h.ctx=r?r(e,f,((t,n,...o)=>{const l=o.length?o[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=l)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](l),d&&ct(e,t)),n})):[],h.update(),d=!0,l(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(g)}else h.fragment&&h.fragment.c();n.intro&&X(e.$$.fragment),rt(e,n.target,n.anchor),F()}S(a)}class ut{$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function at(e){let n;return{c(){n=v("section"),n.innerHTML="<h2>The Child&#39;s Perspective</h2> \n  <p>TKTKTK</p>"},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}class ft extends ut{constructor(t){super(),it(this,t,null,at,s,{})}}const ht=[];function dt(e,n=t){let o;const l=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!ht.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),ht.push(n,e)}if(t){for(let t=0;t<ht.length;t+=2)ht[t][0](ht[t+1]);ht.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,c=t){const i=[s,c];return l.push(i),1===l.length&&(o=n(r)||t),s(e),()=>{const t=l.indexOf(i);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}const pt=dt(0),mt=dt(),gt={subscribe:dt(["tokens","bigrams"],$t).subscribe};var $t;const{window:vt}=ot;function bt(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function xt(t){let e,n,o,l=t[8].charAt(0).toUpperCase()+t[8].slice(1)+"";return{c(){e=v("option"),n=x(l),e.__value=o=t[10],e.value=e.__value,w(e,"class","svelte-ja9ix3")},m(t,o){m(t,e,o),p(e,n)},p(t,e){4&e&&l!==(l=t[8].charAt(0).toUpperCase()+t[8].slice(1)+"")&&k(n,l)},d(t){t&&g(e)}}}function yt(e){let n,o,r,s,c,i,u,a,f,h,d,b,x,k,C,q,E,A,P,M,S,O,B,K,L,N,D,I=e[2],R=[];for(let t=0;t<I.length;t+=1)R[t]=xt(bt(e,I,t));return{c(){n=v("aside"),o=v("section"),r=v("h2"),r.textContent="The Child's Perspective",s=y(),c=v("p"),c.textContent="TKTKTK",i=y(),u=v("section"),a=v("h2"),a.textContent="The Parent's Perspective",f=y(),h=v("p"),h.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",d=y(),b=v("p"),b.textContent="You can select either 'Tokens' for single words or 'Bigrams' for pairs of\n      words. Clicking the column title will sort the terms by the prevalence in\n      that month. The number of terms will be limited to the top 10.",x=y(),k=v("select");for(let t=0;t<R.length;t+=1)R[t].c();C=y(),q=v("section"),E=v("h2"),E.textContent="The Teacher's Perspective",A=y(),P=v("p"),P.textContent="We commissioned a series of surveys with Teacher Tapp.\n      TKTKTK",M=y(),S=v("p"),S.textContent="The square charts show the percentage of respondents who selected that\n      option. Each square represents 1 percent.",O=y(),B=v("p"),B.textContent="The surveys returned by the teachers have been segmented during\n      analysis. Select a segment to drill down into the results.",K=y(),L=v("p"),L.textContent="You can comare this result against another segment with the select box\n      that appears. The baseline figure will appear as a solid border on the\n      chart.",w(r,"class","svelte-ja9ix3"),w(c,"class","svelte-ja9ix3"),w(o,"class","svelte-ja9ix3"),j(o,"hidden",e[0][0]),w(a,"class","svelte-ja9ix3"),w(h,"class","svelte-ja9ix3"),w(b,"class","svelte-ja9ix3"),w(k,"class","svelte-ja9ix3"),void 0===e[1]&&H((()=>e[5].call(k))),w(u,"class","svelte-ja9ix3"),j(u,"hidden",e[0][1]),w(E,"class","svelte-ja9ix3"),w(P,"class","svelte-ja9ix3"),w(S,"class","svelte-ja9ix3"),w(B,"class","svelte-ja9ix3"),w(L,"class","svelte-ja9ix3"),w(q,"class","svelte-ja9ix3"),j(q,"hidden",e[0][2])},m(t,l){m(t,n,l),p(n,o),p(o,r),p(o,s),p(o,c),p(n,i),p(n,u),p(u,a),p(u,f),p(u,h),p(u,d),p(u,b),p(u,x),p(u,k);for(let t=0;t<R.length;t+=1)R[t].m(k,null);T(k,e[1]),p(n,C),p(n,q),p(q,E),p(q,A),p(q,P),p(q,M),p(q,S),p(q,O),p(q,B),p(q,K),p(q,L),N||(D=[_(vt,"scroll",e[3]),_(r,"click",e[4](0)),_(a,"click",e[4](1)),_(k,"change",e[5]),_(E,"click",e[4](2))],N=!0)},p(t,[e]){if(1&e&&j(o,"hidden",t[0][0]),4&e){let n;for(I=t[2],n=0;n<I.length;n+=1){const o=bt(t,I,n);R[n]?R[n].p(o,e):(R[n]=xt(o),R[n].c(),R[n].m(k,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=I.length}2&e&&T(k,t[1]),1&e&&j(u,"hidden",t[0][1]),1&e&&j(q,"hidden",t[0][2])},i:t,o:t,d(t){t&&g(n),$(R,t),N=!1,l(D)}}}function _t(t,e,n){let o,l;c(t,pt,(t=>n(1,o=t))),c(t,gt,(t=>n(2,l=t)));let r=[];const s=()=>{const t=document.querySelectorAll("main section h2");return Array.from(t).map((t=>t.offsetTop))},i=()=>{const t=s(),e=window.scrollY+200;n(0,r=t.map(((t,n,o)=>!(e>t&&!(e>o[n+1])))))};var u;return u=()=>{i()},O().$$.after_update.push(u),[r,o,l,()=>i(),t=>()=>{const e=s();window.scrollTo(0,e[t]-100)},function(){o=C(this),pt.set(o)}]}class wt extends ut{constructor(t){super(),it(this,t,_t,yt,s,{})}}function kt(e){let n;return{c(){n=v("header"),n.innerHTML="<h1>Exploring the impact of COVID-19 on Education</h1>"},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}class Tt extends ut{constructor(t){super(),it(this,t,null,kt,s,{})}}function Ct(t,{delay:n=0,duration:o=400,easing:l=e}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:l,css:t=>"opacity: "+t*r}}function jt(t){let e,n,o;return{c(){e=v("div"),w(e,"class","popover")},m(n,l){m(n,e,l),e.innerHTML=t[1],o=!0},p(t,n){(!o||2&n)&&(e.innerHTML=t[1])},i(t){o||(H((()=>{n||(n=et(e,Ct,{},!0)),n.run(1)})),o=!0)},o(t){n||(n=et(e,Ct,{},!1)),n.run(0),o=!1},d(t){t&&g(e),t&&n&&n.end()}}}function qt(t){let e,n,o,r,s,c,i,u=t[1]&&t[2]&&jt(t);return{c(){e=v("div"),n=b("svg"),o=b("circle"),r=y(),u&&u.c(),w(o,"r",t[0]),w(n,"viewBox","-1 -1 2 2"),w(e,"class","container")},m(l,a){m(l,e,a),p(e,n),p(n,o),p(e,r),u&&u.m(e,null),s=!0,c||(i=[_(n,"mouseenter",t[3]),_(n,"mouseleave",t[4])],c=!0)},p(t,[n]){(!s||1&n)&&w(o,"r",t[0]),t[1]&&t[2]?u?(u.p(t,n),6&n&&X(u,1)):(u=jt(t),u.c(),X(u,1),u.m(e,null)):u&&(W(),Z(u,1,1,(()=>{u=null})),G())},i(t){s||(X(u),s=!0)},o(t){Z(u),s=!1},d(t){t&&g(e),u&&u.d(),c=!1,l(i)}}}function Et(t,e,n){let o,{radius:l}=e,{content:r}=e;return t.$$set=t=>{"radius"in t&&n(0,l=t.radius),"content"in t&&n(1,r=t.content)},[l,r,o,()=>n(2,o=!0),()=>n(2,o=!1)]}class At extends ut{constructor(t){super(),it(this,t,Et,qt,s,{radius:0,content:1})}}function Pt(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Mt(t,e,n){const o=t.slice();return o[6]=e[n],o}function St(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Ot(t){let e,n,o,l,r=t[9]+"";function s(...e){return t[5](t[11],...e)}return{c(){e=v("th"),n=x(r),w(e,"class","svelte-mtqint"),j(e,"selected",t[11]===t[2])},m(t,r){m(t,e,r),p(e,n),o||(l=_(e,"click",s),o=!0)},p(o,l){t=o,1&l&&r!==(r=t[9]+"")&&k(n,r),4&l&&j(e,"selected",t[11]===t[2])},d(t){t&&g(e),o=!1,l()}}}function Bt(e){let n,o=e[6][e[9]]+"";return{c(){n=x(o)},m(t,e){m(t,n,e)},p(t,e){1&e&&o!==(o=t[6][t[9]]+"")&&k(n,o)},i:t,o:t,d(t){t&&g(n)}}}function Kt(t){let e,n;return e=new At({props:{radius:Math.sqrt(t[6][t[9]]/t[3]),content:"<p>"+t[6][t[9]]+"</p>"}}),{c(){lt(e.$$.fragment)},m(t,o){rt(e,t,o),n=!0},p(t,n){const o={};9&n&&(o.radius=Math.sqrt(t[6][t[9]]/t[3])),1&n&&(o.content="<p>"+t[6][t[9]]+"</p>"),e.$set(o)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Lt(t){let e,n,o,l,r;const s=[Kt,Bt],c=[];function i(t,e){return 1&e&&(n=!!t[4](t[6][t[9]])),n?0:1}return o=i(t,-1),l=c[o]=s[o](t),{c(){e=v("td"),l.c(),w(e,"class","svelte-mtqint"),j(e,"selected",t[11]===t[2])},m(t,n){m(t,e,n),c[o].m(e,null),r=!0},p(t,n){let r=o;o=i(t,n),o===r?c[o].p(t,n):(W(),Z(c[r],1,1,(()=>{c[r]=null})),G(),l=c[o],l||(l=c[o]=s[o](t),l.c()),X(l,1),l.m(e,null)),4&n&&j(e,"selected",t[11]===t[2])},i(t){r||(X(l),r=!0)},o(t){Z(l),r=!1},d(t){t&&g(e),c[o].d()}}}function Nt(t){let e,n,o,l=t[0].columns,r=[];for(let e=0;e<l.length;e+=1)r[e]=Lt(Pt(t,l,e));const s=t=>Z(r[t],1,1,(()=>{r[t]=null}));return{c(){e=v("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=y()},m(t,l){m(t,e,l);for(let t=0;t<r.length;t+=1)r[t].m(e,null);p(e,n),o=!0},p(t,o){if(29&o){let c;for(l=t[0].columns,c=0;c<l.length;c+=1){const s=Pt(t,l,c);r[c]?(r[c].p(s,o),X(r[c],1)):(r[c]=Lt(s),r[c].c(),X(r[c],1),r[c].m(e,n))}for(W(),c=l.length;c<r.length;c+=1)s(c);G()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)X(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Z(r[t]);o=!1},d(t){t&&g(e),$(r,t)}}}function Dt(t){let e,n,o,l,r,s,c=t[0].columns,i=[];for(let e=0;e<c.length;e+=1)i[e]=Ot(St(t,c,e));let u=t[0],a=[];for(let e=0;e<u.length;e+=1)a[e]=Nt(Mt(t,u,e));const f=t=>Z(a[t],1,1,(()=>{a[t]=null}));return{c(){e=v("table"),n=v("thead"),o=v("tr");for(let t=0;t<i.length;t+=1)i[t].c();l=y(),r=v("tbody");for(let t=0;t<a.length;t+=1)a[t].c();w(e,"class","svelte-mtqint")},m(t,c){m(t,e,c),p(e,n),p(n,o);for(let t=0;t<i.length;t+=1)i[t].m(o,null);p(e,l),p(e,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);s=!0},p(t,[e]){if(7&e){let n;for(c=t[0].columns,n=0;n<c.length;n+=1){const l=St(t,c,n);i[n]?i[n].p(l,e):(i[n]=Ot(l),i[n].c(),i[n].m(o,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}if(29&e){let n;for(u=t[0],n=0;n<u.length;n+=1){const o=Mt(t,u,n);a[n]?(a[n].p(o,e),X(a[n],1)):(a[n]=Nt(o),a[n].c(),X(a[n],1),a[n].m(r,null))}for(W(),n=u.length;n<a.length;n+=1)f(n);G()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)X(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Z(a[t]);s=!1},d(t){t&&g(e),$(i,t),$(a,t)}}}function It(t,e,n){let{data:o}=e,{handler:l=(()=>{})}=e,{highlight:r}=e;const s=t=>!isNaN(t);let c;return t.$$set=t=>{"data"in t&&n(0,o=t.data),"handler"in t&&n(1,l=t.handler),"highlight"in t&&n(2,r=t.highlight)},t.$$.update=()=>{1&t.$$.dirty&&n(3,c=o.reduce(((t,e)=>{const n=Math.max(...Object.values(e).filter(s));return n>t?n:t}),0))},[o,l,r,c,s,t=>l(t)]}class Ht extends ut{constructor(t){super(),it(this,t,It,Dt,s,{data:0,handler:1,highlight:2})}}function Rt(e){let n,o,l,r,s=e[10]+"";return{c(){n=v("p"),n.textContent="Data not loaded!",o=y(),l=v("p"),r=x(s),function(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}(n,"color","red")},m(t,e){m(t,n,e),m(t,o,e),m(t,l,e),p(l,r)},p:t,i:t,o:t,d(t){t&&g(n),t&&g(o),t&&g(l)}}}function zt(t){let e,n,o,l;return e=new Ht({props:{data:t[1],handler:t[3],highlight:t[0]}}),{c(){lt(e.$$.fragment),n=y(),o=v("aside"),o.textContent="Data sourced from Mumsnet MI systems with kind permission."},m(t,r){rt(e,t,r),m(t,n,r),m(t,o,r),l=!0},p(t,n){const o={};2&n&&(o.data=t[1]),1&n&&(o.highlight=t[0]),e.$set(o)},i(t){l||(X(e.$$.fragment,t),l=!0)},o(t){Z(e.$$.fragment,t),l=!1},d(t){st(e,t),t&&g(n),t&&g(o)}}}function Ft(e){let n;return{c(){n=x("Loading data...")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function Yt(t){let e,n,o,l,r,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Ft,then:zt,catch:Rt,error:10,blocks:[,,,]};return nt(l=t[2],s),{c(){e=v("section"),n=v("h2"),n.textContent="The Parent's Perspective",o=y(),s.block.c(),w(e,"class","mumsnet")},m(t,l){m(t,e,l),p(e,n),p(e,o),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const o=(t=e).slice();o[10]=s.resolved,s.block.p(o,n)}},i(t){r||(X(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(s.blocks[t])}r=!1},d(t){t&&g(e),s.block.d(),s.token=null,s=null}}}function Ut(t,e,n){let o,l,r;c(t,gt,(t=>n(5,o=t))),c(t,mt,(t=>n(1,l=t))),c(t,pt,(t=>n(6,r=t)));let s,u=2;function a(t,e,n){const o=t[e],l=o.columns[n],r=h(l),s=o.sort(r).slice(0,10);return s.columns=o.columns,s}let f=async function(){n(4,s=await Promise.all(o.map((t=>(async t=>{const e=await fetch(t),n=await e.text(),[o,...l]=n.split("\n").filter((t=>t)).map((t=>t.split(/\s*,\s*/))),r=l.map((t=>t.reduce(((t,e,n)=>(t[o[n]]=e,t)),{})));return Object.defineProperty(r,"columns",{enumerable:!1,writable:!0}),r.columns=o,r})(`data/mumsnet/${t}.csv`))))),i(mt,l=a(s,r,u),l)}();const h=t=>(e,n)=>parseInt(e[t])>parseInt(n[t])?-1:parseInt(e[t])<parseInt(n[t])?1:0;return t.$$.update=()=>{81&t.$$.dirty&&s&&i(mt,l=a(s,r,u),l)},[u,l,f,t=>{0!==t&&n(0,u=t)}]}class Jt extends ut{constructor(t){super(),it(this,t,Ut,Yt,s,{})}}function Qt(t,e,n){const o=t.slice();return o[3]=e[n],o[5]=n,o}function Vt(t){let e,n,o;return{c(){e=b("rect"),w(e,"width","5"),w(e,"height","5"),w(e,"x",n=t[5]%10*10+1),w(e,"y",o=10*Math.floor((99-t[5])/10)+1),w(e,"class","svelte-1csbitr"),j(e,"filled",t[5]+1<=100*t[0]/t[2]),j(e,"baseline",t[5]+1<=100*t[1]/t[2])},m(t,n){m(t,e,n)},p(t,n){5&n&&j(e,"filled",t[5]+1<=100*t[0]/t[2]),6&n&&j(e,"baseline",t[5]+1<=100*t[1]/t[2])},d(t){t&&g(e)}}}function Wt(e){let n,o=Array(100),l=[];for(let t=0;t<o.length;t+=1)l[t]=Vt(Qt(e,o,t));return{c(){n=b("svg");for(let t=0;t<l.length;t+=1)l[t].c();w(n,"viewBox","0 0 100 100")},m(t,e){m(t,n,e);for(let t=0;t<l.length;t+=1)l[t].m(n,null)},p(t,[e]){if(7&e){let r;for(o=Array(100),r=0;r<o.length;r+=1){const s=Qt(t,o,r);l[r]?l[r].p(s,e):(l[r]=Vt(s),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=o.length}},i:t,o:t,d(t){t&&g(n),$(l,t)}}}function Gt(t,e,n){let{number:o}=e,{reference:l}=e,{total:r=100}=e;return t.$$set=t=>{"number"in t&&n(0,o=t.number),"reference"in t&&n(1,l=t.reference),"total"in t&&n(2,r=t.total)},[o,l,r]}class Xt extends ut{constructor(t){super(),it(this,t,Gt,Wt,s,{number:0,reference:1,total:2})}}const Zt=t=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(t));function te(t,e,n){const o=t.slice();return o[7]=e[n].title,o[8]=e[n].number,o[9]=e[n].reference,o}function ee(t,e,n){const o=t.slice();return o[12]=e[n],o}function ne(t,e,n){const o=t.slice();return o[12]=e[n],o}function oe(t){let e,n,o,l=t[12]+"";return{c(){e=v("option"),n=x(l),e.__value=o=t[12],e.value=e.__value},m(t,o){m(t,e,o),p(e,n)},p(t,r){2&r&&l!==(l=t[12]+"")&&k(n,l),2&r&&o!==(o=t[12])&&(e.__value=o,e.value=e.__value)},d(t){t&&g(e)}}}function le(t){let e,n,o,l,r,s,c,i,u,a,f=t[1],h=[];for(let e=0;e<f.length;e+=1)h[e]=re(ee(t,f,e));return{c(){e=v("div"),n=v("label"),n.textContent="Comparison",o=y(),l=b("svg"),r=b("rect"),s=y(),c=v("select"),i=v("option"),i.textContent="None";for(let t=0;t<h.length;t+=1)h[t].c();w(n,"for","comarison-segment"),w(r,"class","baseline"),w(r,"width","10"),w(r,"height","10"),w(l,"width","10"),w(l,"viewBox","0 0 10 10"),i.__value="None",i.value=i.__value,w(c,"id","comparison-segment"),void 0===t[4]&&H((()=>t[6].call(c))),w(e,"class","selector")},m(f,d){m(f,e,d),p(e,n),p(e,o),p(e,l),p(l,r),p(e,s),p(e,c),p(c,i);for(let t=0;t<h.length;t+=1)h[t].m(c,null);T(c,t[4]),u||(a=_(c,"change",t[6]),u=!0)},p(t,e){if(2&e){let n;for(f=t[1],n=0;n<f.length;n+=1){const o=ee(t,f,n);h[n]?h[n].p(o,e):(h[n]=re(o),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}18&e&&T(c,t[4])},d(t){t&&g(e),$(h,t),u=!1,a()}}}function re(t){let e,n,o,l=t[12]+"";return{c(){e=v("option"),n=x(l),e.__value=o=t[12],e.value=e.__value},m(t,o){m(t,e,o),p(e,n)},p(t,r){2&r&&l!==(l=t[12]+"")&&k(n,l),2&r&&o!==(o=t[12])&&(e.__value=o,e.value=e.__value)},d(t){t&&g(e)}}}function se(t){let e,n,o,l,r,s,c,i,u,a,f,h,d,$=t[7]+"",b=t[8]+"";return n=new Xt({props:{number:t[8],reference:t[9]}}),{c(){e=v("section"),lt(n.$$.fragment),o=y(),l=v("p"),r=x($),s=y(),c=v("p"),i=x(b),u=x("% of "),a=x(t[3]),f=x(" respondents"),h=y(),w(c,"class","summary"),w(e,"class","response")},m(t,g){m(t,e,g),rt(n,e,null),p(e,o),p(e,l),p(l,r),p(e,s),p(e,c),p(c,i),p(c,u),p(c,a),p(c,f),p(e,h),d=!0},p(t,e){const o={};4&e&&(o.number=t[8]),4&e&&(o.reference=t[9]),n.$set(o),(!d||4&e)&&$!==($=t[7]+"")&&k(r,$),(!d||4&e)&&b!==(b=t[8]+"")&&k(i,b),(!d||8&e)&&k(a,t[3])},i(t){d||(X(n.$$.fragment,t),d=!0)},o(t){Z(n.$$.fragment,t),d=!1},d(t){t&&g(e),st(n)}}}function ce(t){let e,n,o,l,r,s,c,i,u,a,f,h,d,C,j,q,E,A,P,M,S,O,B,K,L,N=t[0].q+"",D=t[0].r+"",I=Zt(t[0].d)+"",R=t[1],z=[];for(let e=0;e<R.length;e+=1)z[e]=oe(ne(t,R,e));let F="All"!=t[3]&&le(t),Y=t[2],U=[];for(let e=0;e<Y.length;e+=1)U[e]=se(te(t,Y,e));const J=t=>Z(U[t],1,1,(()=>{U[t]=null}));return{c(){e=v("section"),n=v("h3"),o=x(N),l=y(),r=v("div"),s=v("label"),s.textContent="Segment",c=y(),i=b("svg"),u=b("rect"),a=y(),f=v("select");for(let t=0;t<z.length;t+=1)z[t].c();h=y(),F&&F.c(),d=y(),C=v("div");for(let t=0;t<U.length;t+=1)U[t].c();j=y(),q=v("p"),E=x("Total respondents "),A=x(D),P=y(),M=v("p"),S=x("Question asked on "),O=x(I),w(s,"for","primary-segment"),w(u,"class","filled"),w(u,"width","10"),w(u,"height","10"),w(i,"width","10"),w(i,"viewBox","0 0 10 10"),w(f,"id","primary-segment"),void 0===t[3]&&H((()=>t[5].call(f))),w(r,"class","selector"),w(C,"class","grid")},m(g,$){m(g,e,$),p(e,n),p(n,o),p(e,l),p(e,r),p(r,s),p(r,c),p(r,i),p(i,u),p(r,a),p(r,f);for(let t=0;t<z.length;t+=1)z[t].m(f,null);T(f,t[3]),p(e,h),F&&F.m(e,null),p(e,d),p(e,C);for(let t=0;t<U.length;t+=1)U[t].m(C,null);p(e,j),p(e,q),p(q,E),p(q,A),p(e,P),p(e,M),p(M,S),p(M,O),B=!0,K||(L=_(f,"change",t[5]),K=!0)},p(t,[n]){if((!B||1&n)&&N!==(N=t[0].q+"")&&k(o,N),2&n){let e;for(R=t[1],e=0;e<R.length;e+=1){const o=ne(t,R,e);z[e]?z[e].p(o,n):(z[e]=oe(o),z[e].c(),z[e].m(f,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=R.length}if(10&n&&T(f,t[3]),"All"!=t[3]?F?F.p(t,n):(F=le(t),F.c(),F.m(e,d)):F&&(F.d(1),F=null),12&n){let e;for(Y=t[2],e=0;e<Y.length;e+=1){const o=te(t,Y,e);U[e]?(U[e].p(o,n),X(U[e],1)):(U[e]=se(o),U[e].c(),X(U[e],1),U[e].m(C,null))}for(W(),e=Y.length;e<U.length;e+=1)J(e);G()}(!B||1&n)&&D!==(D=t[0].r+"")&&k(A,D),(!B||1&n)&&I!==(I=Zt(t[0].d)+"")&&k(O,I)},i(t){if(!B){for(let t=0;t<Y.length;t+=1)X(U[t]);B=!0}},o(t){U=U.filter(Boolean);for(let t=0;t<U.length;t+=1)Z(U[t]);B=!1},d(t){t&&g(e),$(z,t),F&&F.d(),$(U,t),K=!1,L()}}}function ie(t,e,n){let o,{question:l}=e,{keys:r}=e,s="All",c="All";return t.$$set=t=>{"question"in t&&n(0,l=t.question),"keys"in t&&n(1,r=t.keys)},t.$$.update=()=>{if(27&t.$$.dirty){const t=r.indexOf(s),e=r.indexOf(c);n(2,o=l.a.map((({t:n,d:o})=>({title:n,number:o[t],reference:0!==t?o[e]:void 0}))))}},[l,r,o,s,c,function(){s=C(this),n(3,s),n(1,r)},function(){c=C(this),n(4,c),n(1,r)}]}class ue extends ut{constructor(t){super(),it(this,t,ie,ce,s,{question:0,keys:1})}}const ae=dt();function fe(t,e,n){const o=t.slice();return o[3]=e[n],o}function he(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function de(t){let e,n,o=t[0].q,l=[];for(let e=0;e<o.length;e+=1)l[e]=pe(fe(t,o,e));const r=t=>Z(l[t],1,1,(()=>{l[t]=null}));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=x("")},m(t,o){for(let e=0;e<l.length;e+=1)l[e].m(t,o);m(t,e,o),n=!0},p(t,n){if(1&n){let s;for(o=t[0].q,s=0;s<o.length;s+=1){const r=fe(t,o,s);l[s]?(l[s].p(r,n),X(l[s],1)):(l[s]=pe(r),l[s].c(),X(l[s],1),l[s].m(e.parentNode,e))}for(W(),s=o.length;s<l.length;s+=1)r(s);G()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)X(l[t]);n=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)Z(l[t]);n=!1},d(t){$(l,t),t&&g(e)}}}function pe(t){let e,n;return e=new ue({props:{question:t[3],keys:t[0].k}}),{c(){lt(e.$$.fragment)},m(t,o){rt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.question=t[3]),1&n&&(o.keys=t[0].k),e.$set(o)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function me(e){let n;return{c(){n=v("p"),n.textContent="Loading data file"},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function ge(t){let e,n,o,l,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:me,then:de,catch:he,blocks:[,,,]};return nt(l=t[1],s),{c(){e=v("section"),n=v("h2"),n.textContent="The Teacher's Perspective",o=y(),s.block.c(),w(e,"class","teachertapp")},m(t,l){m(t,e,l),p(e,n),p(e,o),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const o=(t=e).slice();s.block.p(o,n)}},i(t){r||(X(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(s.blocks[t])}r=!1},d(t){t&&g(e),s.block.d(),s.token=null,s=null}}}function $e(t,e,n){let o;c(t,ae,(t=>n(0,o=t)));const l=(async()=>{i(ae,o=await(async t=>(await fetch(t)).json())("data/teacher-tapp/questions.json"),o)})();return[o,l]}class ve extends ut{constructor(t){super(),it(this,t,$e,ge,s,{})}}function be(e){let n,o,l,r,s,c,i,u,a,f,h;return n=new Tt({}),l=new wt({}),c=new ft({}),u=new Jt({}),f=new ve({}),{c(){lt(n.$$.fragment),o=y(),lt(l.$$.fragment),r=y(),s=v("main"),lt(c.$$.fragment),i=y(),lt(u.$$.fragment),a=y(),lt(f.$$.fragment),w(s,"role","main")},m(t,e){rt(n,t,e),m(t,o,e),rt(l,t,e),m(t,r,e),m(t,s,e),rt(c,s,null),p(s,i),rt(u,s,null),p(s,a),rt(f,s,null),h=!0},p:t,i(t){h||(X(n.$$.fragment,t),X(l.$$.fragment,t),X(c.$$.fragment,t),X(u.$$.fragment,t),X(f.$$.fragment,t),h=!0)},o(t){Z(n.$$.fragment,t),Z(l.$$.fragment,t),Z(c.$$.fragment,t),Z(u.$$.fragment,t),Z(f.$$.fragment,t),h=!1},d(t){st(n,t),t&&g(o),st(l,t),t&&g(r),t&&g(s),st(c),st(u),st(f)}}}new class extends ut{constructor(t){super(),it(this,t,null,be,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
