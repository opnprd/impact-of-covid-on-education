!function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(r)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),f=a?t=>requestAnimationFrame(t):t;const h=new Set;function d(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&f(d)}function p(t){let e;return 0===h.size&&f(d),{promise:new Promise((n=>{h.add(e={c:t,f:n})})),abort(){h.delete(e)}}}function m(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function x(){return w(" ")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e){t.value=null==e?"":e}function A(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function E(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function P(t,e,n){t.classList[n?"add":"remove"](e)}const q=new Set;let S,B=0;function M(t,e,n,r,o,l,s,c=0){const i=16.666/r;let a="{\n";for(let t=0;t<=1;t+=i){const r=e+(n-e)*l(t);a+=100*t+`%{${s(r,1-r)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,h=t.ownerDocument;q.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(v("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${f} ${r}ms linear ${o}ms 1 both`,B+=1,f}function j(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),B-=o,B||f((()=>{B||(q.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),q.clear())})))}function O(t){S=t}function I(){if(!S)throw new Error("Function called outside component initialization");return S}const D=[],N=[],L=[],R=[],H=Promise.resolve();let Y=!1;function z(t){L.push(t)}let F=!1;const K=new Set;function G(){if(!F){F=!0;do{for(let t=0;t<D.length;t+=1){const e=D[t];O(e),W(e.$$)}for(O(null),D.length=0;N.length;)N.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];K.has(e)||(K.add(e),e())}L.length=0}while(D.length);for(;R.length;)R.pop()();Y=!1,F=!1,K.clear()}}function W(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}let J;function Q(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const U=new Set;let V;function X(){V={r:0,c:[],p:V}}function Z(){V.r||l(V.c),V=V.p}function tt(t,e){t&&t.i&&(U.delete(t),t.i(e))}function et(t,e,n,r){if(t&&t.o){if(U.has(t))return;U.add(t),V.c.push((()=>{U.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const nt={duration:0};function rt(n,r,o,c){let i=r(n,o),a=c?0:1,f=null,h=null,d=null;function m(){d&&j(n,d)}function g(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(r){const{delay:o=0,duration:s=300,easing:c=e,tick:$=t,css:b}=i||nt,v={start:u()+o,b:r};r||(v.group=V,V.r+=1),f||h?h=v:(b&&(m(),d=M(n,a,r,s,o,c,b)),r&&$(0,1),f=g(v,s),z((()=>Q(n,r,"start"))),p((t=>{if(h&&t>h.start&&(f=g(h,s),h=null,Q(n,f.b,"start"),b&&(m(),d=M(n,a,f.b,f.duration,0,c,i.css))),f)if(t>=f.end)$(a=f.b,1-a),Q(n,f.b,"end"),h||(f.b?m():--f.group.r||l(f.group.c)),f=null;else if(t>=f.start){const e=t-f.start;a=f.a+f.d*c(e/f.duration),$(a,1-a)}return!(!f&&!h)})))}return{run(t){s(i)?(J||(J=Promise.resolve(),J.then((()=>{J=null}))),J).then((()=>{i=i(),$(t)})):$(t)},end(){m(),f=h=null}}}function ot(t,e){const n=e.token={};function r(t,r,o,l){if(e.token!==n)return;e.resolved=l;let s=e.ctx;void 0!==o&&(s=s.slice(),s[o]=l);const c=t&&(e.current=t)(s);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(X(),et(t,1,1,(()=>{e.blocks[n]=null})),Z())})):e.block.d(1),c.c(),tt(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[r]=c),i&&G()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=I();if(t.then((t=>{O(n),r(e.then,1,e.value,t),O(null)}),(t=>{if(O(n),r(e.catch,2,e.error,t),O(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}const lt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function st(t){t&&t.c()}function ct(t,e,n){const{fragment:o,on_mount:c,on_destroy:i,after_update:a}=t.$$;o&&o.m(e,n),z((()=>{const e=c.map(r).filter(s);i?i.push(...e):l(e),t.$$.on_mount=[]})),a.forEach(z)}function it(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){-1===t.$$.dirty[0]&&(D.push(t),Y||(Y=!0,H.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(e,n,r,s,c,i,a=[-1]){const u=S;O(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a,skip_bound:!1};let d=!1;if(h.ctx=r?r(e,f,((t,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),d&&at(e,t)),n})):[],h.update(),d=!0,l(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach($)}else h.fragment&&h.fragment.c();n.intro&&tt(e.$$.fragment),ct(e,n.target,n.anchor),G()}O(u)}class ft{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ht=async t=>{const e=await fetch(t),n=await e.text(),[r,...o]=n.split("\n").filter((t=>t)).map((t=>t.split(/\s*,\s*/))),l=o.map((t=>t.reduce(((t,e,n)=>(t[r[n]]=e,t)),{})));return Object.defineProperty(l,"columns",{enumerable:!1,writable:!0}),l.columns=r,l};function dt(e){let n,r,o;return{c(){n=y("svg"),r=y("rect"),k(r,"x","0"),k(r,"y","0"),k(r,"width",o=e[0]/e[1]),k(r,"height","1"),k(n,"viewBox","0 0 1 1"),k(n,"preserveAspectRatio","xMidYMin slice")},m(t,e){g(t,n,e),m(n,r)},p(t,[e]){3&e&&o!==(o=t[0]/t[1])&&k(r,"width",o)},i:t,o:t,d(t){t&&$(n)}}}function pt(t,e,n){let{value:r}=e,{max:o=100}=e;return t.$$set=t=>{"value"in t&&n(0,r=t.value),"max"in t&&n(1,o=t.max)},[r,o]}class mt extends ft{constructor(t){super(),ut(this,t,pt,dt,c,{value:0,max:1})}}function gt(t,e,n){const r=t.slice();return r[12]=e[n].channel,r[13]=e[n].value,r}function $t(t,e,n){const r=t.slice();return r[12]=e[n].channel,r[13]=e[n].value,r}function bt(t,e,n){const r=t.slice();return r[12]=e[n].channel,r[13]=e[n].value,r}function vt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function yt(t){let e,n,r,o,s,c,i,a,u,f,h,d,p,y,A,E,P,q,S,B,M,j,O,I,D,N,L,R,H,Y,z,F,K,G,W,J,Q,U,V,nt,rt=t[2].date+"",ot=t[4]?"Stop":"Play",lt=t[2]["Total referrals"]+"",at=t[2]["Total referrals"]+"";O=new mt({props:{value:t[2]["Total referrals"],max:t[3]}});let ut=t[5],ft=[];for(let e=0;e<ut.length;e+=1)ft[e]=wt(bt(t,ut,e));const ht=t=>et(ft[t],1,1,(()=>{ft[t]=null}));let dt=t[6],pt=[];for(let e=0;e<dt.length;e+=1)pt[e]=xt($t(t,dt,e));const vt=t=>et(pt[t],1,1,(()=>{pt[t]=null}));let yt=t[7],kt=[];for(let e=0;e<yt.length;e+=1)kt[e]=_t(gt(t,yt,e));const Ct=t=>et(kt[t],1,1,(()=>{kt[t]=null}));return{c(){e=v("ul"),n=v("li"),r=w("Week ending "),o=w(rt),s=x(),c=v("li"),i=v("button"),a=w(ot),u=x(),f=v("input"),d=x(),p=v("li"),y=w(lt),A=x(),E=v("li"),P=w("Breakdown by channel\n        "),q=v("table"),S=v("tr"),B=v("td"),B.textContent="All Channels",M=x(),j=v("td"),st(O.$$.fragment),I=x(),D=v("td"),N=w(at),L=x();for(let t=0;t<ft.length;t+=1)ft[t].c();R=x(),H=v("li"),Y=v("p"),Y.textContent="Reasons",z=x(),F=v("table");for(let t=0;t<pt.length;t+=1)pt[t].c();K=x(),G=v("li"),W=v("p"),W.textContent="Priority Group",J=x(),Q=v("table");for(let t=0;t<kt.length;t+=1)kt[t].c();k(f,"type","range"),k(f,"min","0"),k(f,"max",h=t[0].length-1),k(f,"step","1"),k(j,"class","wider"),k(e,"class","svelte-124jluz")},m(l,h){g(l,e,h),m(e,n),m(n,r),m(n,o),m(e,s),m(e,c),m(c,i),m(i,a),m(c,u),m(c,f),T(f,t[1]),m(e,d),m(e,p),m(p,y),m(e,A),m(e,E),m(E,P),m(E,q),m(q,S),m(S,B),m(S,M),m(S,j),ct(O,j,null),m(S,I),m(S,D),m(D,N),m(q,L);for(let t=0;t<ft.length;t+=1)ft[t].m(q,null);m(e,R),m(e,H),m(H,Y),m(H,z),m(H,F);for(let t=0;t<pt.length;t+=1)pt[t].m(F,null);m(e,K),m(e,G),m(G,W),m(G,J),m(G,Q);for(let t=0;t<kt.length;t+=1)kt[t].m(Q,null);U=!0,V||(nt=[_(i,"click",t[9]),_(f,"change",t[10]),_(f,"input",t[10])],V=!0)},p(t,e){(!U||4&e)&&rt!==(rt=t[2].date+"")&&C(o,rt),(!U||16&e)&&ot!==(ot=t[4]?"Stop":"Play")&&C(a,ot),(!U||1&e&&h!==(h=t[0].length-1))&&k(f,"max",h),2&e&&T(f,t[1]),(!U||4&e)&&lt!==(lt=t[2]["Total referrals"]+"")&&C(y,lt);const n={};if(4&e&&(n.value=t[2]["Total referrals"]),8&e&&(n.max=t[3]),O.$set(n),(!U||4&e)&&at!==(at=t[2]["Total referrals"]+"")&&C(N,at),40&e){let n;for(ut=t[5],n=0;n<ut.length;n+=1){const r=bt(t,ut,n);ft[n]?(ft[n].p(r,e),tt(ft[n],1)):(ft[n]=wt(r),ft[n].c(),tt(ft[n],1),ft[n].m(q,null))}for(X(),n=ut.length;n<ft.length;n+=1)ht(n);Z()}if(64&e){let n;for(dt=t[6],n=0;n<dt.length;n+=1){const r=$t(t,dt,n);pt[n]?(pt[n].p(r,e),tt(pt[n],1)):(pt[n]=xt(r),pt[n].c(),tt(pt[n],1),pt[n].m(F,null))}for(X(),n=dt.length;n<pt.length;n+=1)vt(n);Z()}if(128&e){let n;for(yt=t[7],n=0;n<yt.length;n+=1){const r=gt(t,yt,n);kt[n]?(kt[n].p(r,e),tt(kt[n],1)):(kt[n]=_t(r),kt[n].c(),tt(kt[n],1),kt[n].m(Q,null))}for(X(),n=yt.length;n<kt.length;n+=1)Ct(n);Z()}},i(t){if(!U){tt(O.$$.fragment,t);for(let t=0;t<ut.length;t+=1)tt(ft[t]);for(let t=0;t<dt.length;t+=1)tt(pt[t]);for(let t=0;t<yt.length;t+=1)tt(kt[t]);U=!0}},o(t){et(O.$$.fragment,t),ft=ft.filter(Boolean);for(let t=0;t<ft.length;t+=1)et(ft[t]);pt=pt.filter(Boolean);for(let t=0;t<pt.length;t+=1)et(pt[t]);kt=kt.filter(Boolean);for(let t=0;t<kt.length;t+=1)et(kt[t]);U=!1},d(t){t&&$(e),it(O),b(ft,t),b(pt,t),b(kt,t),V=!1,l(nt)}}}function wt(t){let e,n,r,o,l,s,c,i,a,u,f,h=t[12]+"",d=t[13]+"";return s=new mt({props:{value:t[13],max:t[3]}}),{c(){e=v("tr"),n=v("td"),r=w(h),o=x(),l=v("td"),st(s.$$.fragment),c=x(),i=v("td"),a=w(d),u=x(),k(l,"class","wider")},m(t,h){g(t,e,h),m(e,n),m(n,r),m(e,o),m(e,l),ct(s,l,null),m(e,c),m(e,i),m(i,a),m(e,u),f=!0},p(t,e){(!f||32&e)&&h!==(h=t[12]+"")&&C(r,h);const n={};32&e&&(n.value=t[13]),8&e&&(n.max=t[3]),s.$set(n),(!f||32&e)&&d!==(d=t[13]+"")&&C(a,d)},i(t){f||(tt(s.$$.fragment,t),f=!0)},o(t){et(s.$$.fragment,t),f=!1},d(t){t&&$(e),it(s)}}}function xt(t){let e,n,r,o,l,s,c,i,a,u,f,h,d=t[12]+"",p=t[13]+"";return s=new mt({props:{value:t[13]}}),{c(){e=v("tr"),n=v("td"),r=w(d),o=x(),l=v("td"),st(s.$$.fragment),c=x(),i=v("td"),a=w(p),u=w("%"),f=x(),k(l,"class","wider")},m(t,d){g(t,e,d),m(e,n),m(n,r),m(e,o),m(e,l),ct(s,l,null),m(e,c),m(e,i),m(i,a),m(i,u),m(e,f),h=!0},p(t,e){(!h||64&e)&&d!==(d=t[12]+"")&&C(r,d);const n={};64&e&&(n.value=t[13]),s.$set(n),(!h||64&e)&&p!==(p=t[13]+"")&&C(a,p)},i(t){h||(tt(s.$$.fragment,t),h=!0)},o(t){et(s.$$.fragment,t),h=!1},d(t){t&&$(e),it(s)}}}function _t(t){let e,n,r,o,l,s,c,i,a,u,f,h,d=t[12]+"",p=t[13]+"";return s=new mt({props:{value:t[13]}}),{c(){e=v("tr"),n=v("td"),r=w(d),o=x(),l=v("td"),st(s.$$.fragment),c=x(),i=v("td"),a=w(p),u=w("%"),f=x(),k(l,"class","wider")},m(t,d){g(t,e,d),m(e,n),m(n,r),m(e,o),m(e,l),ct(s,l,null),m(e,c),m(e,i),m(i,a),m(i,u),m(e,f),h=!0},p(t,e){(!h||128&e)&&d!==(d=t[12]+"")&&C(r,d);const n={};128&e&&(n.value=t[13]),s.$set(n),(!h||128&e)&&p!==(p=t[13]+"")&&C(a,p)},i(t){h||(tt(s.$$.fragment,t),h=!0)},o(t){et(s.$$.fragment,t),h=!1},d(t){t&&$(e),it(s)}}}function kt(e){let n;return{c(){n=v("p"),n.textContent="Loading data..."},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function Ct(t){let e,n,r,o,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:kt,then:yt,catch:vt,blocks:[,,,]};return ot(o=t[8],s),{c(){e=v("section"),n=v("h2"),n.textContent="The Child's Perspective",r=x(),s.block.c(),k(e,"class","barnardos")},m(t,o){g(t,e,o),m(e,n),m(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,l=!0},p(e,[n]){{const r=(t=e).slice();s.block.p(r,n)}},i(t){l||(tt(s.block),l=!0)},o(t){for(let t=0;t<3;t+=1){et(s.blocks[t])}l=!1},d(t){t&&$(e),s.block.d(),s.token=null,s=null}}}function Tt(t,e,n){let r,o,l=0,s={},c=0,i=[],a=[],u=[];const f=(async()=>{n(0,r=await ht("data/barnardos/referrals.csv")),n(1,l=r.length-1)})();return t.$$.update=()=>{if(7&t.$$.dirty&&r){n(3,c=Math.max(...r.map((t=>t["Total referrals"])))),n(2,s=r[l]);const t=t=>({channel:t,value:s[t]});n(5,i=["Approved Delivery Partner","Professional","Guardian","Self"].map(t)),n(6,a=["Child mental health","Isolation & loneliness","Barriers to reintegration to education","Parenting support","Parent mental health","Barriers to engagement with support services","Impact of caring responsibilities","Concerns about children outside the home","Other","Exposure to online harm","Child protection or safeguarding concerns referred to Statutory Agencies"].map(t)),n(7,u=["Child mental health","BAMER","Children with SEN","Children under 5","At risk of (outside) exploitation","Young carers"].map(t))}},[r,l,s,c,o,i,a,u,f,()=>{if(o)return window.clearInterval(o),void n(4,o=void 0);n(4,o=window.setInterval((()=>{n(1,l=(l+1)%r.length)}),500))},function(){var t;t=this.value,l=""===t?null:+t,n(1,l)}]}class At extends ft{constructor(t){super(),ut(this,t,Tt,Ct,c,{})}}const Et=[];function Pt(e,n=t){let r;const o=[];function l(t){if(c(e,t)&&(e=t,r)){const t=!Et.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Et.push(n,e)}if(t){for(let t=0;t<Et.length;t+=2)Et[t][0](Et[t+1]);Et.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,c=t){const i=[s,c];return o.push(i),1===o.length&&(r=n(l)||t),s(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function qt(t){const e=t-1;return e*e*e+1}function St(t){return"[object Date]"===Object.prototype.toString.call(t)}function Bt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Bt(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(St(t)&&St(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Bt(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}const{window:Mt}=lt;function jt(e){let n,r,o,s,c,i,a,u,f,h,d,p,b,y,T,A,E,q,S,B,M,j,O,I,D,N,L,R,H,Y,z,F=e[0]?"Hide":"Show";return{c(){n=v("button"),r=w(F),o=w(" ToC"),s=x(),c=v("aside"),i=v("section"),a=v("h2"),a.textContent="The Child's Perspective",u=x(),f=v("p"),f.textContent="This data results from analysis of referral data from the Barnardo's See,\n      Hear, Respond initiative.",h=x(),d=v("p"),d.textContent="You can scroll through the available data by dragging the slider. Pressing\n      the Play button will animate the display.",p=x(),b=v("section"),y=v("h2"),y.textContent="The Parent's Perspective",T=x(),A=v("p"),A.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",E=x(),q=v("p"),q.textContent="You can select either 'Tokens' for single words or 'Bigrams' for pairs of\n      words. Clicking the column title will sort the terms by the prevalence in\n      that month. The number of terms will be limited to the top 10.",S=x(),B=v("section"),M=v("h2"),M.textContent="The Teacher's Perspective",j=x(),O=v("p"),O.textContent="We commissioned a series of surveys with Teacher Tapp. TKTKTK",I=x(),D=v("p"),D.textContent="The square charts show the percentage of respondents who selected that\n      option. Each square represents 1 percent.",N=x(),L=v("p"),L.textContent="The surveys returned by the teachers have been segmented during analysis.\n      Select a segment to drill down into the results.",R=x(),H=v("p"),H.textContent="You can comare this result against another segment with the select box\n      that appears. The baseline figure will appear as a solid border on the\n      chart.",k(n,"class","toc-display"),P(i,"hidden",e[1][0]),P(b,"hidden",e[1][1]),P(B,"hidden",e[1][2]),P(c,"open",e[0])},m(t,l){g(t,n,l),m(n,r),m(n,o),g(t,s,l),g(t,c,l),m(c,i),m(i,a),m(i,u),m(i,f),m(i,h),m(i,d),m(c,p),m(c,b),m(b,y),m(b,T),m(b,A),m(b,E),m(b,q),m(c,S),m(c,B),m(B,M),m(B,j),m(B,O),m(B,I),m(B,D),m(B,N),m(B,L),m(B,R),m(B,H),Y||(z=[_(Mt,"scroll",e[3]),_(n,"click",e[5]),_(a,"click",e[4](0)),_(y,"click",e[4](1)),_(M,"click",e[4](2))],Y=!0)},p(t,[e]){1&e&&F!==(F=t[0]?"Hide":"Show")&&C(r,F),2&e&&P(i,"hidden",t[1][0]),2&e&&P(b,"hidden",t[1][1]),2&e&&P(B,"hidden",t[1][2]),1&e&&P(c,"open",t[0])},i:t,o:t,d(t){t&&$(n),t&&$(s),t&&$(c),Y=!1,l(z)}}}function Ot(t,r,o){let l,s=!1;const c=function(t,r={}){const o=Pt(t);let l,s=t;function c(c,i){if(null==t)return o.set(t=c),Promise.resolve();s=c;let a=l,f=!1,{delay:h=0,duration:d=400,easing:m=e,interpolate:g=Bt}=n(n({},r),i);if(0===d)return a&&(a.abort(),a=null),o.set(t=s),Promise.resolve();const $=u()+h;let b;return l=p((e=>{if(e<$)return!0;f||(b=g(t,c),"function"==typeof d&&(d=d(t,c)),f=!0),a&&(a.abort(),a=null);const n=e-$;return n>d?(o.set(t=c),!1):(o.set(t=b(m(n/d))),!0)})),l.promise}return{set:c,update:(e,n)=>c(e(s,t),n),subscribe:o.subscribe}}(window.scrollX,{duration:750,easing:qt});i(t,c,(t=>o(6,l=t)));let a=[];const f=()=>{const t=document.querySelectorAll("main section h2");return Array.from(t).map((t=>t.offsetTop))},h=()=>{const t=f(),e=window.scrollY+160;o(1,a=t.map(((t,n,r)=>!(e>t&&!(e>r[n+1])))))};var d;d=()=>{h()},I().$$.after_update.push(d);return t.$$.update=()=>{64&t.$$.dirty&&window.scrollTo(0,l)},[s,a,c,()=>h(),t=>()=>{const e=f();c.set(e[t]-80)},()=>o(0,s=!s)]}class It extends ft{constructor(t){super(),ut(this,t,Ot,jt,c,{})}}function Dt(e){let n;return{c(){n=v("header"),n.innerHTML="<h1>Exploring the impact of COVID-19 on Education</h1>"},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}class Nt extends ft{constructor(t){super(),ut(this,t,null,Dt,c,{})}}function Lt(t,{delay:n=0,duration:r=400,easing:o=e}){const l=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*l}}function Rt(t){let e,n,r;return{c(){e=v("div"),k(e,"class","popover")},m(n,o){g(n,e,o),e.innerHTML=t[1],r=!0},p(t,n){(!r||2&n)&&(e.innerHTML=t[1])},i(t){r||(z((()=>{n||(n=rt(e,Lt,{},!0)),n.run(1)})),r=!0)},o(t){n||(n=rt(e,Lt,{},!1)),n.run(0),r=!1},d(t){t&&$(e),t&&n&&n.end()}}}function Ht(t){let e,n,r,o,s,c,i,a=t[1]&&t[2]&&Rt(t);return{c(){e=v("div"),n=y("svg"),r=y("circle"),o=x(),a&&a.c(),k(r,"r",t[0]),k(n,"viewBox","-1 -1 2 2"),k(e,"class","container")},m(l,u){g(l,e,u),m(e,n),m(n,r),m(e,o),a&&a.m(e,null),s=!0,c||(i=[_(n,"mouseenter",t[3]),_(n,"mouseleave",t[4])],c=!0)},p(t,[n]){(!s||1&n)&&k(r,"r",t[0]),t[1]&&t[2]?a?(a.p(t,n),6&n&&tt(a,1)):(a=Rt(t),a.c(),tt(a,1),a.m(e,null)):a&&(X(),et(a,1,1,(()=>{a=null})),Z())},i(t){s||(tt(a),s=!0)},o(t){et(a),s=!1},d(t){t&&$(e),a&&a.d(),c=!1,l(i)}}}function Yt(t,e,n){let r,{radius:o}=e,{content:l}=e;return t.$$set=t=>{"radius"in t&&n(0,o=t.radius),"content"in t&&n(1,l=t.content)},[o,l,r,()=>n(2,r=!0),()=>n(2,r=!1)]}class zt extends ft{constructor(t){super(),ut(this,t,Yt,Ht,c,{radius:0,content:1})}}function Ft(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Kt(t,e,n){const r=t.slice();return r[6]=e[n],r}function Gt(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Wt(t){let e,n,r,o,l=t[9]+"";function s(...e){return t[5](t[11],...e)}return{c(){e=v("th"),n=w(l),k(e,"class","svelte-mtqint"),P(e,"selected",t[11]===t[2])},m(t,l){g(t,e,l),m(e,n),r||(o=_(e,"click",s),r=!0)},p(r,o){t=r,1&o&&l!==(l=t[9]+"")&&C(n,l),4&o&&P(e,"selected",t[11]===t[2])},d(t){t&&$(e),r=!1,o()}}}function Jt(e){let n,r=e[6][e[9]]+"";return{c(){n=w(r)},m(t,e){g(t,n,e)},p(t,e){1&e&&r!==(r=t[6][t[9]]+"")&&C(n,r)},i:t,o:t,d(t){t&&$(n)}}}function Qt(t){let e,n;return e=new zt({props:{radius:Math.sqrt(t[6][t[9]]/t[3]),content:"<p>"+t[6][t[9]]+"</p>"}}),{c(){st(e.$$.fragment)},m(t,r){ct(e,t,r),n=!0},p(t,n){const r={};9&n&&(r.radius=Math.sqrt(t[6][t[9]]/t[3])),1&n&&(r.content="<p>"+t[6][t[9]]+"</p>"),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Ut(t){let e,n,r,o,l;const s=[Qt,Jt],c=[];function i(t,e){return 1&e&&(n=!!t[4](t[6][t[9]])),n?0:1}return r=i(t,-1),o=c[r]=s[r](t),{c(){e=v("td"),o.c(),k(e,"class","svelte-mtqint"),P(e,"selected",t[11]===t[2])},m(t,n){g(t,e,n),c[r].m(e,null),l=!0},p(t,n){let l=r;r=i(t,n),r===l?c[r].p(t,n):(X(),et(c[l],1,1,(()=>{c[l]=null})),Z(),o=c[r],o||(o=c[r]=s[r](t),o.c()),tt(o,1),o.m(e,null)),4&n&&P(e,"selected",t[11]===t[2])},i(t){l||(tt(o),l=!0)},o(t){et(o),l=!1},d(t){t&&$(e),c[r].d()}}}function Vt(t){let e,n,r,o=t[0].columns,l=[];for(let e=0;e<o.length;e+=1)l[e]=Ut(Ft(t,o,e));const s=t=>et(l[t],1,1,(()=>{l[t]=null}));return{c(){e=v("tr");for(let t=0;t<l.length;t+=1)l[t].c();n=x()},m(t,o){g(t,e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null);m(e,n),r=!0},p(t,r){if(29&r){let c;for(o=t[0].columns,c=0;c<o.length;c+=1){const s=Ft(t,o,c);l[c]?(l[c].p(s,r),tt(l[c],1)):(l[c]=Ut(s),l[c].c(),tt(l[c],1),l[c].m(e,n))}for(X(),c=o.length;c<l.length;c+=1)s(c);Z()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)tt(l[t]);r=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)et(l[t]);r=!1},d(t){t&&$(e),b(l,t)}}}function Xt(t){let e,n,r,o,l,s,c=t[0].columns,i=[];for(let e=0;e<c.length;e+=1)i[e]=Wt(Gt(t,c,e));let a=t[0],u=[];for(let e=0;e<a.length;e+=1)u[e]=Vt(Kt(t,a,e));const f=t=>et(u[t],1,1,(()=>{u[t]=null}));return{c(){e=v("table"),n=v("thead"),r=v("tr");for(let t=0;t<i.length;t+=1)i[t].c();o=x(),l=v("tbody");for(let t=0;t<u.length;t+=1)u[t].c();k(e,"class","svelte-mtqint")},m(t,c){g(t,e,c),m(e,n),m(n,r);for(let t=0;t<i.length;t+=1)i[t].m(r,null);m(e,o),m(e,l);for(let t=0;t<u.length;t+=1)u[t].m(l,null);s=!0},p(t,[e]){if(7&e){let n;for(c=t[0].columns,n=0;n<c.length;n+=1){const o=Gt(t,c,n);i[n]?i[n].p(o,e):(i[n]=Wt(o),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}if(29&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const r=Kt(t,a,n);u[n]?(u[n].p(r,e),tt(u[n],1)):(u[n]=Vt(r),u[n].c(),tt(u[n],1),u[n].m(l,null))}for(X(),n=a.length;n<u.length;n+=1)f(n);Z()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)tt(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)et(u[t]);s=!1},d(t){t&&$(e),b(i,t),b(u,t)}}}function Zt(t,e,n){let{data:r}=e,{handler:o=(()=>{})}=e,{highlight:l}=e;const s=t=>!isNaN(t);let c;return t.$$set=t=>{"data"in t&&n(0,r=t.data),"handler"in t&&n(1,o=t.handler),"highlight"in t&&n(2,l=t.highlight)},t.$$.update=()=>{1&t.$$.dirty&&n(3,c=r.reduce(((t,e)=>{const n=Math.max(...Object.values(e).filter(s));return n>t?n:t}),0))},[r,o,l,c,s,t=>o(t)]}class te extends ft{constructor(t){super(),ut(this,t,Zt,Xt,c,{data:0,handler:1,highlight:2})}}function ee(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function ne(e){let n,r,o,l,s=e[14]+"";return{c(){var t,e,c;n=v("p"),n.textContent="Data not loaded!",r=x(),o=v("p"),l=w(s),t="color",e="red",n.style.setProperty(t,e,c?"important":"")},m(t,e){g(t,n,e),g(t,r,e),g(t,o,e),m(o,l)},p:t,i:t,o:t,d(t){t&&$(n),t&&$(r),t&&$(o)}}}function re(t){let e,n,r,o,l,s,c,i,a=t[3],u=[];for(let e=0;e<a.length;e+=1)u[e]=oe(ee(t,a,e));return r=new te({props:{data:t[1],handler:t[5],highlight:t[2]}}),{c(){e=v("select");for(let t=0;t<u.length;t+=1)u[t].c();n=x(),st(r.$$.fragment),o=x(),l=v("aside"),l.textContent="Data sourced from Mumsnet MI systems with kind permission.",void 0===t[0]&&z((()=>t[6].call(e)))},m(a,f){g(a,e,f);for(let t=0;t<u.length;t+=1)u[t].m(e,null);A(e,t[0]),g(a,n,f),ct(r,a,f),g(a,o,f),g(a,l,f),s=!0,c||(i=_(e,"change",t[6]),c=!0)},p(t,n){if(8&n){let r;for(a=t[3],r=0;r<a.length;r+=1){const o=ee(t,a,r);u[r]?u[r].p(o,n):(u[r]=oe(o),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}1&n&&A(e,t[0]);const o={};2&n&&(o.data=t[1]),4&n&&(o.highlight=t[2]),r.$set(o)},i(t){s||(tt(r.$$.fragment,t),s=!0)},o(t){et(r.$$.fragment,t),s=!1},d(t){t&&$(e),b(u,t),t&&$(n),it(r,t),t&&$(o),t&&$(l),c=!1,i()}}}function oe(e){let n,r,o,l=e[11].charAt(0).toUpperCase()+e[11].slice(1)+"";return{c(){n=v("option"),r=w(l),n.__value=o=e[13],n.value=n.__value},m(t,e){g(t,n,e),m(n,r)},p:t,d(t){t&&$(n)}}}function le(e){let n;return{c(){n=w("Loading data...")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function se(t){let e,n,r,o,l,s={ctx:t,current:null,token:null,hasCatch:!0,pending:le,then:re,catch:ne,error:14,blocks:[,,,]};return ot(o=t[4],s),{c(){e=v("section"),n=v("h2"),n.textContent="The Parent's Perspective",r=x(),s.block.c(),k(e,"class","mumsnet")},m(t,o){g(t,e,o),m(e,n),m(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,l=!0},p(e,[n]){{const r=(t=e).slice();r[14]=s.resolved,s.block.p(r,n)}},i(t){l||(tt(s.block),l=!0)},o(t){for(let t=0;t<3;t+=1){et(s.blocks[t])}l=!1},d(t){t&&$(e),s.block.d(),s.token=null,s=null}}}function ce(t,e,n){const r=["bigrams","tokens"];let o,l=0,s=[],c=2;function i(t,e,n){const r=t[e],o=r.columns[n],l=u(o),s=r.sort(l).slice(0,10);return s.columns=r.columns,s}let a=async function(){n(7,o=await Promise.all(r.map((t=>ht(`data/mumsnet/${t}.csv`))))),n(1,s=i(o,l,c))}();const u=t=>(e,n)=>parseInt(e[t])>parseInt(n[t])?-1:parseInt(e[t])<parseInt(n[t])?1:0;return t.$$.update=()=>{133&t.$$.dirty&&o&&n(1,s=i(o,l,c))},[l,s,c,r,a,t=>{0!==t&&n(2,c=t)},function(){l=E(this),n(0,l)}]}class ie extends ft{constructor(t){super(),ut(this,t,ce,se,c,{})}}function ae(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function ue(t){let e,n,r;return{c(){e=y("rect"),k(e,"width","5"),k(e,"height","5"),k(e,"x",n=t[5]%10*10+1),k(e,"y",r=10*Math.floor((99-t[5])/10)+1),k(e,"class","svelte-1csbitr"),P(e,"filled",t[5]+1<=100*t[0]/t[2]),P(e,"baseline",t[5]+1<=100*t[1]/t[2])},m(t,n){g(t,e,n)},p(t,n){5&n&&P(e,"filled",t[5]+1<=100*t[0]/t[2]),6&n&&P(e,"baseline",t[5]+1<=100*t[1]/t[2])},d(t){t&&$(e)}}}function fe(e){let n,r=Array(100),o=[];for(let t=0;t<r.length;t+=1)o[t]=ue(ae(e,r,t));return{c(){n=y("svg");for(let t=0;t<o.length;t+=1)o[t].c();k(n,"viewBox","0 0 100 100")},m(t,e){g(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(7&e){let l;for(r=Array(100),l=0;l<r.length;l+=1){const s=ae(t,r,l);o[l]?o[l].p(s,e):(o[l]=ue(s),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},i:t,o:t,d(t){t&&$(n),b(o,t)}}}function he(t,e,n){let{number:r}=e,{reference:o}=e,{total:l=100}=e;return t.$$set=t=>{"number"in t&&n(0,r=t.number),"reference"in t&&n(1,o=t.reference),"total"in t&&n(2,l=t.total)},[r,o,l]}class de extends ft{constructor(t){super(),ut(this,t,he,fe,c,{number:0,reference:1,total:2})}}const pe=t=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(t));function me(t,e,n){const r=t.slice();return r[7]=e[n].title,r[8]=e[n].number,r[9]=e[n].reference,r}function ge(t,e,n){const r=t.slice();return r[12]=e[n],r}function $e(t,e,n){const r=t.slice();return r[12]=e[n],r}function be(t){let e,n,r,o=t[12]+"";return{c(){e=v("option"),n=w(o),e.__value=r=t[12],e.value=e.__value},m(t,r){g(t,e,r),m(e,n)},p(t,l){2&l&&o!==(o=t[12]+"")&&C(n,o),2&l&&r!==(r=t[12])&&(e.__value=r,e.value=e.__value)},d(t){t&&$(e)}}}function ve(t){let e,n,r,o,l,s,c,i,a,u,f=t[1],h=[];for(let e=0;e<f.length;e+=1)h[e]=ye(ge(t,f,e));return{c(){e=v("div"),n=v("label"),n.textContent="Comparison",r=x(),o=y("svg"),l=y("rect"),s=x(),c=v("select"),i=v("option"),i.textContent="None";for(let t=0;t<h.length;t+=1)h[t].c();k(n,"for","comarison-segment"),k(l,"class","baseline"),k(l,"width","10"),k(l,"height","10"),k(o,"width","10"),k(o,"viewBox","0 0 10 10"),i.__value="None",i.value=i.__value,k(c,"id","comparison-segment"),void 0===t[4]&&z((()=>t[6].call(c))),k(e,"class","selector")},m(f,d){g(f,e,d),m(e,n),m(e,r),m(e,o),m(o,l),m(e,s),m(e,c),m(c,i);for(let t=0;t<h.length;t+=1)h[t].m(c,null);A(c,t[4]),a||(u=_(c,"change",t[6]),a=!0)},p(t,e){if(2&e){let n;for(f=t[1],n=0;n<f.length;n+=1){const r=ge(t,f,n);h[n]?h[n].p(r,e):(h[n]=ye(r),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}18&e&&A(c,t[4])},d(t){t&&$(e),b(h,t),a=!1,u()}}}function ye(t){let e,n,r,o=t[12]+"";return{c(){e=v("option"),n=w(o),e.__value=r=t[12],e.value=e.__value},m(t,r){g(t,e,r),m(e,n)},p(t,l){2&l&&o!==(o=t[12]+"")&&C(n,o),2&l&&r!==(r=t[12])&&(e.__value=r,e.value=e.__value)},d(t){t&&$(e)}}}function we(t){let e,n,r,o,l,s,c,i,a,u,f,h,d,p=t[7]+"",b=t[8]+"";return n=new de({props:{number:t[8],reference:t[9]}}),{c(){e=v("section"),st(n.$$.fragment),r=x(),o=v("p"),l=w(p),s=x(),c=v("p"),i=w(b),a=w("% of "),u=w(t[3]),f=w(" respondents"),h=x(),k(c,"class","summary"),k(e,"class","response")},m(t,p){g(t,e,p),ct(n,e,null),m(e,r),m(e,o),m(o,l),m(e,s),m(e,c),m(c,i),m(c,a),m(c,u),m(c,f),m(e,h),d=!0},p(t,e){const r={};4&e&&(r.number=t[8]),4&e&&(r.reference=t[9]),n.$set(r),(!d||4&e)&&p!==(p=t[7]+"")&&C(l,p),(!d||4&e)&&b!==(b=t[8]+"")&&C(i,b),(!d||8&e)&&C(u,t[3])},i(t){d||(tt(n.$$.fragment,t),d=!0)},o(t){et(n.$$.fragment,t),d=!1},d(t){t&&$(e),it(n)}}}function xe(t){let e,n,r,o,l,s,c,i,a,u,f,h,d,p,T,E,P,q,S,B,M,j,O,I,D,N=t[0].q+"",L=t[0].r+"",R=pe(t[0].d)+"",H=t[1],Y=[];for(let e=0;e<H.length;e+=1)Y[e]=be($e(t,H,e));let F="All"!=t[3]&&ve(t),K=t[2],G=[];for(let e=0;e<K.length;e+=1)G[e]=we(me(t,K,e));const W=t=>et(G[t],1,1,(()=>{G[t]=null}));return{c(){e=v("section"),n=v("h3"),r=w(N),o=x(),l=v("div"),s=v("label"),s.textContent="Segment",c=x(),i=y("svg"),a=y("rect"),u=x(),f=v("select");for(let t=0;t<Y.length;t+=1)Y[t].c();h=x(),F&&F.c(),d=x(),p=v("div");for(let t=0;t<G.length;t+=1)G[t].c();T=x(),E=v("p"),P=w("Total respondents "),q=w(L),S=x(),B=v("p"),M=w("Question asked on "),j=w(R),k(s,"for","primary-segment"),k(a,"class","filled"),k(a,"width","10"),k(a,"height","10"),k(i,"width","10"),k(i,"viewBox","0 0 10 10"),k(f,"id","primary-segment"),void 0===t[3]&&z((()=>t[5].call(f))),k(l,"class","selector"),k(p,"class","grid")},m($,b){g($,e,b),m(e,n),m(n,r),m(e,o),m(e,l),m(l,s),m(l,c),m(l,i),m(i,a),m(l,u),m(l,f);for(let t=0;t<Y.length;t+=1)Y[t].m(f,null);A(f,t[3]),m(e,h),F&&F.m(e,null),m(e,d),m(e,p);for(let t=0;t<G.length;t+=1)G[t].m(p,null);m(e,T),m(e,E),m(E,P),m(E,q),m(e,S),m(e,B),m(B,M),m(B,j),O=!0,I||(D=_(f,"change",t[5]),I=!0)},p(t,[n]){if((!O||1&n)&&N!==(N=t[0].q+"")&&C(r,N),2&n){let e;for(H=t[1],e=0;e<H.length;e+=1){const r=$e(t,H,e);Y[e]?Y[e].p(r,n):(Y[e]=be(r),Y[e].c(),Y[e].m(f,null))}for(;e<Y.length;e+=1)Y[e].d(1);Y.length=H.length}if(10&n&&A(f,t[3]),"All"!=t[3]?F?F.p(t,n):(F=ve(t),F.c(),F.m(e,d)):F&&(F.d(1),F=null),12&n){let e;for(K=t[2],e=0;e<K.length;e+=1){const r=me(t,K,e);G[e]?(G[e].p(r,n),tt(G[e],1)):(G[e]=we(r),G[e].c(),tt(G[e],1),G[e].m(p,null))}for(X(),e=K.length;e<G.length;e+=1)W(e);Z()}(!O||1&n)&&L!==(L=t[0].r+"")&&C(q,L),(!O||1&n)&&R!==(R=pe(t[0].d)+"")&&C(j,R)},i(t){if(!O){for(let t=0;t<K.length;t+=1)tt(G[t]);O=!0}},o(t){G=G.filter(Boolean);for(let t=0;t<G.length;t+=1)et(G[t]);O=!1},d(t){t&&$(e),b(Y,t),F&&F.d(),b(G,t),I=!1,D()}}}function _e(t,e,n){let r,{question:o}=e,{keys:l}=e,s="All",c="All";return t.$$set=t=>{"question"in t&&n(0,o=t.question),"keys"in t&&n(1,l=t.keys)},t.$$.update=()=>{if(27&t.$$.dirty){const t=l.indexOf(s),e=l.indexOf(c);n(2,r=o.a.map((({t:n,d:r})=>({title:n,number:r[t],reference:0!==t?r[e]:void 0}))))}},[o,l,r,s,c,function(){s=E(this),n(3,s),n(1,l)},function(){c=E(this),n(4,c),n(1,l)}]}class ke extends ft{constructor(t){super(),ut(this,t,_e,xe,c,{question:0,keys:1})}}const Ce=Pt();function Te(t,e,n){const r=t.slice();return r[3]=e[n],r}function Ae(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Ee(t){let e,n,r=t[0].q,o=[];for(let e=0;e<r.length;e+=1)o[e]=Pe(Te(t,r,e));const l=t=>et(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=w("")},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);g(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=t[0].q,s=0;s<r.length;s+=1){const l=Te(t,r,s);o[s]?(o[s].p(l,n),tt(o[s],1)):(o[s]=Pe(l),o[s].c(),tt(o[s],1),o[s].m(e.parentNode,e))}for(X(),s=r.length;s<o.length;s+=1)l(s);Z()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)tt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)et(o[t]);n=!1},d(t){b(o,t),t&&$(e)}}}function Pe(t){let e,n;return e=new ke({props:{question:t[3],keys:t[0].k}}),{c(){st(e.$$.fragment)},m(t,r){ct(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.question=t[3]),1&n&&(r.keys=t[0].k),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function qe(e){let n;return{c(){n=v("p"),n.textContent="Loading data file"},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function Se(t){let e,n,r,o,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:qe,then:Ee,catch:Ae,blocks:[,,,]};return ot(o=t[1],s),{c(){e=v("section"),n=v("h2"),n.textContent="The Teacher's Perspective",r=x(),s.block.c(),k(e,"class","teachertapp")},m(t,o){g(t,e,o),m(e,n),m(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,l=!0},p(e,[n]){{const r=(t=e).slice();s.block.p(r,n)}},i(t){l||(tt(s.block),l=!0)},o(t){for(let t=0;t<3;t+=1){et(s.blocks[t])}l=!1},d(t){t&&$(e),s.block.d(),s.token=null,s=null}}}function Be(t,e,n){let r;i(t,Ce,(t=>n(0,r=t)));const o=(async()=>{!function(t,e,n=e){t.set(n)}(Ce,r=await(async t=>(await fetch(t)).json())("data/teacher-tapp/questions.json"),r)})();return[r,o]}class Me extends ft{constructor(t){super(),ut(this,t,Be,Se,c,{})}}function je(e){let n,r,o,l,s,c,i,a,u,f,h;return n=new Nt({}),o=new It({}),c=new At({}),a=new ie({}),f=new Me({}),{c(){st(n.$$.fragment),r=x(),st(o.$$.fragment),l=x(),s=v("main"),st(c.$$.fragment),i=x(),st(a.$$.fragment),u=x(),st(f.$$.fragment),k(s,"role","main")},m(t,e){ct(n,t,e),g(t,r,e),ct(o,t,e),g(t,l,e),g(t,s,e),ct(c,s,null),m(s,i),ct(a,s,null),m(s,u),ct(f,s,null),h=!0},p:t,i(t){h||(tt(n.$$.fragment,t),tt(o.$$.fragment,t),tt(c.$$.fragment,t),tt(a.$$.fragment,t),tt(f.$$.fragment,t),h=!0)},o(t){et(n.$$.fragment,t),et(o.$$.fragment,t),et(c.$$.fragment,t),et(a.$$.fragment,t),et(f.$$.fragment,t),h=!1},d(t){it(n,t),t&&$(r),it(o,t),t&&$(l),t&&$(s),it(c),it(a),it(f)}}}new class extends ft{constructor(t){super(),ut(this,t,null,je,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
