!function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(e,t,n=t){return e.set(n),t}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),d=a?e=>requestAnimationFrame(e):e;const f=new Set;function h(e){f.forEach((t=>{t.c(e)||(f.delete(t),t.f())})),0!==f.size&&d(h)}function m(e){let t;return 0===f.size&&d(h),{promise:new Promise((n=>{f.add(t={c:e,f:n})})),abort(){f.delete(t)}}}function p(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function k(){return w(" ")}function x(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function T(e){return""===e?null:+e}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function M(e,t){e.value=null==t?"":t}function q(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function A(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function S(e,t,n){e.classList[n?"add":"remove"](t)}const E=new Set;let P,D=0;function L(e,t,n,r,o,l,s,i=0){const c=16.666/r;let a="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*l(e);a+=100*e+`%{${s(r,1-r)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${i}`,f=e.ownerDocument;E.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(v("style")).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?p+", ":""}${d} ${r}ms linear ${o}ms 1 both`,D+=1,d}function O(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),D-=o,D||d((()=>{D||(E.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),E.clear())})))}function z(e){P=e}function B(){if(!P)throw new Error("Function called outside component initialization");return P}const j=[],I=[],H=[],R=[],N=Promise.resolve();let Y=!1;function F(e){H.push(e)}let G=!1;const J=new Set;function Q(){if(!G){G=!0;do{for(let e=0;e<j.length;e+=1){const t=j[e];z(t),U(t.$$)}for(z(null),j.length=0;I.length;)I.pop()();for(let e=0;e<H.length;e+=1){const t=H[e];J.has(t)||(J.add(t),t())}H.length=0}while(j.length);for(;R.length;)R.pop()();Y=!1,G=!1,J.clear()}}function U(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}let V;function W(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const X=new Set;let K;function Z(){K={r:0,c:[],p:K}}function ee(){K.r||o(K.c),K=K.p}function te(e,t){e&&e.i&&(X.delete(e),e.i(t))}function ne(e,t,n,r){if(e&&e.o){if(X.has(e))return;X.add(e),K.c.push((()=>{X.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const re={duration:0};function oe(n,r,s,i){let c=r(n,s),a=i?0:1,d=null,f=null,h=null;function p(){h&&O(n,h)}function g(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function $(r){const{delay:l=0,duration:s=300,easing:i=t,tick:$=e,css:b}=c||re,v={start:u()+l,b:r};r||(v.group=K,K.r+=1),d||f?f=v:(b&&(p(),h=L(n,a,r,s,l,i,b)),r&&$(0,1),d=g(v,s),F((()=>W(n,r,"start"))),m((e=>{if(f&&e>f.start&&(d=g(f,s),f=null,W(n,d.b,"start"),b&&(p(),h=L(n,a,d.b,d.duration,0,i,c.css))),d)if(e>=d.end)$(a=d.b,1-a),W(n,d.b,"end"),f||(d.b?p():--d.group.r||o(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;a=d.a+d.d*i(t/d.duration),$(a,1-a)}return!(!d&&!f)})))}return{run(e){l(c)?(V||(V=Promise.resolve(),V.then((()=>{V=null}))),V).then((()=>{c=c(),$(e)})):$(e)},end(){p(),d=f=null}}}function le(e,t){const n=t.token={};function r(e,r,o,l){if(t.token!==n)return;t.resolved=l;let s=t.ctx;void 0!==o&&(s=s.slice(),s[o]=l);const i=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(Z(),ne(e,1,1,(()=>{t.blocks[n]=null})),ee())})):t.block.d(1),i.c(),te(i,1),i.m(t.mount(),t.anchor),c=!0),t.block=i,t.blocks&&(t.blocks[r]=i),c&&Q()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=B();if(e.then((e=>{z(n),r(t.then,1,t.value,e),z(null)}),(e=>{if(z(n),r(t.catch,2,t.error,e),z(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}const se="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ie(e){e&&e.c()}function ce(e,t,r){const{fragment:s,on_mount:i,on_destroy:c,after_update:a}=e.$$;s&&s.m(t,r),F((()=>{const t=i.map(n).filter(l);c?c.push(...t):o(t),e.$$.on_mount=[]})),a.forEach(F)}function ae(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ue(e,t){-1===e.$$.dirty[0]&&(j.push(e),Y||(Y=!0,N.then(Q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(t,n,l,s,i,c,a=[-1]){const u=P;z(t);const d=n.props||{},f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:a,skip_bound:!1};let h=!1;if(f.ctx=l?l(t,d,((e,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),h&&ue(t,e)),n})):[],f.update(),h=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach($)}else f.fragment&&f.fragment.c();n.intro&&te(t.$$.fragment),ce(t,n.target,n.anchor),Q()}z(u)}class fe{$destroy(){ae(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function he(t){let n,r,o,l,s,i,c,a,u;return document.title=n=t[0],{c(){r=v("link"),o=v("meta"),l=v("meta"),s=v("meta"),i=v("meta"),c=v("meta"),a=v("meta"),u=v("meta"),_(r,"href","https://odileeds.org/resources/images/favicon.ico"),_(r,"rel","shortcut icon"),_(r,"type","image/vnd.microsoft.icon"),_(o,"name","twitter:card"),_(o,"content","summary"),_(l,"name","twitter:site"),_(l,"content","@ODILeeds"),_(s,"name","twitter:url"),_(s,"property","og:url"),_(s,"content","https://odileeds.org/"),_(i,"name","twitter:title"),_(i,"property","og:title"),_(i,"content",t[0]),_(c,"name","twitter:description"),_(c,"property","og:description"),_(c,"content",t[1]),_(a,"name","twitter:image"),_(a,"property","og:image"),_(a,"content","https://odileeds.org/resources/images/odileeds.png"),_(u,"name","keywords"),_(u,"content",t[2])},m(e,t){p(document.head,r),p(document.head,o),p(document.head,l),p(document.head,s),p(document.head,i),p(document.head,c),p(document.head,a),p(document.head,u)},p(e,[t]){1&t&&n!==(n=e[0])&&(document.title=n),1&t&&_(i,"content",e[0]),2&t&&_(c,"content",e[1]),4&t&&_(u,"content",e[2])},i:e,o:e,d(e){$(r),$(o),$(l),$(s),$(i),$(c),$(a),$(u)}}}function me(e,t,n){let{title:r}=t,{description:o}=t,{keywords:l}=t;return e.$$set=e=>{"title"in e&&n(0,r=e.title),"description"in e&&n(1,o=e.description),"keywords"in e&&n(2,l=e.keywords)},[r,o,l]}class pe extends fe{constructor(e){super(),de(this,e,me,he,s,{title:0,description:1,keywords:2})}}const ge=[];function $e(t,n=e){let r;const o=[];function l(e){if(s(t,e)&&(t=e,r)){const e=!ge.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),ge.push(n,t)}if(e){for(let e=0;e<ge.length;e+=2)ge[e][0](ge[e+1]);ge.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(s,i=e){const c=[s,i];return o.push(c),1===o.length&&(r=n(l)||e),s(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function be(e){return"[object Date]"===Object.prototype.toString.call(e)}function ve(e,t,n,r){if("number"==typeof n||be(n)){const o=r-n,l=(n-t)/(e.dt||1/60),s=(l+(e.opts.stiffness*o-e.opts.damping*l)*e.inv_mass)*e.dt;return Math.abs(s)<e.opts.precision&&Math.abs(o)<e.opts.precision?r:(e.settled=!1,be(n)?new Date(n.getTime()+s):n+s)}if(Array.isArray(n))return n.map(((o,l)=>ve(e,t[l],n[l],r[l])));if("object"==typeof n){const o={};for(const l in n)o[l]=ve(e,t[l],n[l],r[l]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function ye(e,t={}){const n=$e(e),{stiffness:r=.15,damping:o=.8,precision:l=.01}=t;let s,i,c,a=e,d=e,f=1,h=0,p=!1;function g(t,r={}){d=t;const o=c={};if(null==e||r.hard||$.stiffness>=1&&$.damping>=1)return p=!0,s=u(),a=t,n.set(e=d),Promise.resolve();if(r.soft){const e=!0===r.soft?.5:+r.soft;h=1/(60*e),f=0}return i||(s=u(),p=!1,i=m((t=>{if(p)return p=!1,i=null,!1;f=Math.min(f+h,1);const r={inv_mass:f,opts:$,settled:!0,dt:60*(t-s)/1e3},o=ve(r,a,e,d);return s=t,a=e,n.set(e=o),r.settled&&(i=null),!r.settled}))),new Promise((e=>{i.promise.then((()=>{o===c&&e()}))}))}const $={set:g,update:(t,n)=>g(t(d,e),n),subscribe:n.subscribe,stiffness:r,damping:o,precision:l};return $}const we=async e=>{const t=await fetch(e),n=await t.text(),[r,...o]=n.split("\n").filter((e=>e)).map((e=>e.split(/\s*,\s*/))),l=o.map((e=>e.reduce(((e,t,n)=>(e[r[n]]=t,e)),{})));return Object.defineProperty(l,"columns",{enumerable:!1,writable:!0}),l.columns=r,l};function ke(t){let n,r,o;return{c(){n=y("svg"),r=y("rect"),_(r,"x","0"),_(r,"y","0"),_(r,"width",o=t[0]/t[1]),_(r,"height","1"),_(n,"viewBox","0 0 1 1"),_(n,"preserveAspectRatio","xMidYMin slice")},m(e,t){g(e,n,t),p(n,r)},p(e,[t]){3&t&&o!==(o=e[0]/e[1])&&_(r,"width",o)},i:e,o:e,d(e){e&&$(n)}}}function xe(e,t,n){let{value:r}=t,{max:o=100}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value),"max"in e&&n(1,o=e.max)},[r,o]}class _e extends fe{constructor(e){super(),de(this,e,xe,ke,s,{value:0,max:1})}}function Te(e){let t,n,r,o,l,s,i,c,a,u,d,f=Math.round(e[1],0)+"";return s=new _e({props:{value:e[1],max:e[2]}}),{c(){t=v("ul"),n=v("li"),r=w(e[0]),o=k(),l=v("li"),ie(s.$$.fragment),i=k(),c=v("li"),a=w(f),u=w(e[3]),_(n,"class","label svelte-mayqbk"),_(l,"class","bar svelte-mayqbk"),_(c,"class","value svelte-mayqbk"),_(t,"class","svelte-mayqbk")},m(e,f){g(e,t,f),p(t,n),p(n,r),p(t,o),p(t,l),ce(s,l,null),p(t,i),p(t,c),p(c,a),p(c,u),d=!0},p(e,[t]){(!d||1&t)&&C(r,e[0]);const n={};2&t&&(n.value=e[1]),4&t&&(n.max=e[2]),s.$set(n),(!d||2&t)&&f!==(f=Math.round(e[1],0)+"")&&C(a,f),(!d||8&t)&&C(u,e[3])},i(e){d||(te(s.$$.fragment,e),d=!0)},o(e){ne(s.$$.fragment,e),d=!1},d(e){e&&$(t),ae(s)}}}function Ce(e,t,n){let{label:r}=t,{value:o}=t,{max:l=100}=t,{unit:s=""}=t;return e.$$set=e=>{"label"in e&&n(0,r=e.label),"value"in e&&n(1,o=e.value),"max"in e&&n(2,l=e.max),"unit"in e&&n(3,s=e.unit)},[r,o,l,s]}class Me extends fe{constructor(e){super(),de(this,e,Ce,Te,s,{label:0,value:1,max:2,unit:3})}}function qe(e,t,n){const r=e.slice();return r[17]=t[n],r}function Ae(e,t,n){const r=e.slice();return r[17]=t[n],r}function Se(e,t,n){const r=e.slice();return r[17]=t[n],r}function Ee(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function Pe(e){let t,n,r,l,s,i,c,a,u,d,f,h,m,y,T,q,A,S,E,P,D,L,O,z,B,j,I,H,R,N,Y,F,G,J,Q,U,V,W,X=e[13].format(e[2][e[1]])+"",K=Math.round(e[6]["Total referrals"],0)+"",re=e[5]?"Total referrals":"Referrals / week",oe=e[4]?"Stop":"Play";I=new Me({props:{label:"All Channels",value:e[6]["Total referrals"],max:e[3]}});let le=e[9],se=[];for(let t=0;t<le.length;t+=1)se[t]=De(Se(e,le,t));const ue=e=>ne(se[e],1,1,(()=>{se[e]=null}));let de=e[11],fe=[];for(let t=0;t<de.length;t+=1)fe[t]=Le(Ae(e,de,t));const he=e=>ne(fe[e],1,1,(()=>{fe[e]=null}));let me=e[10],pe=[];for(let t=0;t<me.length;t+=1)pe[t]=Oe(qe(e,me,t));const ge=e=>ne(pe[e],1,1,(()=>{pe[e]=null}));return{c(){t=v("section"),n=v("p"),r=w(X),l=k(),s=v("p"),i=w(K),c=k(),a=v("span"),u=w(re),d=k(),f=v("section"),h=v("button"),m=w(oe),y=k(),T=v("input"),A=k(),S=v("div"),E=v("label"),E.textContent="Cumulative",P=k(),D=v("input"),L=k(),O=v("section"),z=v("div"),B=v("h3"),B.textContent="Sources of referral",j=k(),ie(I.$$.fragment),H=k();for(let e=0;e<se.length;e+=1)se[e].c();R=k(),N=v("h3"),N.textContent="Priority Groups",Y=k();for(let e=0;e<fe.length;e+=1)fe[e].c();F=k(),G=v("div"),J=v("h3"),J.textContent="Reasons for referral",Q=k();for(let e=0;e<pe.length;e+=1)pe[e].c();_(a,"class","reporting-type"),_(t,"class","headline"),_(h,"class","grey-button play"),_(T,"title","Week selector slider"),_(T,"type","range"),_(T,"min","0"),_(T,"max",q=e[0].length-1),_(T,"step","1"),_(E,"for","barnardos-cumulative"),_(D,"id","barnardos-cumulative"),_(D,"type","checkbox"),_(S,"class","control-block"),_(f,"class","timeline"),_(O,"class","two-col")},m(o,$){g(o,t,$),p(t,n),p(n,r),p(t,l),p(t,s),p(s,i),p(s,c),p(s,a),p(a,u),g(o,d,$),g(o,f,$),p(f,h),p(h,m),p(f,y),p(f,T),M(T,e[1]),p(f,A),p(f,S),p(S,E),p(S,P),p(S,D),D.checked=e[5],g(o,L,$),g(o,O,$),p(O,z),p(z,B),p(z,j),ce(I,z,null),p(z,H);for(let e=0;e<se.length;e+=1)se[e].m(z,null);p(z,R),p(z,N),p(z,Y);for(let e=0;e<fe.length;e+=1)fe[e].m(z,null);p(O,F),p(O,G),p(G,J),p(G,Q);for(let e=0;e<pe.length;e+=1)pe[e].m(G,null);U=!0,V||(W=[x(h,"click",e[12]),x(T,"change",e[14]),x(T,"input",e[14]),x(D,"change",e[15])],V=!0)},p(e,t){(!U||6&t)&&X!==(X=e[13].format(e[2][e[1]])+"")&&C(r,X),(!U||64&t)&&K!==(K=Math.round(e[6]["Total referrals"],0)+"")&&C(i,K),(!U||32&t)&&re!==(re=e[5]?"Total referrals":"Referrals / week")&&C(u,re),(!U||16&t)&&oe!==(oe=e[4]?"Stop":"Play")&&C(m,oe),(!U||1&t&&q!==(q=e[0].length-1))&&_(T,"max",q),2&t&&M(T,e[1]),32&t&&(D.checked=e[5]);const n={};if(64&t&&(n.value=e[6]["Total referrals"]),8&t&&(n.max=e[3]),I.$set(n),584&t){let n;for(le=e[9],n=0;n<le.length;n+=1){const r=Se(e,le,n);se[n]?(se[n].p(r,t),te(se[n],1)):(se[n]=De(r),se[n].c(),te(se[n],1),se[n].m(z,R))}for(Z(),n=le.length;n<se.length;n+=1)ue(n);ee()}if(2112&t){let n;for(de=e[11],n=0;n<de.length;n+=1){const r=Ae(e,de,n);fe[n]?(fe[n].p(r,t),te(fe[n],1)):(fe[n]=Le(r),fe[n].c(),te(fe[n],1),fe[n].m(z,null))}for(Z(),n=de.length;n<fe.length;n+=1)he(n);ee()}if(1088&t){let n;for(me=e[10],n=0;n<me.length;n+=1){const r=qe(e,me,n);pe[n]?(pe[n].p(r,t),te(pe[n],1)):(pe[n]=Oe(r),pe[n].c(),te(pe[n],1),pe[n].m(G,null))}for(Z(),n=me.length;n<pe.length;n+=1)ge(n);ee()}},i(e){if(!U){te(I.$$.fragment,e);for(let e=0;e<le.length;e+=1)te(se[e]);for(let e=0;e<de.length;e+=1)te(fe[e]);for(let e=0;e<me.length;e+=1)te(pe[e]);U=!0}},o(e){ne(I.$$.fragment,e),se=se.filter(Boolean);for(let e=0;e<se.length;e+=1)ne(se[e]);fe=fe.filter(Boolean);for(let e=0;e<fe.length;e+=1)ne(fe[e]);pe=pe.filter(Boolean);for(let e=0;e<pe.length;e+=1)ne(pe[e]);U=!1},d(e){e&&$(t),e&&$(d),e&&$(f),e&&$(L),e&&$(O),ae(I),b(se,e),b(fe,e),b(pe,e),V=!1,o(W)}}}function De(e){let t,n;return t=new Me({props:{label:e[17],value:e[6][e[17]],max:e[3]}}),{c(){ie(t.$$.fragment)},m(e,r){ce(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.value=e[6][e[17]]),8&n&&(r.max=e[3]),t.$set(r)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ae(t,e)}}}function Le(e){let t,n;return t=new Me({props:{label:e[17],value:e[6][e[17]],unit:"%"}}),{c(){ie(t.$$.fragment)},m(e,r){ce(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.value=e[6][e[17]]),t.$set(r)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ae(t,e)}}}function Oe(e){let t,n;return t=new Me({props:{label:e[17],value:e[6][e[17]],unit:"%"}}),{c(){ie(t.$$.fragment)},m(e,r){ce(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.value=e[6][e[17]]),t.$set(r)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ae(t,e)}}}function ze(t){let n;return{c(){n=v("p"),n.textContent="Loading data..."},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}function Be(e){let t,n,r,o,l,s={ctx:e,current:null,token:null,hasCatch:!1,pending:ze,then:Pe,catch:Ee,blocks:[,,,]};return le(o=e[8],s),{c(){t=v("section"),n=v("h2"),n.textContent="Data from See, Hear, Respond",r=k(),s.block.c(),_(n,"id","barnardos"),_(t,"class","barnardos")},m(e,o){g(e,t,o),p(t,n),p(t,r),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null,l=!0},p(t,[n]){{const r=(e=t).slice();s.block.p(r,n)}},i(e){l||(te(s.block),l=!0)},o(e){for(let e=0;e<3;e+=1){ne(s.blocks[e])}l=!1},d(e){e&&$(t),s.block.d(),s.token=null,s=null}}}function je(e,t,n){let r,o,l=0,s=ye(void 0);i(e,s,(e=>n(6,r=e)));let a,u=[],d=0,f=!0;const h=(async()=>{const e=await we("data/barnardos/referrals.csv");n(0,o=e.map((e=>Object.entries(e).reduce(((e,[t,n])=>(["date"].includes(t)||(e[t]=parseInt(n)),e)),{})))),n(2,u=e.map((({date:e})=>new Date(e)))),n(1,l=o.length-1)})(),m=["Approved Delivery Partner","Professional","Guardian","Self"],p=["Child mental health","Isolation & loneliness","Barriers to reintegration to education","Parenting support","Parent mental health","Barriers to engagement with support services","Impact of caring responsibilities","Concerns about children outside the home","Other","Exposure to online harm","Child protection or safeguarding concerns referred to Statutory Agencies"],g=["Child mental health","BAMER","Children with SEN","Children under 5","At risk of (outside) exploitation","Young carers"],$=()=>{if(a)return window.clearInterval(a),void n(4,a=void 0);n(4,a=window.setInterval((()=>{n(1,l=(l+1)%o.length),l==o.length-1&&$()}),500))},b=new Intl.DateTimeFormat("default",{year:"numeric",month:"short",day:"numeric"});return e.$$.update=()=>{if(35&e.$$.dirty&&o){let e=e=>Math.max(...e);f&&(e=e=>e.reduce(((e,t)=>e+t),0)),n(3,d=e(o.map((e=>e["Total referrals"])))),c(s,r=f?o.slice(0,l+1).reduce(((e,t)=>{const n=e["Total referrals"];return["Total referrals",...m].forEach((n=>e[n]=(e[n]||0)+t[n])),[...g,...p].forEach((r=>e[r]=((e[r]*n||0)+t[r]*t["Total referrals"])/e["Total referrals"])),e}),{}):o[l],r)}},[o,l,u,d,a,f,r,s,h,m,p,g,$,b,function(){l=T(this.value),n(1,l)},function(){f=this.checked,n(5,f)}]}class Ie extends fe{constructor(e){super(),de(this,e,je,Be,s,{})}}const{window:He}=se;function Re(t){let n,r,l,s,i,c,a,u,d,f,h,m,b,y,T,M,q,A,E,P,D,L,O,z,B,j,I,H,R,N=t[0]?"Hide":"Show";return{c(){n=v("button"),r=w(N),l=w(" Menu"),s=k(),i=v("aside"),c=v("section"),a=v("h2"),a.innerHTML='<a href="#barnardos">The Child&#39;s Perspective →</a>',u=k(),d=v("p"),d.innerHTML='This data results from analysis of referrals from the\n      <a href="https://www.barnardos.org.uk/see-hear-respond">Barnardo&#39;s See,\n        Hear, Respond</a>\n      initiative.',f=k(),h=v("p"),h.textContent="The numbers presented refer to individual referrals not including children\n      reached in detached settings. The latter accounted for a further 12,451\n      children reached from the launch of the service until mid-October.",m=k(),b=v("ul"),b.innerHTML='<li class="svelte-yag1zd">You can scroll through the available data by dragging the slider.</li> \n      <li class="svelte-yag1zd">Pressing the Play button will animate the display.</li> \n      <li class="svelte-yag1zd">You can choose between a cumulative or weekly report.</li>',y=k(),T=v("section"),M=v("h2"),M.innerHTML='<a href="#teachertapp">The Teacher&#39;s Perspective →</a>',q=k(),A=v("p"),A.innerHTML='The research team commissioned three questions to run on the\n      <a href="https://teachertapp.co.uk">Teacher Tapp App</a>\n      to run during October 2020. These questions surveyed users of the app on\n      topics related to the impact lockdown had had on their pupils and work.',E=k(),P=v("ul"),P.innerHTML='<li class="svelte-yag1zd">The square charts show the percentage of respondents who selected that\n        option. Each square represents 1 percent.</li> \n      <li class="svelte-yag1zd">The surveys returned by the teachers are broken down by the\n        characteristics of the respondents. Select a value from the dropdown to\n        drill down into the results.</li> \n      <li class="svelte-yag1zd">You can comare this result against another segment with the select box\n        that appears. The baseline figure will appear as a small dot in the centre\n        of the chart.</li>',D=k(),L=v("section"),O=v("h2"),O.innerHTML='<a href="#mumsnet">The Parent&#39;s Perspective →</a>',z=k(),B=v("p"),B.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",j=k(),I=v("ul"),I.innerHTML='<li class="svelte-yag1zd">Select either bigrams (pairs of words) or tokens (single words) to see\n        how many times they were mentioned in the months of January, April or\n        September.</li> \n\n      <li class="svelte-yag1zd">You can select either &#39;Tokens&#39; for single words or &#39;Bigrams&#39; for pairs\n        of words. Clicking the column title will sort the terms by the\n        prevalence in that month. The number of terms will be limited to the top\n        10.</li>',_(n,"class","toc-display"),_(d,"class","svelte-yag1zd"),_(h,"class","svelte-yag1zd"),_(b,"class","svelte-yag1zd"),S(c,"hidden",t[1][0]),_(A,"class","svelte-yag1zd"),_(P,"class","svelte-yag1zd"),S(T,"hidden",t[1][1]),_(B,"class","svelte-yag1zd"),_(I,"class","svelte-yag1zd"),S(L,"hidden",t[1][2]),S(i,"open",t[0])},m(e,o){g(e,n,o),p(n,r),p(n,l),g(e,s,o),g(e,i,o),p(i,c),p(c,a),p(c,u),p(c,d),p(c,f),p(c,h),p(c,m),p(c,b),p(i,y),p(i,T),p(T,M),p(T,q),p(T,A),p(T,E),p(T,P),p(i,D),p(i,L),p(L,O),p(L,z),p(L,B),p(L,j),p(L,I),H||(R=[x(He,"scroll",t[3]),x(n,"click",t[5]),x(a,"click",t[4]("barnardos")),x(M,"click",t[4]("teachertapp")),x(O,"click",t[4]("mumsnet"))],H=!0)},p(e,[t]){1&t&&N!==(N=e[0]?"Hide":"Show")&&C(r,N),2&t&&S(c,"hidden",e[1][0]),2&t&&S(T,"hidden",e[1][1]),2&t&&S(L,"hidden",e[1][2]),1&t&&S(i,"open",e[0])},i:e,o:e,d(e){e&&$(n),e&&$(s),e&&$(i),H=!1,o(R)}}}function Ne(e,t,n){let r,o=!1;const l=ye(window.scrollX);i(e,l,(e=>n(6,r=e)));let s=[];const c=()=>{const e=document.querySelectorAll("main section h2");return Array.from(e).reduce(((e,t)=>(e[t.id]=t.offsetTop,e)),{})},a=()=>{const e=c(),t=window.scrollY+160;n(1,s=Object.values(e).map(((e,n,r)=>!(t>e&&!(t>r[n+1])))))};var u;u=()=>{a()},B().$$.after_update.push(u);return e.$$.update=()=>{64&e.$$.dirty&&window.scrollTo(0,r)},[o,s,l,()=>a(),e=>()=>{const t=c();l.set(t[e]-80),n(0,o=!1)},()=>n(0,o=!o)]}class Ye extends fe{constructor(e){super(),de(this,e,Ne,Re,s,{})}}function Fe(t){let n;return{c(){n=v("header"),n.innerHTML="<h1>Data about Children in Lockdown</h1>"},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}class Ge extends fe{constructor(e){super(),de(this,e,null,Fe,s,{})}}function Je(e,{delay:n=0,duration:r=400,easing:o=t}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*l}}function Qe(e){let t,n,r,o;return{c(){t=y("text"),n=w(e[1]),_(t,"x","100"),_(t,"y","100"),_(t,"dy","10"),_(t,"text-anchor","middle"),_(t,"dominant-baseline","middle"),_(t,"class","svelte-qxowdj"),S(t,"shown",e[2])},m(e,r){g(e,t,r),p(t,n),o=!0},p(e,r){(!o||2&r)&&C(n,e[1]),4&r&&S(t,"shown",e[2])},i(e){o||(F((()=>{r||(r=oe(t,Je,{},!0)),r.run(1)})),o=!0)},o(e){r||(r=oe(t,Je,{},!1)),r.run(0),o=!1},d(e){e&&$(t),e&&r&&r.end()}}}function Ue(e){let t,n,r,l,s,i,c=e[1]&&e[2]&&Qe(e);return{c(){t=y("svg"),n=y("circle"),c&&c.c(),_(n,"cx","100"),_(n,"cy","100"),_(n,"r",r=100*e[0]),_(t,"viewBox","0 0 200 200"),_(t,"class","svelte-qxowdj")},m(r,o){g(r,t,o),p(t,n),c&&c.m(t,null),l=!0,s||(i=[x(t,"mouseenter",e[3]),x(t,"mouseleave",e[4]),x(t,"touchstart",e[5],{passive:!0})],s=!0)},p(e,[o]){(!l||1&o&&r!==(r=100*e[0]))&&_(n,"r",r),e[1]&&e[2]?c?(c.p(e,o),6&o&&te(c,1)):(c=Qe(e),c.c(),te(c,1),c.m(t,null)):c&&(Z(),ne(c,1,1,(()=>{c=null})),ee())},i(e){l||(te(c),l=!0)},o(e){ne(c),l=!1},d(e){e&&$(t),c&&c.d(),s=!1,o(i)}}}function Ve(e,t,n){let r,{radius:o}=t,{content:l}=t;return e.$$set=e=>{"radius"in e&&n(0,o=e.radius),"content"in e&&n(1,l=e.content)},[o,l,r,()=>n(2,r=!0),()=>n(2,r=!1),()=>n(2,r=!r)]}class We extends fe{constructor(e){super(),de(this,e,Ve,Ue,s,{radius:0,content:1})}}function Xe(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Ke(e,t,n){const r=e.slice();return r[8]=t[n],r}function Ze(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function et(e){let t,n,r,o,l=e[11]+"";function s(...t){return e[5](e[13],...t)}return{c(){t=v("th"),n=w(l),S(t,"selected",e[13]===e[2])},m(e,l){g(e,t,l),p(t,n),r||(o=x(t,"click",s),r=!0)},p(r,o){e=r,16&o&&l!==(l=e[11]+"")&&C(n,l),4&o&&S(t,"selected",e[13]===e[2])},d(e){e&&$(t),r=!1,o()}}}function tt(e){let t,n,r;return n=new We({props:{radius:Math.sqrt(e[8][e[11]]/e[3]),content:e[8][e[11]]}}),{c(){t=v("td"),ie(n.$$.fragment),S(t,"selected",e[13]===e[2])},m(e,o){g(e,t,o),ce(n,t,null),r=!0},p(e,r){const o={};9&r&&(o.radius=Math.sqrt(e[8][e[11]]/e[3])),1&r&&(o.content=e[8][e[11]]),n.$set(o),4&r&&S(t,"selected",e[13]===e[2])},i(e){r||(te(n.$$.fragment,e),r=!0)},o(e){ne(n.$$.fragment,e),r=!1},d(e){e&&$(t),ae(n)}}}function nt(e){let t,n,r,o,l,s,i=e[8].term+"",c=e[0].columns.slice(1),a=[];for(let t=0;t<c.length;t+=1)a[t]=tt(Xe(e,c,t));const u=e=>ne(a[e],1,1,(()=>{a[e]=null}));return{c(){t=v("tr");for(let e=0;e<a.length;e+=1)a[e].c();n=k(),r=v("td"),o=w(i),l=k(),_(r,"class","term")},m(e,i){g(e,t,i);for(let e=0;e<a.length;e+=1)a[e].m(t,null);p(t,n),p(t,r),p(r,o),p(t,l),s=!0},p(e,r){if(13&r){let o;for(c=e[0].columns.slice(1),o=0;o<c.length;o+=1){const l=Xe(e,c,o);a[o]?(a[o].p(l,r),te(a[o],1)):(a[o]=tt(l),a[o].c(),te(a[o],1),a[o].m(t,n))}for(Z(),o=c.length;o<a.length;o+=1)u(o);ee()}(!s||1&r)&&i!==(i=e[8].term+"")&&C(o,i)},i(e){if(!s){for(let e=0;e<c.length;e+=1)te(a[e]);s=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)ne(a[e]);s=!1},d(e){e&&$(t),b(a,e)}}}function rt(e){let t,n,r,o,l,s,i,c,a=e[4],u=[];for(let t=0;t<a.length;t+=1)u[t]=et(Ze(e,a,t));let d=e[0],f=[];for(let t=0;t<d.length;t+=1)f[t]=nt(Ke(e,d,t));const h=e=>ne(f[e],1,1,(()=>{f[e]=null}));return{c(){t=v("table"),n=v("thead"),r=v("tr");for(let e=0;e<u.length;e+=1)u[e].c();o=k(),l=v("td"),s=k(),i=v("tbody");for(let e=0;e<f.length;e+=1)f[e].c()},m(e,a){g(e,t,a),p(t,n),p(n,r);for(let e=0;e<u.length;e+=1)u[e].m(r,null);p(r,o),p(r,l),p(t,s),p(t,i);for(let e=0;e<f.length;e+=1)f[e].m(i,null);c=!0},p(e,[t]){if(22&t){let n;for(a=e[4],n=0;n<a.length;n+=1){const l=Ze(e,a,n);u[n]?u[n].p(l,t):(u[n]=et(l),u[n].c(),u[n].m(r,o))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}if(13&t){let n;for(d=e[0],n=0;n<d.length;n+=1){const r=Ke(e,d,n);f[n]?(f[n].p(r,t),te(f[n],1)):(f[n]=nt(r),f[n].c(),te(f[n],1),f[n].m(i,null))}for(Z(),n=d.length;n<f.length;n+=1)h(n);ee()}},i(e){if(!c){for(let e=0;e<d.length;e+=1)te(f[e]);c=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)ne(f[e]);c=!1},d(e){e&&$(t),b(u,e),b(f,e)}}}function ot(e,t,n){let{data:r}=t,{handler:o=(()=>{})}=t,{highlight:l}=t;const s=e=>!isNaN(e),i=new Intl.DateTimeFormat("default",{month:"short",year:"numeric"});let c,a;return e.$$set=e=>{"data"in e&&n(0,r=e.data),"handler"in e&&n(1,o=e.handler),"highlight"in e&&n(2,l=e.highlight)},e.$$.update=()=>{1&e.$$.dirty&&n(3,c=r.reduce(((e,t)=>{const n=Math.max(...Object.values(t).filter(s));return n>e?n:e}),0)),1&e.$$.dirty&&n(4,a=r.columns.slice(1).map((e=>i.format(new Date(e)))))},[r,o,l,c,a,e=>o(e)]}class lt extends fe{constructor(e){super(),de(this,e,ot,rt,s,{data:0,handler:1,highlight:2})}}function st(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function it(t){let n,r,o,l,s=t[16]+"";return{c(){var e,t,i;n=v("p"),n.textContent="Data not loaded!",r=k(),o=v("p"),l=w(s),e="color",t="red",n.style.setProperty(e,t,i?"important":"")},m(e,t){g(e,n,t),g(e,r,t),g(e,o,t),p(o,l)},p:e,i:e,o:e,d(e){e&&$(n),e&&$(r),e&&$(o)}}}function ct(e){let t,n,r,l,s,i,c,a,u,d,f,h,m,y,T,A,S,E,P,D,L,O=e[4],z=[];for(let t=0;t<O.length;t+=1)z[t]=at(st(e,O,t));return A=new lt({props:{data:e[1],handler:e[6],highlight:e[2]}}),{c(){t=v("div"),n=v("label"),n.textContent="Select a type of term:",r=k(),l=v("select");for(let e=0;e<z.length;e+=1)z[e].c();s=k(),i=v("div"),c=v("label"),c.textContent="How many terms to show?",a=k(),u=v("input"),d=k(),f=v("p"),h=w("Click the date header to select the\n      "),m=w(e[3]),y=w("\n      terms used most frequently in that month."),T=k(),ie(A.$$.fragment),S=k(),E=v("p"),E.textContent="Data sourced from Mumsnet MI systems with kind permission.",_(n,"for","token-selector"),_(l,"id","token-selector"),void 0===e[0]&&F((()=>e[7].call(l))),_(c,"for","token-count"),_(u,"id","token-count"),_(u,"type","range"),_(u,"min","5"),_(u,"max","30")},m(o,$){g(o,t,$),p(t,n),p(t,r),p(t,l);for(let e=0;e<z.length;e+=1)z[e].m(l,null);q(l,e[0]),g(o,s,$),g(o,i,$),p(i,c),p(i,a),p(i,u),M(u,e[3]),g(o,d,$),g(o,f,$),p(f,h),p(f,m),p(f,y),g(o,T,$),ce(A,o,$),g(o,S,$),g(o,E,$),P=!0,D||(L=[x(l,"change",e[7]),x(u,"change",e[8]),x(u,"input",e[8])],D=!0)},p(e,t){if(16&t){let n;for(O=e[4],n=0;n<O.length;n+=1){const r=st(e,O,n);z[n]?z[n].p(r,t):(z[n]=at(r),z[n].c(),z[n].m(l,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=O.length}1&t&&q(l,e[0]),8&t&&M(u,e[3]),(!P||8&t)&&C(m,e[3]);const n={};2&t&&(n.data=e[1]),4&t&&(n.highlight=e[2]),A.$set(n)},i(e){P||(te(A.$$.fragment,e),P=!0)},o(e){ne(A.$$.fragment,e),P=!1},d(e){e&&$(t),b(z,e),e&&$(s),e&&$(i),e&&$(d),e&&$(f),e&&$(T),ae(A,e),e&&$(S),e&&$(E),D=!1,o(L)}}}function at(t){let n,r,o,l=t[13].charAt(0).toUpperCase()+t[13].slice(1)+"";return{c(){n=v("option"),r=w(l),n.__value=o=t[15],n.value=n.__value},m(e,t){g(e,n,t),p(n,r)},p:e,d(e){e&&$(n)}}}function ut(t){let n;return{c(){n=w("Loading data...")},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}function dt(e){let t,n,r,o,l,s={ctx:e,current:null,token:null,hasCatch:!0,pending:ut,then:ct,catch:it,error:16,blocks:[,,,]};return le(o=e[5],s),{c(){t=v("section"),n=v("h2"),n.textContent="Analysis of terms in Mumsnet forums",r=k(),s.block.c(),_(n,"id","mumsnet"),_(t,"class","mumsnet")},m(e,o){g(e,t,o),p(t,n),p(t,r),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null,l=!0},p(t,[n]){{const r=(e=t).slice();r[16]=s.resolved,s.block.p(r,n)}},i(e){l||(te(s.block),l=!0)},o(e){for(let e=0;e<3;e+=1){ne(s.blocks[e])}l=!1},d(e){e&&$(t),s.block.d(),s.token=null,s=null}}}function ft(e,t,n){const r=["bigrams","tokens"];let o,l=0,s=[],i=1,c=10;function a(e,t,n,r){const o=e[t],l=o.columns[n],s=d(l),i=o.sort(s).slice(0,r);return i.columns=o.columns,i}let u=async function(){n(9,o=await Promise.all(r.map((e=>we(`data/mumsnet/${e}.csv`))))),n(1,s=a(o,l,i+1,c))}();const d=e=>(t,n)=>parseInt(t[e])>parseInt(n[e])?-1:parseInt(t[e])<parseInt(n[e])?1:t.term<n.term?-1:t.term>n.term?1:0;return e.$$.update=()=>{525&e.$$.dirty&&o&&n(1,s=a(o,l,i+1,c))},[l,s,i,c,r,u,e=>{n(2,i=e)},function(){l=A(this),n(0,l)},function(){c=T(this.value),n(3,c)}]}class ht extends fe{constructor(e){super(),de(this,e,ft,dt,s,{})}}function mt(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function pt(e){let t,n,r;return{c(){t=y("rect"),_(t,"width","5"),_(t,"height","5"),_(t,"x",n=e[5]%10*10+1),_(t,"y",r=10*Math.floor((99-e[5])/10)+1),_(t,"class","svelte-1csbitr"),S(t,"filled",e[5]+1<=100*e[0]/e[2]),S(t,"baseline",e[5]+1<=100*e[1]/e[2])},m(e,n){g(e,t,n)},p(e,n){5&n&&S(t,"filled",e[5]+1<=100*e[0]/e[2]),6&n&&S(t,"baseline",e[5]+1<=100*e[1]/e[2])},d(e){e&&$(t)}}}function gt(t){let n,r=Array(100),o=[];for(let e=0;e<r.length;e+=1)o[e]=pt(mt(t,r,e));return{c(){n=y("svg");for(let e=0;e<o.length;e+=1)o[e].c();_(n,"viewBox","0 0 100 100")},m(e,t){g(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(7&t){let l;for(r=Array(100),l=0;l<r.length;l+=1){const s=mt(e,r,l);o[l]?o[l].p(s,t):(o[l]=pt(s),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},i:e,o:e,d(e){e&&$(n),b(o,e)}}}function $t(e,t,n){let{number:r}=t,{reference:o}=t,{total:l=100}=t;return e.$$set=e=>{"number"in e&&n(0,r=e.number),"reference"in e&&n(1,o=e.reference),"total"in e&&n(2,l=e.total)},[r,o,l]}class bt extends fe{constructor(e){super(),de(this,e,$t,gt,s,{number:0,reference:1,total:2})}}const vt=e=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(e));function yt(e,t,n){const r=e.slice();return r[8]=t[n].title,r[9]=t[n].number,r[10]=t[n].reference,r}function wt(e,t,n){const r=e.slice();return r[13]=t[n],r}function kt(e,t,n){const r=e.slice();return r[13]=t[n],r}function xt(e){let t,n,r,o=e[13]+"";return{c(){t=v("option"),n=w(o),t.__value=r=e[13],t.value=t.__value},m(e,r){g(e,t,r),p(t,n)},p(e,l){2&l&&o!==(o=e[13]+"")&&C(n,o),2&l&&r!==(r=e[13])&&(t.__value=r,t.value=t.__value)},d(e){e&&$(t)}}}function _t(e){let t,n,r,o,l,s,i,c,a,u,d,f,h,m=e[1],T=[];for(let t=0;t<m.length;t+=1)T[t]=Tt(wt(e,m,t));return{c(){t=v("div"),n=v("label"),r=w("Comparison"),l=k(),s=y("svg"),i=y("rect"),c=k(),a=v("select"),u=v("option"),u.textContent="None";for(let e=0;e<T.length;e+=1)T[e].c();_(n,"for",o="comarison-segment-"+e[2]),_(i,"class","baseline"),_(i,"width","10"),_(i,"height","10"),_(s,"width","10"),_(s,"viewBox","0 0 10 10"),u.__value="None",u.value=u.__value,_(a,"id",d="comparison-segment-"+e[2]),void 0===e[5]&&F((()=>e[7].call(a))),_(t,"class","selector")},m(o,d){g(o,t,d),p(t,n),p(n,r),p(t,l),p(t,s),p(s,i),p(t,c),p(t,a),p(a,u);for(let e=0;e<T.length;e+=1)T[e].m(a,null);q(a,e[5]),f||(h=x(a,"change",e[7]),f=!0)},p(e,t){if(4&t&&o!==(o="comarison-segment-"+e[2])&&_(n,"for",o),2&t){let n;for(m=e[1],n=0;n<m.length;n+=1){const r=wt(e,m,n);T[n]?T[n].p(r,t):(T[n]=Tt(r),T[n].c(),T[n].m(a,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=m.length}4&t&&d!==(d="comparison-segment-"+e[2])&&_(a,"id",d),34&t&&q(a,e[5])},d(e){e&&$(t),b(T,e),f=!1,h()}}}function Tt(e){let t,n,r,o=e[13]+"";return{c(){t=v("option"),n=w(o),t.__value=r=e[13],t.value=t.__value},m(e,r){g(e,t,r),p(t,n)},p(e,l){2&l&&o!==(o=e[13]+"")&&C(n,o),2&l&&r!==(r=e[13])&&(t.__value=r,t.value=t.__value)},d(e){e&&$(t)}}}function Ct(e){let t,n,r,o,l,s,i,c,a,u,d,f,h,m=e[8]+"",b=e[9]+"";return n=new bt({props:{number:e[9],reference:e[10]}}),{c(){t=v("section"),ie(n.$$.fragment),r=k(),o=v("p"),l=w(m),s=k(),i=v("p"),c=w(b),a=w("% of "),u=w(e[4]),d=w(" respondents"),f=k(),_(i,"class","summary"),_(t,"class","response")},m(e,m){g(e,t,m),ce(n,t,null),p(t,r),p(t,o),p(o,l),p(t,s),p(t,i),p(i,c),p(i,a),p(i,u),p(i,d),p(t,f),h=!0},p(e,t){const r={};8&t&&(r.number=e[9]),8&t&&(r.reference=e[10]),n.$set(r),(!h||8&t)&&m!==(m=e[8]+"")&&C(l,m),(!h||8&t)&&b!==(b=e[9]+"")&&C(c,b),(!h||16&t)&&C(u,e[4])},i(e){h||(te(n.$$.fragment,e),h=!0)},o(e){ne(n.$$.fragment,e),h=!1},d(e){e&&$(t),ae(n)}}}function Mt(e){let t,n,r,o,l,s,i,c,a,u,d,f,h,m,T,M,A,S,E,P,D,L,O,z,B,j,I,H,R=e[0].q+"",N=e[0].r+"",Y=vt(e[0].d)+"",G=e[1],J=[];for(let t=0;t<G.length;t+=1)J[t]=xt(kt(e,G,t));let Q="All"!=e[4]&&_t(e),U=e[3],V=[];for(let t=0;t<U.length;t+=1)V[t]=Ct(yt(e,U,t));const W=e=>ne(V[e],1,1,(()=>{V[e]=null}));return{c(){t=v("section"),n=v("h3"),r=w(R),o=k(),l=v("div"),s=v("label"),i=w("Segment"),a=k(),u=y("svg"),d=y("rect"),f=k(),h=v("select");for(let e=0;e<J.length;e+=1)J[e].c();T=k(),Q&&Q.c(),M=k(),A=v("div");for(let e=0;e<V.length;e+=1)V[e].c();S=k(),E=v("p"),P=w("Total respondents "),D=w(N),L=k(),O=v("p"),z=w("Question asked on "),B=w(Y),_(s,"for",c="primary-segment-"+e[2]),_(d,"class","filled"),_(d,"width","10"),_(d,"height","10"),_(u,"width","10"),_(u,"viewBox","0 0 10 10"),_(h,"id",m="primary-segment-"+e[2]),void 0===e[4]&&F((()=>e[6].call(h))),_(l,"class","selector"),_(A,"class","grid")},m(c,m){g(c,t,m),p(t,n),p(n,r),p(t,o),p(t,l),p(l,s),p(s,i),p(l,a),p(l,u),p(u,d),p(l,f),p(l,h);for(let e=0;e<J.length;e+=1)J[e].m(h,null);q(h,e[4]),p(t,T),Q&&Q.m(t,null),p(t,M),p(t,A);for(let e=0;e<V.length;e+=1)V[e].m(A,null);p(t,S),p(t,E),p(E,P),p(E,D),p(t,L),p(t,O),p(O,z),p(O,B),j=!0,I||(H=x(h,"change",e[6]),I=!0)},p(e,[n]){if((!j||1&n)&&R!==(R=e[0].q+"")&&C(r,R),(!j||4&n&&c!==(c="primary-segment-"+e[2]))&&_(s,"for",c),2&n){let t;for(G=e[1],t=0;t<G.length;t+=1){const r=kt(e,G,t);J[t]?J[t].p(r,n):(J[t]=xt(r),J[t].c(),J[t].m(h,null))}for(;t<J.length;t+=1)J[t].d(1);J.length=G.length}if((!j||4&n&&m!==(m="primary-segment-"+e[2]))&&_(h,"id",m),18&n&&q(h,e[4]),"All"!=e[4]?Q?Q.p(e,n):(Q=_t(e),Q.c(),Q.m(t,M)):Q&&(Q.d(1),Q=null),24&n){let t;for(U=e[3],t=0;t<U.length;t+=1){const r=yt(e,U,t);V[t]?(V[t].p(r,n),te(V[t],1)):(V[t]=Ct(r),V[t].c(),te(V[t],1),V[t].m(A,null))}for(Z(),t=U.length;t<V.length;t+=1)W(t);ee()}(!j||1&n)&&N!==(N=e[0].r+"")&&C(D,N),(!j||1&n)&&Y!==(Y=vt(e[0].d)+"")&&C(B,Y)},i(e){if(!j){for(let e=0;e<U.length;e+=1)te(V[e]);j=!0}},o(e){V=V.filter(Boolean);for(let e=0;e<V.length;e+=1)ne(V[e]);j=!1},d(e){e&&$(t),b(J,e),Q&&Q.d(),b(V,e),I=!1,H()}}}function qt(e,t,n){let r,{question:o}=t,{keys:l}=t,{id:s=""}=t,i="All",c="All";return e.$$set=e=>{"question"in e&&n(0,o=e.question),"keys"in e&&n(1,l=e.keys),"id"in e&&n(2,s=e.id)},e.$$.update=()=>{if(51&e.$$.dirty){const e=l.indexOf(i),t=l.indexOf(c);n(3,r=o.a.map((({t:n,d:r})=>({title:n,number:r[e],reference:0!==e?r[t]:void 0}))))}},[o,l,s,r,i,c,function(){i=A(this),n(4,i),n(1,l)},function(){c=A(this),n(5,c),n(1,l)}]}class At extends fe{constructor(e){super(),de(this,e,qt,Mt,s,{question:0,keys:1,id:2})}}const St=$e();function Et(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Pt(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function Dt(e){let t,n,r=e[0].q,o=[];for(let t=0;t<r.length;t+=1)o[t]=Lt(Et(e,r,t));const l=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=w("")},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);g(e,t,r),n=!0},p(e,n){if(1&n){let s;for(r=e[0].q,s=0;s<r.length;s+=1){const l=Et(e,r,s);o[s]?(o[s].p(l,n),te(o[s],1)):(o[s]=Lt(l),o[s].c(),te(o[s],1),o[s].m(t.parentNode,t))}for(Z(),s=r.length;s<o.length;s+=1)l(s);ee()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){b(o,e),e&&$(t)}}}function Lt(e){let t,n;return t=new At({props:{question:e[3],keys:e[0].k,id:e[5]}}),{c(){ie(t.$$.fragment)},m(e,r){ce(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.question=e[3]),1&n&&(r.keys=e[0].k),t.$set(r)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ae(t,e)}}}function Ot(t){let n;return{c(){n=v("p"),n.textContent="Loading data file"},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}function zt(e){let t,n,r,o,l,s={ctx:e,current:null,token:null,hasCatch:!1,pending:Ot,then:Dt,catch:Pt,blocks:[,,,]};return le(o=e[1],s),{c(){t=v("section"),n=v("h2"),n.textContent="Teacher Surveys",r=k(),s.block.c(),_(n,"id","teachertapp"),_(t,"class","teachertapp")},m(e,o){g(e,t,o),p(t,n),p(t,r),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null,l=!0},p(t,[n]){{const r=(e=t).slice();s.block.p(r,n)}},i(e){l||(te(s.block),l=!0)},o(e){for(let e=0;e<3;e+=1){ne(s.blocks[e])}l=!1},d(e){e&&$(t),s.block.d(),s.token=null,s=null}}}function Bt(e,t,n){let r;i(e,St,(e=>n(0,r=e)));const o=(async()=>{c(St,r=await(async e=>(await fetch(e)).json())("data/teacher-tapp/questions.json"),r)})();return[r,o]}class jt extends fe{constructor(e){super(),de(this,e,Bt,zt,s,{})}}function It(t){let n,r,o,l,s,i,c,a,u,d,f,h,m;return n=new pe({props:{title:"ODI Analyses: Data about Children in Lockdown",description:"Visualisations supporting the ODI Analyses study on the impact of Lockdown on Children and Education.",keywords:"open,data,odi,study,research,education,lockdown,covid,2020,children"}}),o=new Ge({}),s=new Ye({}),a=new Ie({}),d=new jt({}),h=new ht({}),{c(){ie(n.$$.fragment),r=k(),ie(o.$$.fragment),l=k(),ie(s.$$.fragment),i=k(),c=v("main"),ie(a.$$.fragment),u=k(),ie(d.$$.fragment),f=k(),ie(h.$$.fragment),_(c,"role","main")},m(e,t){ce(n,e,t),g(e,r,t),ce(o,e,t),g(e,l,t),ce(s,e,t),g(e,i,t),g(e,c,t),ce(a,c,null),p(c,u),ce(d,c,null),p(c,f),ce(h,c,null),m=!0},p:e,i(e){m||(te(n.$$.fragment,e),te(o.$$.fragment,e),te(s.$$.fragment,e),te(a.$$.fragment,e),te(d.$$.fragment,e),te(h.$$.fragment,e),m=!0)},o(e){ne(n.$$.fragment,e),ne(o.$$.fragment,e),ne(s.$$.fragment,e),ne(a.$$.fragment,e),ne(d.$$.fragment,e),ne(h.$$.fragment,e),m=!1},d(e){ae(n,e),e&&$(r),ae(o,e),e&&$(l),ae(s,e),e&&$(i),e&&$(c),ae(a),ae(d),ae(h)}}}new class extends fe{constructor(e){super(),de(this,e,null,It,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
