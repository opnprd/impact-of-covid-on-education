!function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function l(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,l){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function i(t,e,n=e){return t.set(n),e}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),f=a?t=>requestAnimationFrame(t):t;const h=new Set;function d(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&f(d)}function m(t){let e;return 0===h.size&&f(d),{promise:new Promise((n=>{h.add(e={c:t,f:n})})),abort(){h.delete(e)}}}function p(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function x(){return w(" ")}function k(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e){t.value=null==e?"":e}function S(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}}function A(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function P(t,e,n){t.classList[n?"add":"remove"](e)}const q=new Set;let M,E=0;function B(t,e,n,l,o,r,s,c=0){const i=16.666/l;let a="{\n";for(let t=0;t<=1;t+=i){const l=e+(n-e)*r(t);a+=100*t+`%{${s(l,1-l)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,h=t.ownerDocument;q.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(b("style")).sheet),m=h.__svelte_rules||(h.__svelte_rules={});m[f]||(m[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?p+", ":""}${f} ${l}ms linear ${o}ms 1 both`,E+=1,f}function j(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-l.length;o&&(t.style.animation=l.join(", "),E-=o,E||f((()=>{E||(q.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),q.clear())})))}function D(t){M=t}function I(){if(!M)throw new Error("Function called outside component initialization");return M}const O=[],N=[],R=[],L=[],z=Promise.resolve();let H=!1;function Y(t){R.push(t)}let F=!1;const K=new Set;function G(){if(!F){F=!0;do{for(let t=0;t<O.length;t+=1){const e=O[t];D(e),J(e.$$)}for(D(null),O.length=0;N.length;)N.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];K.has(e)||(K.add(e),e())}R.length=0}while(O.length);for(;L.length;)L.pop()();H=!1,F=!1,K.clear()}}function J(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}let Q;function U(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const W=new Set;let X;function V(){X={r:0,c:[],p:X}}function Z(){X.r||o(X.c),X=X.p}function tt(t,e){t&&t.i&&(W.delete(t),t.i(e))}function et(t,e,n,l){if(t&&t.o){if(W.has(t))return;W.add(t),X.c.push((()=>{W.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}const nt={duration:0};function lt(n,l,s,c){let i=l(n,s),a=c?0:1,f=null,h=null,d=null;function p(){d&&j(n,d)}function g(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(l){const{delay:r=0,duration:s=300,easing:c=e,tick:$=t,css:v}=i||nt,b={start:u()+r,b:l};l||(b.group=X,X.r+=1),f||h?h=b:(v&&(p(),d=B(n,a,l,s,r,c,v)),l&&$(0,1),f=g(b,s),Y((()=>U(n,l,"start"))),m((t=>{if(h&&t>h.start&&(f=g(h,s),h=null,U(n,f.b,"start"),v&&(p(),d=B(n,a,f.b,f.duration,0,c,i.css))),f)if(t>=f.end)$(a=f.b,1-a),U(n,f.b,"end"),h||(f.b?p():--f.group.r||o(f.group.c)),f=null;else if(t>=f.start){const e=t-f.start;a=f.a+f.d*c(e/f.duration),$(a,1-a)}return!(!f&&!h)})))}return{run(t){r(i)?(Q||(Q=Promise.resolve(),Q.then((()=>{Q=null}))),Q).then((()=>{i=i(),$(t)})):$(t)},end(){p(),f=h=null}}}function ot(t,e){const n=e.token={};function l(t,l,o,r){if(e.token!==n)return;e.resolved=r;let s=e.ctx;void 0!==o&&(s=s.slice(),s[o]=r);const c=t&&(e.current=t)(s);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==l&&t&&(V(),et(t,1,1,(()=>{e.blocks[n]=null})),Z())})):e.block.d(1),c.c(),tt(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[l]=c),i&&G()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=I();if(t.then((t=>{D(n),l(e.then,1,e.value,t),D(null)}),(t=>{if(D(n),l(e.catch,2,e.error,t),D(null),!e.hasCatch)throw t})),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}var o}const rt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function st(t){t&&t.c()}function ct(t,e,l){const{fragment:s,on_mount:c,on_destroy:i,after_update:a}=t.$$;s&&s.m(e,l),Y((()=>{const e=c.map(n).filter(r);i?i.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(Y)}function it(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){-1===t.$$.dirty[0]&&(O.push(t),H||(H=!0,z.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(e,n,r,s,c,i,a=[-1]){const u=M;D(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:a,skip_bound:!1};let d=!1;if(h.ctx=r?r(e,f,((t,n,...l)=>{const o=l.length?l[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),d&&at(e,t)),n})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach($)}else h.fragment&&h.fragment.c();n.intro&&tt(e.$$.fragment),ct(e,n.target,n.anchor),G()}D(u)}class ft{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ht=[];function dt(e,n=t){let l;const o=[];function r(t){if(s(e,t)&&(e=t,l)){const t=!ht.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),ht.push(n,e)}if(t){for(let t=0;t<ht.length;t+=2)ht[t][0](ht[t+1]);ht.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,c=t){const i=[s,c];return o.push(i),1===o.length&&(l=n(r)||t),s(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(l(),l=null)}}}}function mt(t){return"[object Date]"===Object.prototype.toString.call(t)}function pt(t,e,n,l){if("number"==typeof n||mt(n)){const o=l-n,r=(n-e)/(t.dt||1/60),s=(r+(t.opts.stiffness*o-t.opts.damping*r)*t.inv_mass)*t.dt;return Math.abs(s)<t.opts.precision&&Math.abs(o)<t.opts.precision?l:(t.settled=!1,mt(n)?new Date(n.getTime()+s):n+s)}if(Array.isArray(n))return n.map(((o,r)=>pt(t,e[r],n[r],l[r])));if("object"==typeof n){const o={};for(const r in n)o[r]=pt(t,e[r],n[r],l[r]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function gt(t,e={}){const n=dt(t),{stiffness:l=.15,damping:o=.8,precision:r=.01}=e;let s,c,i,a=t,f=t,h=1,d=0,p=!1;function g(e,l={}){f=e;const o=i={};if(null==t||l.hard||$.stiffness>=1&&$.damping>=1)return p=!0,s=u(),a=e,n.set(t=f),Promise.resolve();if(l.soft){const t=!0===l.soft?.5:+l.soft;d=1/(60*t),h=0}return c||(s=u(),p=!1,c=m((e=>{if(p)return p=!1,c=null,!1;h=Math.min(h+d,1);const l={inv_mass:h,opts:$,settled:!0,dt:60*(e-s)/1e3},o=pt(l,a,t,f);return s=e,a=t,n.set(t=o),l.settled&&(c=null),!l.settled}))),new Promise((t=>{c.promise.then((()=>{o===i&&t()}))}))}const $={set:g,update:(e,n)=>g(e(f,t),n),subscribe:n.subscribe,stiffness:l,damping:o,precision:r};return $}const $t=async t=>{const e=await fetch(t),n=await e.text(),[l,...o]=n.split("\n").filter((t=>t)).map((t=>t.split(/\s*,\s*/))),r=o.map((t=>t.reduce(((t,e,n)=>(t[l[n]]=e,t)),{})));return Object.defineProperty(r,"columns",{enumerable:!1,writable:!0}),r.columns=l,r};function vt(e){let n,l,o;return{c(){n=y("svg"),l=y("rect"),_(l,"x","0"),_(l,"y","0"),_(l,"width",o=e[0]/e[1]),_(l,"height","1"),_(n,"viewBox","0 0 1 1"),_(n,"preserveAspectRatio","xMidYMin slice")},m(t,e){g(t,n,e),p(n,l)},p(t,[e]){3&e&&o!==(o=t[0]/t[1])&&_(l,"width",o)},i:t,o:t,d(t){t&&$(n)}}}function bt(t,e,n){let{value:l}=e,{max:o=100}=e;return t.$$set=t=>{"value"in t&&n(0,l=t.value),"max"in t&&n(1,o=t.max)},[l,o]}class yt extends ft{constructor(t){super(),ut(this,t,bt,vt,s,{value:0,max:1})}}function wt(t){let e,n,l,o,r,s,c,i,a,u,f=Math.round(t[1],0)+"";return s=new yt({props:{value:t[1],max:t[2]}}),{c(){e=b("ul"),n=b("li"),l=w(t[0]),o=x(),r=b("li"),st(s.$$.fragment),c=x(),i=b("li"),a=w(f),_(n,"class","label svelte-13g22zm"),_(r,"class","bar svelte-13g22zm"),_(i,"class","value svelte-13g22zm"),_(e,"class","svelte-13g22zm")},m(t,f){g(t,e,f),p(e,n),p(n,l),p(e,o),p(e,r),ct(s,r,null),p(e,c),p(e,i),p(i,a),u=!0},p(t,[e]){(!u||1&e)&&C(l,t[0]);const n={};2&e&&(n.value=t[1]),4&e&&(n.max=t[2]),s.$set(n),(!u||2&e)&&f!==(f=Math.round(t[1],0)+"")&&C(a,f)},i(t){u||(tt(s.$$.fragment,t),u=!0)},o(t){et(s.$$.fragment,t),u=!1},d(t){t&&$(e),it(s)}}}function xt(t,e,n){let{label:l}=e,{value:o}=e,{max:r}=e;return t.$$set=t=>{"label"in t&&n(0,l=t.label),"value"in t&&n(1,o=t.value),"max"in t&&n(2,r=t.max)},[l,o,r]}class kt extends ft{constructor(t){super(),ut(this,t,xt,wt,s,{label:0,value:1,max:2})}}function _t(t,e,n){const l=t.slice();return l[15]=e[n],l}function Ct(t,e,n){const l=t.slice();return l[15]=e[n],l}function Tt(t,e,n){const l=t.slice();return l[15]=e[n],l}function St(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function At(t){let e,n,l,r,s,c,i,a,u,f,h,d,m,y,S,A,P,q,M,E,B,j,D,I,O,N,R,L,z,H,Y,F=t[12].format(t[2][t[1]])+"",K=Math.round(t[5]["Total referrals"],0)+"",G=t[4]?"Stop":"Play";E=new kt({props:{label:"All Channels",value:t[5]["Total referrals"],max:t[3]}});let J=t[8],Q=[];for(let e=0;e<J.length;e+=1)Q[e]=Pt(Tt(t,J,e));const U=t=>et(Q[t],1,1,(()=>{Q[t]=null}));let W=t[10],X=[];for(let e=0;e<W.length;e+=1)X[e]=qt(Ct(t,W,e));const nt=t=>et(X[t],1,1,(()=>{X[t]=null}));let lt=t[9],ot=[];for(let e=0;e<lt.length;e+=1)ot[e]=Mt(_t(t,lt,e));const rt=t=>et(ot[t],1,1,(()=>{ot[t]=null}));return{c(){e=b("section"),n=b("p"),l=w(F),r=x(),s=b("p"),c=w(K),i=w(" Referrals"),a=x(),u=b("section"),f=b("button"),h=w(G),d=x(),m=b("input"),S=x(),A=b("section"),P=b("div"),q=b("h3"),q.textContent="Sources of referral",M=x(),st(E.$$.fragment),B=x();for(let t=0;t<Q.length;t+=1)Q[t].c();j=x(),D=b("h3"),D.textContent="Priority Groups",I=x();for(let t=0;t<X.length;t+=1)X[t].c();O=x(),N=b("div"),R=b("h3"),R.textContent="Reasons for referral",L=x();for(let t=0;t<ot.length;t+=1)ot[t].c();_(e,"class","headline"),_(f,"class","grey-button play"),_(m,"type","range"),_(m,"min","0"),_(m,"max",y=t[0].length-1),_(m,"step","1"),_(u,"class","timeline"),_(A,"class","two-col")},m(o,$){g(o,e,$),p(e,n),p(n,l),p(e,r),p(e,s),p(s,c),p(s,i),g(o,a,$),g(o,u,$),p(u,f),p(f,h),p(u,d),p(u,m),T(m,t[1]),g(o,S,$),g(o,A,$),p(A,P),p(P,q),p(P,M),ct(E,P,null),p(P,B);for(let t=0;t<Q.length;t+=1)Q[t].m(P,null);p(P,j),p(P,D),p(P,I);for(let t=0;t<X.length;t+=1)X[t].m(P,null);p(A,O),p(A,N),p(N,R),p(N,L);for(let t=0;t<ot.length;t+=1)ot[t].m(N,null);z=!0,H||(Y=[k(f,"click",t[11]),k(m,"change",t[13]),k(m,"input",t[13])],H=!0)},p(t,e){(!z||6&e)&&F!==(F=t[12].format(t[2][t[1]])+"")&&C(l,F),(!z||32&e)&&K!==(K=Math.round(t[5]["Total referrals"],0)+"")&&C(c,K),(!z||16&e)&&G!==(G=t[4]?"Stop":"Play")&&C(h,G),(!z||1&e&&y!==(y=t[0].length-1))&&_(m,"max",y),2&e&&T(m,t[1]);const n={};if(32&e&&(n.value=t[5]["Total referrals"]),8&e&&(n.max=t[3]),E.$set(n),296&e){let n;for(J=t[8],n=0;n<J.length;n+=1){const l=Tt(t,J,n);Q[n]?(Q[n].p(l,e),tt(Q[n],1)):(Q[n]=Pt(l),Q[n].c(),tt(Q[n],1),Q[n].m(P,j))}for(V(),n=J.length;n<Q.length;n+=1)U(n);Z()}if(1056&e){let n;for(W=t[10],n=0;n<W.length;n+=1){const l=Ct(t,W,n);X[n]?(X[n].p(l,e),tt(X[n],1)):(X[n]=qt(l),X[n].c(),tt(X[n],1),X[n].m(P,null))}for(V(),n=W.length;n<X.length;n+=1)nt(n);Z()}if(544&e){let n;for(lt=t[9],n=0;n<lt.length;n+=1){const l=_t(t,lt,n);ot[n]?(ot[n].p(l,e),tt(ot[n],1)):(ot[n]=Mt(l),ot[n].c(),tt(ot[n],1),ot[n].m(N,null))}for(V(),n=lt.length;n<ot.length;n+=1)rt(n);Z()}},i(t){if(!z){tt(E.$$.fragment,t);for(let t=0;t<J.length;t+=1)tt(Q[t]);for(let t=0;t<W.length;t+=1)tt(X[t]);for(let t=0;t<lt.length;t+=1)tt(ot[t]);z=!0}},o(t){et(E.$$.fragment,t),Q=Q.filter(Boolean);for(let t=0;t<Q.length;t+=1)et(Q[t]);X=X.filter(Boolean);for(let t=0;t<X.length;t+=1)et(X[t]);ot=ot.filter(Boolean);for(let t=0;t<ot.length;t+=1)et(ot[t]);z=!1},d(t){t&&$(e),t&&$(a),t&&$(u),t&&$(S),t&&$(A),it(E),v(Q,t),v(X,t),v(ot,t),H=!1,o(Y)}}}function Pt(t){let e,n;return e=new kt({props:{label:t[15],value:t[5][t[15]],max:t[3]}}),{c(){st(e.$$.fragment)},m(t,l){ct(e,t,l),n=!0},p(t,n){const l={};32&n&&(l.value=t[5][t[15]]),8&n&&(l.max=t[3]),e.$set(l)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function qt(t){let e,n;return e=new kt({props:{label:t[15],value:t[5][t[15]]}}),{c(){st(e.$$.fragment)},m(t,l){ct(e,t,l),n=!0},p(t,n){const l={};32&n&&(l.value=t[5][t[15]]),e.$set(l)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Mt(t){let e,n;return e=new kt({props:{label:t[15],value:t[5][t[15]]}}),{c(){st(e.$$.fragment)},m(t,l){ct(e,t,l),n=!0},p(t,n){const l={};32&n&&(l.value=t[5][t[15]]),e.$set(l)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Et(e){let n;return{c(){n=b("p"),n.textContent="Loading data..."},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function Bt(t){let e,n,l,o,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Et,then:At,catch:St,blocks:[,,,]};return ot(o=t[7],s),{c(){e=b("section"),n=b("h2"),n.textContent="Data from See, Hear, Respond",l=x(),s.block.c(),_(e,"class","barnardos")},m(t,o){g(t,e,o),p(e,n),p(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const l=(t=e).slice();s.block.p(l,n)}},i(t){r||(tt(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){et(s.blocks[t])}r=!1},d(t){t&&$(e),s.block.d(),s.token=null,s=null}}}function jt(t,e,n){let l,o,r=0,s=gt(void 0);c(t,s,(t=>n(5,l=t)));let a,u=[],f=0;const h=(async()=>{const t=await $t("data/barnardos/referrals.csv");n(0,o=t.map((t=>Object.entries(t).reduce(((t,[e,n])=>(["date"].includes(e)||(t[e]=parseInt(n)),t)),{})))),n(2,u=t.map((({date:t})=>new Date(t)))),n(1,r=o.length-1)})(),d=new Intl.DateTimeFormat("default",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return t.$$.update=()=>{35&t.$$.dirty&&o&&(n(3,f=Math.max(...o.map((t=>t["Total referrals"])))),i(s,l=o[r],l))},[o,r,u,f,a,l,s,h,["Approved Delivery Partner","Professional","Guardian","Self"],["Child mental health","Isolation & loneliness","Barriers to reintegration to education","Parenting support","Parent mental health","Barriers to engagement with support services","Impact of caring responsibilities","Concerns about children outside the home","Other","Exposure to online harm","Child protection or safeguarding concerns referred to Statutory Agencies"],["Child mental health","BAMER","Children with SEN","Children under 5","At risk of (outside) exploitation","Young carers"],()=>{if(a)return window.clearInterval(a),void n(4,a=void 0);n(4,a=window.setInterval((()=>{n(1,r=(r+1)%o.length)}),500))},d,function(){var t;t=this.value,r=""===t?null:+t,n(1,r)}]}class Dt extends ft{constructor(t){super(),ut(this,t,jt,Bt,s,{})}}const{window:It}=rt;function Ot(e){let n,l,r,s,c,i,a,u,f,h,d,m,v,y,T,S,A,q,M,E,B,j,D,I,O,N,R,L,z,H,Y,F=e[0]?"Hide":"Show";return{c(){n=b("button"),l=w(F),r=w("\n  Menu"),s=x(),c=b("aside"),i=b("section"),a=b("h2"),a.textContent="The Child's Perspective",u=x(),f=b("p"),f.textContent="This data results from analysis of referral data from the Barnardo's See,\n      Hear, Respond initiative.",h=x(),d=b("p"),d.textContent="You can scroll through the available data by dragging the slider. Pressing\n      the Play button will animate the display.",m=x(),v=b("section"),y=b("h2"),y.textContent="The Teacher's Perspective",T=x(),S=b("p"),S.textContent="We commissioned a series of surveys with Teacher Tapp. TKTKTK",A=x(),q=b("p"),q.textContent="The square charts show the percentage of respondents who selected that\n      option. Each square represents 1 percent.",M=x(),E=b("p"),E.textContent="The surveys returned by the teachers have been segmented during analysis.\n      Select a segment to drill down into the results.",B=x(),j=b("p"),j.textContent="You can comare this result against another segment with the select box\n      that appears. The baseline figure will appear as a solid border on the\n      chart.",D=x(),I=b("section"),O=b("h2"),O.textContent="The Parent's Perspective",N=x(),R=b("p"),R.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",L=x(),z=b("ul"),z.innerHTML='<li class="svelte-117459f">Select either bigrams (pairs of words) or tokens (single words) to see\n        how many times they were mentioned in the months of January, April or\n        September.</li> \n\n      <li class="svelte-117459f">You can select either &#39;Tokens&#39; for single words or &#39;Bigrams&#39; for pairs\n        of words. Clicking the column title will sort the terms by the\n        prevalence in that month. The number of terms will be limited to the top\n        10.</li>',_(n,"class","toc-display"),_(f,"class","svelte-117459f"),_(d,"class","svelte-117459f"),P(i,"hidden",e[1][0]),_(S,"class","svelte-117459f"),_(q,"class","svelte-117459f"),_(E,"class","svelte-117459f"),_(j,"class","svelte-117459f"),P(v,"hidden",e[1][1]),_(R,"class","svelte-117459f"),_(z,"class","svelte-117459f"),P(I,"hidden",e[1][2]),P(c,"open",e[0])},m(t,o){g(t,n,o),p(n,l),p(n,r),g(t,s,o),g(t,c,o),p(c,i),p(i,a),p(i,u),p(i,f),p(i,h),p(i,d),p(c,m),p(c,v),p(v,y),p(v,T),p(v,S),p(v,A),p(v,q),p(v,M),p(v,E),p(v,B),p(v,j),p(c,D),p(c,I),p(I,O),p(I,N),p(I,R),p(I,L),p(I,z),H||(Y=[k(It,"scroll",e[3]),k(n,"click",e[5]),k(a,"click",e[4](0)),k(y,"click",e[4](1)),k(O,"click",e[4](2))],H=!0)},p(t,[e]){1&e&&F!==(F=t[0]?"Hide":"Show")&&C(l,F),2&e&&P(i,"hidden",t[1][0]),2&e&&P(v,"hidden",t[1][1]),2&e&&P(I,"hidden",t[1][2]),1&e&&P(c,"open",t[0])},i:t,o:t,d(t){t&&$(n),t&&$(s),t&&$(c),H=!1,o(Y)}}}function Nt(t,e,n){let l,o=!1;const r=gt(window.scrollX);c(t,r,(t=>n(6,l=t)));let s=[];const i=()=>{const t=document.querySelectorAll("main section h2");return Array.from(t).map((t=>t.offsetTop))},a=()=>{const t=i(),e=window.scrollY+160;n(1,s=t.map(((t,n,l)=>!(e>t&&!(e>l[n+1])))))};var u;u=()=>{a()},I().$$.after_update.push(u);return t.$$.update=()=>{64&t.$$.dirty&&window.scrollTo(0,l)},[o,s,r,()=>a(),t=>()=>{const e=i();r.set(e[t]-80)},()=>n(0,o=!o)]}class Rt extends ft{constructor(t){super(),ut(this,t,Nt,Ot,s,{})}}function Lt(e){let n;return{c(){n=b("header"),n.innerHTML="<h1>Data about Children in Lockdown</h1>"},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}class zt extends ft{constructor(t){super(),ut(this,t,null,Lt,s,{})}}function Ht(t,{delay:n=0,duration:l=400,easing:o=e}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:l,easing:o,css:t=>"opacity: "+t*r}}function Yt(t){let e,n,l,o;return{c(){e=y("text"),n=w(t[1]),_(e,"x","100"),_(e,"y","100"),_(e,"dy","10"),_(e,"text-anchor","middle"),_(e,"dominant-baseline","middle"),_(e,"class","svelte-qxowdj"),P(e,"shown",t[2])},m(t,l){g(t,e,l),p(e,n),o=!0},p(t,l){(!o||2&l)&&C(n,t[1]),4&l&&P(e,"shown",t[2])},i(t){o||(Y((()=>{l||(l=lt(e,Ht,{},!0)),l.run(1)})),o=!0)},o(t){l||(l=lt(e,Ht,{},!1)),l.run(0),o=!1},d(t){t&&$(e),t&&l&&l.end()}}}function Ft(t){let e,n,l,r,s,c,i,a=t[1]&&t[2]&&Yt(t);return{c(){e=b("div"),n=y("svg"),l=y("circle"),a&&a.c(),_(l,"cx","100"),_(l,"cy","100"),_(l,"r",r=100*t[0]),_(n,"viewBox","0 0 200 200"),_(n,"class","svelte-qxowdj"),_(e,"class","container")},m(o,r){g(o,e,r),p(e,n),p(n,l),a&&a.m(n,null),s=!0,c||(i=[k(n,"mouseenter",t[3]),k(n,"mouseleave",t[4]),k(n,"touchstart",t[5],{passive:!0})],c=!0)},p(t,[e]){(!s||1&e&&r!==(r=100*t[0]))&&_(l,"r",r),t[1]&&t[2]?a?(a.p(t,e),6&e&&tt(a,1)):(a=Yt(t),a.c(),tt(a,1),a.m(n,null)):a&&(V(),et(a,1,1,(()=>{a=null})),Z())},i(t){s||(tt(a),s=!0)},o(t){et(a),s=!1},d(t){t&&$(e),a&&a.d(),c=!1,o(i)}}}function Kt(t,e,n){let l,{radius:o}=e,{content:r}=e;return t.$$set=t=>{"radius"in t&&n(0,o=t.radius),"content"in t&&n(1,r=t.content)},[o,r,l,()=>n(2,l=!0),()=>n(2,l=!1),()=>n(2,l=!l)]}class Gt extends ft{constructor(t){super(),ut(this,t,Kt,Ft,s,{radius:0,content:1})}}function Jt(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Qt(t,e,n){const l=t.slice();return l[8]=e[n],l}function Ut(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Wt(t){let e,n,l,o,r=t[11]+"";function s(...e){return t[5](t[13],...e)}return{c(){e=b("th"),n=w(r),_(e,"class","svelte-6tvtkc"),P(e,"selected",t[13]===t[2])},m(t,r){g(t,e,r),p(e,n),l||(o=k(e,"click",s),l=!0)},p(l,o){t=l,16&o&&r!==(r=t[11]+"")&&C(n,r),4&o&&P(e,"selected",t[13]===t[2])},d(t){t&&$(e),l=!1,o()}}}function Xt(t){let e,n,l;return n=new Gt({props:{radius:Math.sqrt(t[8][t[11]]/t[3]),content:t[8][t[11]]}}),{c(){e=b("td"),st(n.$$.fragment),_(e,"class","svelte-6tvtkc"),P(e,"selected",t[13]===t[2])},m(t,o){g(t,e,o),ct(n,e,null),l=!0},p(t,l){const o={};9&l&&(o.radius=Math.sqrt(t[8][t[11]]/t[3])),1&l&&(o.content=t[8][t[11]]),n.$set(o),4&l&&P(e,"selected",t[13]===t[2])},i(t){l||(tt(n.$$.fragment,t),l=!0)},o(t){et(n.$$.fragment,t),l=!1},d(t){t&&$(e),it(n)}}}function Vt(t){let e,n,l,o,r,s,c=t[8].term+"",i=t[0].columns.slice(1),a=[];for(let e=0;e<i.length;e+=1)a[e]=Xt(Jt(t,i,e));const u=t=>et(a[t],1,1,(()=>{a[t]=null}));return{c(){e=b("tr");for(let t=0;t<a.length;t+=1)a[t].c();n=x(),l=b("td"),o=w(c),r=x(),_(l,"class","term svelte-6tvtkc")},m(t,c){g(t,e,c);for(let t=0;t<a.length;t+=1)a[t].m(e,null);p(e,n),p(e,l),p(l,o),p(e,r),s=!0},p(t,l){if(13&l){let o;for(i=t[0].columns.slice(1),o=0;o<i.length;o+=1){const r=Jt(t,i,o);a[o]?(a[o].p(r,l),tt(a[o],1)):(a[o]=Xt(r),a[o].c(),tt(a[o],1),a[o].m(e,n))}for(V(),o=i.length;o<a.length;o+=1)u(o);Z()}(!s||1&l)&&c!==(c=t[8].term+"")&&C(o,c)},i(t){if(!s){for(let t=0;t<i.length;t+=1)tt(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)et(a[t]);s=!1},d(t){t&&$(e),v(a,t)}}}function Zt(t){let e,n,l,o,r,s,c,i,a=t[4],u=[];for(let e=0;e<a.length;e+=1)u[e]=Wt(Ut(t,a,e));let f=t[0],h=[];for(let e=0;e<f.length;e+=1)h[e]=Vt(Qt(t,f,e));const d=t=>et(h[t],1,1,(()=>{h[t]=null}));return{c(){e=b("table"),n=b("thead"),l=b("tr");for(let t=0;t<u.length;t+=1)u[t].c();o=x(),r=b("th"),s=x(),c=b("tbody");for(let t=0;t<h.length;t+=1)h[t].c();_(r,"class","svelte-6tvtkc"),_(e,"class","svelte-6tvtkc")},m(t,a){g(t,e,a),p(e,n),p(n,l);for(let t=0;t<u.length;t+=1)u[t].m(l,null);p(l,o),p(l,r),p(e,s),p(e,c);for(let t=0;t<h.length;t+=1)h[t].m(c,null);i=!0},p(t,[e]){if(22&e){let n;for(a=t[4],n=0;n<a.length;n+=1){const r=Ut(t,a,n);u[n]?u[n].p(r,e):(u[n]=Wt(r),u[n].c(),u[n].m(l,o))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}if(13&e){let n;for(f=t[0],n=0;n<f.length;n+=1){const l=Qt(t,f,n);h[n]?(h[n].p(l,e),tt(h[n],1)):(h[n]=Vt(l),h[n].c(),tt(h[n],1),h[n].m(c,null))}for(V(),n=f.length;n<h.length;n+=1)d(n);Z()}},i(t){if(!i){for(let t=0;t<f.length;t+=1)tt(h[t]);i=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)et(h[t]);i=!1},d(t){t&&$(e),v(u,t),v(h,t)}}}function te(t,e,n){let{data:l}=e,{handler:o=(()=>{})}=e,{highlight:r}=e;const s=t=>!isNaN(t),c=new Intl.DateTimeFormat("default",{month:"short",year:"numeric"});let i,a;return t.$$set=t=>{"data"in t&&n(0,l=t.data),"handler"in t&&n(1,o=t.handler),"highlight"in t&&n(2,r=t.highlight)},t.$$.update=()=>{1&t.$$.dirty&&n(3,i=l.reduce(((t,e)=>{const n=Math.max(...Object.values(e).filter(s));return n>t?n:t}),0)),1&t.$$.dirty&&n(4,a=l.columns.slice(1).map((t=>c.format(new Date(t)))))},[l,o,r,i,a,t=>o(t)]}class ee extends ft{constructor(t){super(),ut(this,t,te,Zt,s,{data:0,handler:1,highlight:2})}}function ne(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function le(e){let n,l,o,r,s=e[14]+"";return{c(){var t,e,c;n=b("p"),n.textContent="Data not loaded!",l=x(),o=b("p"),r=w(s),t="color",e="red",n.style.setProperty(t,e,c?"important":"")},m(t,e){g(t,n,e),g(t,l,e),g(t,o,e),p(o,r)},p:t,i:t,o:t,d(t){t&&$(n),t&&$(l),t&&$(o)}}}function oe(t){let e,n,l,o,r,s,c,i,a,u,f,h,d=t[3],m=[];for(let e=0;e<d.length;e+=1)m[e]=re(ne(t,d,e));return c=new ee({props:{data:t[1],handler:t[5],highlight:t[2]}}),{c(){e=b("label"),e.textContent="Select a type of term:",n=x(),l=b("select");for(let t=0;t<m.length;t+=1)m[t].c();o=x(),r=b("p"),r.textContent=`Click the date header to select the\n      ${ie}\n      terms used most frequently in that month.`,s=x(),st(c.$$.fragment),i=x(),a=b("p"),a.textContent="Data sourced from Mumsnet MI systems with kind permission.",_(e,"for","token-selector"),_(l,"id","token-selector"),void 0===t[0]&&Y((()=>t[6].call(l)))},m(d,p){g(d,e,p),g(d,n,p),g(d,l,p);for(let t=0;t<m.length;t+=1)m[t].m(l,null);S(l,t[0]),g(d,o,p),g(d,r,p),g(d,s,p),ct(c,d,p),g(d,i,p),g(d,a,p),u=!0,f||(h=k(l,"change",t[6]),f=!0)},p(t,e){if(8&e){let n;for(d=t[3],n=0;n<d.length;n+=1){const o=ne(t,d,n);m[n]?m[n].p(o,e):(m[n]=re(o),m[n].c(),m[n].m(l,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=d.length}1&e&&S(l,t[0]);const n={};2&e&&(n.data=t[1]),4&e&&(n.highlight=t[2]),c.$set(n)},i(t){u||(tt(c.$$.fragment,t),u=!0)},o(t){et(c.$$.fragment,t),u=!1},d(t){t&&$(e),t&&$(n),t&&$(l),v(m,t),t&&$(o),t&&$(r),t&&$(s),it(c,t),t&&$(i),t&&$(a),f=!1,h()}}}function re(e){let n,l,o,r=e[11].charAt(0).toUpperCase()+e[11].slice(1)+"";return{c(){n=b("option"),l=w(r),n.__value=o=e[13],n.value=n.__value},m(t,e){g(t,n,e),p(n,l)},p:t,d(t){t&&$(n)}}}function se(e){let n;return{c(){n=w("Loading data...")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function ce(t){let e,n,l,o,r,s={ctx:t,current:null,token:null,hasCatch:!0,pending:se,then:oe,catch:le,error:14,blocks:[,,,]};return ot(o=t[4],s),{c(){e=b("section"),n=b("h2"),n.textContent="The Parent's Perspective",l=x(),s.block.c(),_(e,"class","mumsnet")},m(t,o){g(t,e,o),p(e,n),p(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const l=(t=e).slice();l[14]=s.resolved,s.block.p(l,n)}},i(t){r||(tt(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){et(s.blocks[t])}r=!1},d(t){t&&$(e),s.block.d(),s.token=null,s=null}}}let ie=10;function ae(t,e,n){const l=["bigrams","tokens"];let o,r=0,s=[],c=1;function i(t,e,n){const l=t[e],o=l.columns[n],r=u(o),s=l.sort(r).slice(0,ie);return s.columns=l.columns,s}let a=async function(){n(7,o=await Promise.all(l.map((t=>$t(`data/mumsnet/${t}.csv`))))),n(1,s=i(o,r,c+1))}();const u=t=>(e,n)=>parseInt(e[t])>parseInt(n[t])?-1:parseInt(e[t])<parseInt(n[t])?1:0;return t.$$.update=()=>{133&t.$$.dirty&&o&&n(1,s=i(o,r,c+1))},[r,s,c,l,a,t=>{n(2,c=t)},function(){r=A(this),n(0,r)}]}class ue extends ft{constructor(t){super(),ut(this,t,ae,ce,s,{})}}function fe(t,e,n){const l=t.slice();return l[3]=e[n],l[5]=n,l}function he(t){let e,n,l;return{c(){e=y("rect"),_(e,"width","5"),_(e,"height","5"),_(e,"x",n=t[5]%10*10+1),_(e,"y",l=10*Math.floor((99-t[5])/10)+1),_(e,"class","svelte-1csbitr"),P(e,"filled",t[5]+1<=100*t[0]/t[2]),P(e,"baseline",t[5]+1<=100*t[1]/t[2])},m(t,n){g(t,e,n)},p(t,n){5&n&&P(e,"filled",t[5]+1<=100*t[0]/t[2]),6&n&&P(e,"baseline",t[5]+1<=100*t[1]/t[2])},d(t){t&&$(e)}}}function de(e){let n,l=Array(100),o=[];for(let t=0;t<l.length;t+=1)o[t]=he(fe(e,l,t));return{c(){n=y("svg");for(let t=0;t<o.length;t+=1)o[t].c();_(n,"viewBox","0 0 100 100")},m(t,e){g(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(7&e){let r;for(l=Array(100),r=0;r<l.length;r+=1){const s=fe(t,l,r);o[r]?o[r].p(s,e):(o[r]=he(s),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=l.length}},i:t,o:t,d(t){t&&$(n),v(o,t)}}}function me(t,e,n){let{number:l}=e,{reference:o}=e,{total:r=100}=e;return t.$$set=t=>{"number"in t&&n(0,l=t.number),"reference"in t&&n(1,o=t.reference),"total"in t&&n(2,r=t.total)},[l,o,r]}class pe extends ft{constructor(t){super(),ut(this,t,me,de,s,{number:0,reference:1,total:2})}}const ge=t=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(t));function $e(t,e,n){const l=t.slice();return l[7]=e[n].title,l[8]=e[n].number,l[9]=e[n].reference,l}function ve(t,e,n){const l=t.slice();return l[12]=e[n],l}function be(t,e,n){const l=t.slice();return l[12]=e[n],l}function ye(t){let e,n,l,o=t[12]+"";return{c(){e=b("option"),n=w(o),e.__value=l=t[12],e.value=e.__value},m(t,l){g(t,e,l),p(e,n)},p(t,r){2&r&&o!==(o=t[12]+"")&&C(n,o),2&r&&l!==(l=t[12])&&(e.__value=l,e.value=e.__value)},d(t){t&&$(e)}}}function we(t){let e,n,l,o,r,s,c,i,a,u,f=t[1],h=[];for(let e=0;e<f.length;e+=1)h[e]=xe(ve(t,f,e));return{c(){e=b("div"),n=b("label"),n.textContent="Comparison",l=x(),o=y("svg"),r=y("rect"),s=x(),c=b("select"),i=b("option"),i.textContent="None";for(let t=0;t<h.length;t+=1)h[t].c();_(n,"for","comarison-segment"),_(r,"class","baseline"),_(r,"width","10"),_(r,"height","10"),_(o,"width","10"),_(o,"viewBox","0 0 10 10"),i.__value="None",i.value=i.__value,_(c,"id","comparison-segment"),void 0===t[4]&&Y((()=>t[6].call(c))),_(e,"class","selector")},m(f,d){g(f,e,d),p(e,n),p(e,l),p(e,o),p(o,r),p(e,s),p(e,c),p(c,i);for(let t=0;t<h.length;t+=1)h[t].m(c,null);S(c,t[4]),a||(u=k(c,"change",t[6]),a=!0)},p(t,e){if(2&e){let n;for(f=t[1],n=0;n<f.length;n+=1){const l=ve(t,f,n);h[n]?h[n].p(l,e):(h[n]=xe(l),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}18&e&&S(c,t[4])},d(t){t&&$(e),v(h,t),a=!1,u()}}}function xe(t){let e,n,l,o=t[12]+"";return{c(){e=b("option"),n=w(o),e.__value=l=t[12],e.value=e.__value},m(t,l){g(t,e,l),p(e,n)},p(t,r){2&r&&o!==(o=t[12]+"")&&C(n,o),2&r&&l!==(l=t[12])&&(e.__value=l,e.value=e.__value)},d(t){t&&$(e)}}}function ke(t){let e,n,l,o,r,s,c,i,a,u,f,h,d,m=t[7]+"",v=t[8]+"";return n=new pe({props:{number:t[8],reference:t[9]}}),{c(){e=b("section"),st(n.$$.fragment),l=x(),o=b("p"),r=w(m),s=x(),c=b("p"),i=w(v),a=w("% of "),u=w(t[3]),f=w(" respondents"),h=x(),_(c,"class","summary"),_(e,"class","response")},m(t,m){g(t,e,m),ct(n,e,null),p(e,l),p(e,o),p(o,r),p(e,s),p(e,c),p(c,i),p(c,a),p(c,u),p(c,f),p(e,h),d=!0},p(t,e){const l={};4&e&&(l.number=t[8]),4&e&&(l.reference=t[9]),n.$set(l),(!d||4&e)&&m!==(m=t[7]+"")&&C(r,m),(!d||4&e)&&v!==(v=t[8]+"")&&C(i,v),(!d||8&e)&&C(u,t[3])},i(t){d||(tt(n.$$.fragment,t),d=!0)},o(t){et(n.$$.fragment,t),d=!1},d(t){t&&$(e),it(n)}}}function _e(t){let e,n,l,o,r,s,c,i,a,u,f,h,d,m,T,A,P,q,M,E,B,j,D,I,O,N=t[0].q+"",R=t[0].r+"",L=ge(t[0].d)+"",z=t[1],H=[];for(let e=0;e<z.length;e+=1)H[e]=ye(be(t,z,e));let F="All"!=t[3]&&we(t),K=t[2],G=[];for(let e=0;e<K.length;e+=1)G[e]=ke($e(t,K,e));const J=t=>et(G[t],1,1,(()=>{G[t]=null}));return{c(){e=b("section"),n=b("h3"),l=w(N),o=x(),r=b("div"),s=b("label"),s.textContent="Segment",c=x(),i=y("svg"),a=y("rect"),u=x(),f=b("select");for(let t=0;t<H.length;t+=1)H[t].c();h=x(),F&&F.c(),d=x(),m=b("div");for(let t=0;t<G.length;t+=1)G[t].c();T=x(),A=b("p"),P=w("Total respondents "),q=w(R),M=x(),E=b("p"),B=w("Question asked on "),j=w(L),_(s,"for","primary-segment"),_(a,"class","filled"),_(a,"width","10"),_(a,"height","10"),_(i,"width","10"),_(i,"viewBox","0 0 10 10"),_(f,"id","primary-segment"),void 0===t[3]&&Y((()=>t[5].call(f))),_(r,"class","selector"),_(m,"class","grid")},m($,v){g($,e,v),p(e,n),p(n,l),p(e,o),p(e,r),p(r,s),p(r,c),p(r,i),p(i,a),p(r,u),p(r,f);for(let t=0;t<H.length;t+=1)H[t].m(f,null);S(f,t[3]),p(e,h),F&&F.m(e,null),p(e,d),p(e,m);for(let t=0;t<G.length;t+=1)G[t].m(m,null);p(e,T),p(e,A),p(A,P),p(A,q),p(e,M),p(e,E),p(E,B),p(E,j),D=!0,I||(O=k(f,"change",t[5]),I=!0)},p(t,[n]){if((!D||1&n)&&N!==(N=t[0].q+"")&&C(l,N),2&n){let e;for(z=t[1],e=0;e<z.length;e+=1){const l=be(t,z,e);H[e]?H[e].p(l,n):(H[e]=ye(l),H[e].c(),H[e].m(f,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=z.length}if(10&n&&S(f,t[3]),"All"!=t[3]?F?F.p(t,n):(F=we(t),F.c(),F.m(e,d)):F&&(F.d(1),F=null),12&n){let e;for(K=t[2],e=0;e<K.length;e+=1){const l=$e(t,K,e);G[e]?(G[e].p(l,n),tt(G[e],1)):(G[e]=ke(l),G[e].c(),tt(G[e],1),G[e].m(m,null))}for(V(),e=K.length;e<G.length;e+=1)J(e);Z()}(!D||1&n)&&R!==(R=t[0].r+"")&&C(q,R),(!D||1&n)&&L!==(L=ge(t[0].d)+"")&&C(j,L)},i(t){if(!D){for(let t=0;t<K.length;t+=1)tt(G[t]);D=!0}},o(t){G=G.filter(Boolean);for(let t=0;t<G.length;t+=1)et(G[t]);D=!1},d(t){t&&$(e),v(H,t),F&&F.d(),v(G,t),I=!1,O()}}}function Ce(t,e,n){let l,{question:o}=e,{keys:r}=e,s="All",c="All";return t.$$set=t=>{"question"in t&&n(0,o=t.question),"keys"in t&&n(1,r=t.keys)},t.$$.update=()=>{if(27&t.$$.dirty){const t=r.indexOf(s),e=r.indexOf(c);n(2,l=o.a.map((({t:n,d:l})=>({title:n,number:l[t],reference:0!==t?l[e]:void 0}))))}},[o,r,l,s,c,function(){s=A(this),n(3,s),n(1,r)},function(){c=A(this),n(4,c),n(1,r)}]}class Te extends ft{constructor(t){super(),ut(this,t,Ce,_e,s,{question:0,keys:1})}}const Se=dt();function Ae(t,e,n){const l=t.slice();return l[3]=e[n],l}function Pe(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function qe(t){let e,n,l=t[0].q,o=[];for(let e=0;e<l.length;e+=1)o[e]=Me(Ae(t,l,e));const r=t=>et(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=w("")},m(t,l){for(let e=0;e<o.length;e+=1)o[e].m(t,l);g(t,e,l),n=!0},p(t,n){if(1&n){let s;for(l=t[0].q,s=0;s<l.length;s+=1){const r=Ae(t,l,s);o[s]?(o[s].p(r,n),tt(o[s],1)):(o[s]=Me(r),o[s].c(),tt(o[s],1),o[s].m(e.parentNode,e))}for(V(),s=l.length;s<o.length;s+=1)r(s);Z()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)tt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)et(o[t]);n=!1},d(t){v(o,t),t&&$(e)}}}function Me(t){let e,n;return e=new Te({props:{question:t[3],keys:t[0].k}}),{c(){st(e.$$.fragment)},m(t,l){ct(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.question=t[3]),1&n&&(l.keys=t[0].k),e.$set(l)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Ee(e){let n;return{c(){n=b("p"),n.textContent="Loading data file"},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function Be(t){let e,n,l,o,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Ee,then:qe,catch:Pe,blocks:[,,,]};return ot(o=t[1],s),{c(){e=b("section"),n=b("h2"),n.textContent="The Teacher's Perspective",l=x(),s.block.c(),_(e,"class","teachertapp")},m(t,o){g(t,e,o),p(e,n),p(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const l=(t=e).slice();s.block.p(l,n)}},i(t){r||(tt(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){et(s.blocks[t])}r=!1},d(t){t&&$(e),s.block.d(),s.token=null,s=null}}}function je(t,e,n){let l;c(t,Se,(t=>n(0,l=t)));const o=(async()=>{i(Se,l=await(async t=>(await fetch(t)).json())("data/teacher-tapp/questions.json"),l)})();return[l,o]}class De extends ft{constructor(t){super(),ut(this,t,je,Be,s,{})}}function Ie(e){let n,l,o,r,s,c,i,a,u,f,h;return n=new zt({}),o=new Rt({}),c=new Dt({}),a=new De({}),f=new ue({}),{c(){st(n.$$.fragment),l=x(),st(o.$$.fragment),r=x(),s=b("main"),st(c.$$.fragment),i=x(),st(a.$$.fragment),u=x(),st(f.$$.fragment),_(s,"role","main")},m(t,e){ct(n,t,e),g(t,l,e),ct(o,t,e),g(t,r,e),g(t,s,e),ct(c,s,null),p(s,i),ct(a,s,null),p(s,u),ct(f,s,null),h=!0},p:t,i(t){h||(tt(n.$$.fragment,t),tt(o.$$.fragment,t),tt(c.$$.fragment,t),tt(a.$$.fragment,t),tt(f.$$.fragment,t),h=!0)},o(t){et(n.$$.fragment,t),et(o.$$.fragment,t),et(c.$$.fragment,t),et(a.$$.fragment,t),et(f.$$.fragment,t),h=!1},d(t){it(n,t),t&&$(l),it(o,t),t&&$(r),t&&$(s),it(c),it(a),it(f)}}}new class extends ft{constructor(t){super(),ut(this,t,null,Ie,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
