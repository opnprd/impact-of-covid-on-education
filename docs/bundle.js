!function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function l(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,l){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function i(t,e,n=e){return t.set(n),e}const u="undefined"!=typeof window;let a=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const h=new Set;function d(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&f(d)}function m(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function _(){return y(" ")}function w(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}}function T(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function q(t,e,n){t.classList[n?"add":"remove"](e)}const E=new Set;let A,P=0;function M(t,e,n,l,o,r,s,c=0){const i=16.666/l;let u="{\n";for(let t=0;t<=1;t+=i){const l=e+(n-e)*r(t);u+=100*t+`%{${s(l,1-l)}}\n`}const a=u+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${c}`,h=t.ownerDocument;E.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(v("style")).sheet),m=h.__svelte_rules||(h.__svelte_rules={});m[f]||(m[f]=!0,d.insertRule(`@keyframes ${f} ${a}`,d.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?p+", ":""}${f} ${l}ms linear ${o}ms 1 both`,P+=1,f}function O(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-l.length;o&&(t.style.animation=l.join(", "),P-=o,P||f((()=>{P||(E.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),E.clear())})))}function S(t){A=t}function B(){if(!A)throw new Error("Function called outside component initialization");return A}const j=[],K=[],L=[],N=[],D=Promise.resolve();let I=!1;function H(t){L.push(t)}let R=!1;const Y=new Set;function z(){if(!R){R=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];S(e),F(e.$$)}for(S(null),j.length=0;K.length;)K.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];Y.has(e)||(Y.add(e),e())}L.length=0}while(j.length);for(;N.length;)N.pop()();I=!1,R=!1,Y.clear()}}function F(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}let U;function J(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const Q=new Set;let V;function W(){V={r:0,c:[],p:V}}function G(){V.r||o(V.c),V=V.p}function X(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function Z(t,e,n,l){if(t&&t.o){if(Q.has(t))return;Q.add(t),V.c.push((()=>{Q.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}const tt={duration:0};function et(n,l,s,c){let i=l(n,s),u=c?0:1,m=null,p=null,g=null;function $(){g&&O(n,g)}function v(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(l){const{delay:r=0,duration:s=300,easing:c=e,tick:b=t,css:y}=i||tt,_={start:a()+r,b:l};l||(_.group=V,V.r+=1),m||p?p=_:(y&&($(),g=M(n,u,l,s,r,c,y)),l&&b(0,1),m=v(_,s),H((()=>J(n,l,"start"))),function(t){let e;0===h.size&&f(d),new Promise((n=>{h.add(e={c:t,f:n})}))}((t=>{if(p&&t>p.start&&(m=v(p,s),p=null,J(n,m.b,"start"),y&&($(),g=M(n,u,m.b,m.duration,0,c,i.css))),m)if(t>=m.end)b(u=m.b,1-u),J(n,m.b,"end"),p||(m.b?$():--m.group.r||o(m.group.c)),m=null;else if(t>=m.start){const e=t-m.start;u=m.a+m.d*c(e/m.duration),b(u,1-u)}return!(!m&&!p)})))}return{run(t){r(i)?(U||(U=Promise.resolve(),U.then((()=>{U=null}))),U).then((()=>{i=i(),b(t)})):b(t)},end(){$(),m=p=null}}}function nt(t,e){const n=e.token={};function l(t,l,o,r){if(e.token!==n)return;e.resolved=r;let s=e.ctx;void 0!==o&&(s=s.slice(),s[o]=r);const c=t&&(e.current=t)(s);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==l&&t&&(W(),Z(t,1,1,(()=>{e.blocks[n]=null})),G())})):e.block.d(1),c.c(),X(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[l]=c),i&&z()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=B();if(t.then((t=>{S(n),l(e.then,1,e.value,t),S(null)}),(t=>{if(S(n),l(e.catch,2,e.error,t),S(null),!e.hasCatch)throw t})),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}var o}const lt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ot(t){t&&t.c()}function rt(t,e,l){const{fragment:s,on_mount:c,on_destroy:i,after_update:u}=t.$$;s&&s.m(e,l),H((()=>{const e=c.map(n).filter(r);i?i.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(H)}function st(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(j.push(t),I||(I=!0,D.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function it(e,n,r,s,c,i,u=[-1]){const a=A;S(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:l(),dirty:u,skip_bound:!1};let d=!1;if(h.ctx=r?r(e,f,((t,n,...l)=>{const o=l.length?l[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),d&&ct(e,t)),n})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(g)}else h.fragment&&h.fragment.c();n.intro&&X(e.$$.fragment),rt(e,n.target,n.anchor),z()}S(a)}class ut{$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function at(e){let n;return{c(){n=v("section"),n.innerHTML="<h2>The Child&#39;s Perspective</h2> \n  <p>TKTKTK</p>"},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}class ft extends ut{constructor(t){super(),it(this,t,null,at,s,{})}}const ht=[];function dt(e,n=t){let l;const o=[];function r(t){if(s(e,t)&&(e=t,l)){const t=!ht.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),ht.push(n,e)}if(t){for(let t=0;t<ht.length;t+=2)ht[t][0](ht[t+1]);ht.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,c=t){const i=[s,c];return o.push(i),1===o.length&&(l=n(r)||t),s(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(l(),l=null)}}}}const mt=dt(),pt=dt(0),gt=dt(),$t={subscribe:dt(["tokens","bigrams"],vt).subscribe};var vt;const{window:bt}=lt;function yt(t,e,n){const l=t.slice();return l[13]=e[n],l[15]=n,l}function _t(t){let e,n,l,o=t[13].charAt(0).toUpperCase()+t[13].slice(1)+"";return{c(){e=v("option"),n=y(o),e.__value=l=t[15],e.value=e.__value,x(e,"class","svelte-7umcu0")},m(t,l){p(t,e,l),m(e,n)},p(t,e){16&e&&o!==(o=t[13].charAt(0).toUpperCase()+t[13].slice(1)+"")&&k(n,o)},d(t){t&&g(e)}}}function wt(t){let e,n,l,o,r,s,c,i,u,a,f,h;return{c(){e=v("section"),n=v("h2"),n.textContent="The Teacher's Perspective",l=_(),o=v("p"),o.textContent="We commissioned a series of surveys with Teacher Tapp.\n        TKTKTK",r=_(),s=v("p"),s.textContent="The square charts show the percentage of respondents who selected that\n        option. Each square represents 1 percent.",c=_(),i=v("p"),i.textContent="The surveys returned by the teachers have been segmented during\n        analysis. Select a segment to drill down into the results.",u=_(),a=v("p"),a.textContent="You can comare this result against another segment with the select box\n        that appears. The baseline figure will appear as a solid border on the\n        chart.",x(n,"class","svelte-7umcu0"),x(o,"class","svelte-7umcu0"),x(s,"class","svelte-7umcu0"),x(i,"class","svelte-7umcu0"),x(a,"class","svelte-7umcu0"),x(e,"class","svelte-7umcu0"),q(e,"hidden",t[2])},m(d,g){p(d,e,g),m(e,n),m(e,l),m(e,o),m(e,r),m(e,s),m(e,c),m(e,i),m(e,u),m(e,a),f||(h=w(n,"click",t[10]),f=!0)},p(t,n){4&n&&q(e,"hidden",t[2])},d(t){t&&g(e),f=!1,h()}}}function xt(e){let n,l,r,s,c,i,u,a,f,h,d,b,y,k,T,E,A,P=e[4],M=[];for(let t=0;t<P.length;t+=1)M[t]=_t(yt(e,P,t));let O=e[5]&&wt(e);return{c(){n=v("aside"),l=v("section"),r=v("h2"),r.textContent="The Child's Perspective",s=_(),c=v("p"),c.textContent="TKTKTK",i=_(),u=v("section"),a=v("h2"),a.textContent="The Parent's Perspective",f=_(),h=v("p"),h.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",d=_(),b=v("p"),b.textContent="You can select either 'Tokens' for single words or 'Bigrams' for pairs of\n      words. Clicking the column title will sort the terms by the prevalence in\n      that month. The number of terms will be limited to the top 10.",y=_(),k=v("select");for(let t=0;t<M.length;t+=1)M[t].c();T=_(),O&&O.c(),x(r,"class","svelte-7umcu0"),x(c,"class","svelte-7umcu0"),x(l,"class","svelte-7umcu0"),q(l,"hidden",e[0]),x(a,"class","svelte-7umcu0"),x(h,"class","svelte-7umcu0"),x(b,"class","svelte-7umcu0"),x(k,"class","svelte-7umcu0"),void 0===e[3]&&H((()=>e[9].call(k))),x(u,"class","svelte-7umcu0"),q(u,"hidden",e[1])},m(t,o){p(t,n,o),m(n,l),m(l,r),m(l,s),m(l,c),m(n,i),m(n,u),m(u,a),m(u,f),m(u,h),m(u,d),m(u,b),m(u,y),m(u,k);for(let t=0;t<M.length;t+=1)M[t].m(k,null);C(k,e[3]),m(n,T),O&&O.m(n,null),E||(A=[w(bt,"scroll",e[6]),w(r,"click",e[7]),w(a,"click",e[8]),w(k,"change",e[9])],E=!0)},p(t,[e]){if(1&e&&q(l,"hidden",t[0]),16&e){let n;for(P=t[4],n=0;n<P.length;n+=1){const l=yt(t,P,n);M[n]?M[n].p(l,e):(M[n]=_t(l),M[n].c(),M[n].m(k,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=P.length}8&e&&C(k,t[3]),2&e&&q(u,"hidden",t[1]),t[5]?O?O.p(t,e):(O=wt(t),O.c(),O.m(n,null)):O&&(O.d(1),O=null)},i:t,o:t,d(t){t&&g(n),$(M,t),O&&O.d(),E=!1,o(A)}}}function kt(t,e,n){let l,o,r;c(t,pt,(t=>n(3,l=t))),c(t,$t,(t=>n(4,o=t))),c(t,mt,(t=>n(5,r=t)));let s=!0,i=!0,u=!0;const a=[10,920],f=t=>{n(0,[s,i,u]=t<a[0]?[!1,!0,!0]:t<a[1]?[!0,!1,!0]:[!0,!0,!1],s,n(1,i),n(2,u))};f(window.scrollY);return[s,i,u,l,o,r,()=>f(window.scrollY),()=>n(0,s=!s),()=>n(1,i=!i),function(){l=T(this),pt.set(l)},()=>n(2,u=!u)]}class Ct extends ut{constructor(t){super(),it(this,t,kt,xt,s,{})}}function Tt(e){let n;return{c(){n=v("header"),n.innerHTML="<h1>Exploring the impact of COVID-19 on Education</h1>"},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}class qt extends ut{constructor(t){super(),it(this,t,null,Tt,s,{})}}function Et(t,{delay:n=0,duration:l=400,easing:o=e}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:l,easing:o,css:t=>"opacity: "+t*r}}function At(t){let e,n,l;return{c(){e=v("div"),x(e,"class","popover")},m(n,o){p(n,e,o),e.innerHTML=t[1],l=!0},p(t,n){(!l||2&n)&&(e.innerHTML=t[1])},i(t){l||(H((()=>{n||(n=et(e,Et,{},!0)),n.run(1)})),l=!0)},o(t){n||(n=et(e,Et,{},!1)),n.run(0),l=!1},d(t){t&&g(e),t&&n&&n.end()}}}function Pt(t){let e,n,l,r,s,c,i,u=t[1]&&t[2]&&At(t);return{c(){e=v("div"),n=b("svg"),l=b("circle"),r=_(),u&&u.c(),x(l,"r",t[0]),x(n,"viewBox","-1 -1 2 2"),x(e,"class","container")},m(o,a){p(o,e,a),m(e,n),m(n,l),m(e,r),u&&u.m(e,null),s=!0,c||(i=[w(n,"mouseenter",t[3]),w(n,"mouseleave",t[4])],c=!0)},p(t,[n]){(!s||1&n)&&x(l,"r",t[0]),t[1]&&t[2]?u?(u.p(t,n),6&n&&X(u,1)):(u=At(t),u.c(),X(u,1),u.m(e,null)):u&&(W(),Z(u,1,1,(()=>{u=null})),G())},i(t){s||(X(u),s=!0)},o(t){Z(u),s=!1},d(t){t&&g(e),u&&u.d(),c=!1,o(i)}}}function Mt(t,e,n){let l,{radius:o}=e,{content:r}=e;return t.$$set=t=>{"radius"in t&&n(0,o=t.radius),"content"in t&&n(1,r=t.content)},[o,r,l,()=>n(2,l=!0),()=>n(2,l=!1)]}class Ot extends ut{constructor(t){super(),it(this,t,Mt,Pt,s,{radius:0,content:1})}}function St(t,e,n){const l=t.slice();return l[9]=e[n],l[11]=n,l}function Bt(t,e,n){const l=t.slice();return l[6]=e[n],l}function jt(t,e,n){const l=t.slice();return l[9]=e[n],l[11]=n,l}function Kt(t){let e,n,l,o,r=t[9]+"";function s(...e){return t[5](t[11],...e)}return{c(){e=v("th"),n=y(r),x(e,"class","svelte-mtqint"),q(e,"selected",t[11]===t[2])},m(t,r){p(t,e,r),m(e,n),l||(o=w(e,"click",s),l=!0)},p(l,o){t=l,1&o&&r!==(r=t[9]+"")&&k(n,r),4&o&&q(e,"selected",t[11]===t[2])},d(t){t&&g(e),l=!1,o()}}}function Lt(e){let n,l=e[6][e[9]]+"";return{c(){n=y(l)},m(t,e){p(t,n,e)},p(t,e){1&e&&l!==(l=t[6][t[9]]+"")&&k(n,l)},i:t,o:t,d(t){t&&g(n)}}}function Nt(t){let e,n;return e=new Ot({props:{radius:Math.sqrt(t[6][t[9]]/t[3]),content:"<p>"+t[6][t[9]]+"</p>"}}),{c(){ot(e.$$.fragment)},m(t,l){rt(e,t,l),n=!0},p(t,n){const l={};9&n&&(l.radius=Math.sqrt(t[6][t[9]]/t[3])),1&n&&(l.content="<p>"+t[6][t[9]]+"</p>"),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Dt(t){let e,n,l,o,r;const s=[Nt,Lt],c=[];function i(t,e){return 1&e&&(n=!!t[4](t[6][t[9]])),n?0:1}return l=i(t,-1),o=c[l]=s[l](t),{c(){e=v("td"),o.c(),x(e,"class","svelte-mtqint"),q(e,"selected",t[11]===t[2])},m(t,n){p(t,e,n),c[l].m(e,null),r=!0},p(t,n){let r=l;l=i(t,n),l===r?c[l].p(t,n):(W(),Z(c[r],1,1,(()=>{c[r]=null})),G(),o=c[l],o||(o=c[l]=s[l](t),o.c()),X(o,1),o.m(e,null)),4&n&&q(e,"selected",t[11]===t[2])},i(t){r||(X(o),r=!0)},o(t){Z(o),r=!1},d(t){t&&g(e),c[l].d()}}}function It(t){let e,n,l,o=t[0].columns,r=[];for(let e=0;e<o.length;e+=1)r[e]=Dt(St(t,o,e));const s=t=>Z(r[t],1,1,(()=>{r[t]=null}));return{c(){e=v("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=_()},m(t,o){p(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);m(e,n),l=!0},p(t,l){if(29&l){let c;for(o=t[0].columns,c=0;c<o.length;c+=1){const s=St(t,o,c);r[c]?(r[c].p(s,l),X(r[c],1)):(r[c]=Dt(s),r[c].c(),X(r[c],1),r[c].m(e,n))}for(W(),c=o.length;c<r.length;c+=1)s(c);G()}},i(t){if(!l){for(let t=0;t<o.length;t+=1)X(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Z(r[t]);l=!1},d(t){t&&g(e),$(r,t)}}}function Ht(t){let e,n,l,o,r,s,c=t[0].columns,i=[];for(let e=0;e<c.length;e+=1)i[e]=Kt(jt(t,c,e));let u=t[0],a=[];for(let e=0;e<u.length;e+=1)a[e]=It(Bt(t,u,e));const f=t=>Z(a[t],1,1,(()=>{a[t]=null}));return{c(){e=v("table"),n=v("thead"),l=v("tr");for(let t=0;t<i.length;t+=1)i[t].c();o=_(),r=v("tbody");for(let t=0;t<a.length;t+=1)a[t].c();x(e,"class","svelte-mtqint")},m(t,c){p(t,e,c),m(e,n),m(n,l);for(let t=0;t<i.length;t+=1)i[t].m(l,null);m(e,o),m(e,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);s=!0},p(t,[e]){if(7&e){let n;for(c=t[0].columns,n=0;n<c.length;n+=1){const o=jt(t,c,n);i[n]?i[n].p(o,e):(i[n]=Kt(o),i[n].c(),i[n].m(l,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}if(29&e){let n;for(u=t[0],n=0;n<u.length;n+=1){const l=Bt(t,u,n);a[n]?(a[n].p(l,e),X(a[n],1)):(a[n]=It(l),a[n].c(),X(a[n],1),a[n].m(r,null))}for(W(),n=u.length;n<a.length;n+=1)f(n);G()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)X(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Z(a[t]);s=!1},d(t){t&&g(e),$(i,t),$(a,t)}}}function Rt(t,e,n){let{data:l}=e,{handler:o=(()=>{})}=e,{highlight:r}=e;const s=t=>!isNaN(t);let c;return t.$$set=t=>{"data"in t&&n(0,l=t.data),"handler"in t&&n(1,o=t.handler),"highlight"in t&&n(2,r=t.highlight)},t.$$.update=()=>{1&t.$$.dirty&&n(3,c=l.reduce(((t,e)=>{const n=Math.max(...Object.values(e).filter(s));return n>t?n:t}),0))},[l,o,r,c,s,t=>o(t)]}class Yt extends ut{constructor(t){super(),it(this,t,Rt,Ht,s,{data:0,handler:1,highlight:2})}}function zt(e){let n,l,o,r,s=e[10]+"";return{c(){n=v("p"),n.textContent="Data not loaded!",l=_(),o=v("p"),r=y(s),function(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}(n,"color","red")},m(t,e){p(t,n,e),p(t,l,e),p(t,o,e),m(o,r)},p:t,i:t,o:t,d(t){t&&g(n),t&&g(l),t&&g(o)}}}function Ft(t){let e,n,l,o;return e=new Yt({props:{data:t[1],handler:t[3],highlight:t[0]}}),{c(){ot(e.$$.fragment),n=_(),l=v("aside"),l.textContent="Data sourced from Mumsnet MI systems with kind permission."},m(t,r){rt(e,t,r),p(t,n,r),p(t,l,r),o=!0},p(t,n){const l={};2&n&&(l.data=t[1]),1&n&&(l.highlight=t[0]),e.$set(l)},i(t){o||(X(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){st(e,t),t&&g(n),t&&g(l)}}}function Ut(e){let n;return{c(){n=y("Loading data...")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function Jt(t){let e,n,l,o,r,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Ut,then:Ft,catch:zt,error:10,blocks:[,,,]};return nt(o=t[2],s),{c(){e=v("section"),n=v("h2"),n.textContent="The Parent's Perspective",l=_(),s.block.c(),x(e,"class","mumsnet")},m(t,o){p(t,e,o),m(e,n),m(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const l=(t=e).slice();l[10]=s.resolved,s.block.p(l,n)}},i(t){r||(X(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(s.blocks[t])}r=!1},d(t){t&&g(e),s.block.d(),s.token=null,s=null}}}function Qt(t,e,n){let l,o,r;c(t,$t,(t=>n(5,l=t))),c(t,gt,(t=>n(1,o=t))),c(t,pt,(t=>n(6,r=t)));let s,u=2;function a(t,e,n){const l=t[e],o=l.columns[n],r=h(o),s=l.sort(r).slice(0,10);return s.columns=l.columns,s}let f=async function(){n(4,s=await Promise.all(l.map((t=>(async t=>{const e=await fetch(t),n=await e.text(),[l,...o]=n.split("\n").filter((t=>t)).map((t=>t.split(/\s*,\s*/))),r=o.map((t=>t.reduce(((t,e,n)=>(t[l[n]]=e,t)),{})));return Object.defineProperty(r,"columns",{enumerable:!1,writable:!0}),r.columns=l,r})(`data/mumsnet/${t}.csv`))))),i(gt,o=a(s,r,u),o)}();const h=t=>(e,n)=>parseInt(e[t])>parseInt(n[t])?-1:parseInt(e[t])<parseInt(n[t])?1:0;return t.$$.update=()=>{81&t.$$.dirty&&s&&i(gt,o=a(s,r,u),o)},[u,o,f,t=>{0!==t&&n(0,u=t)}]}class Vt extends ut{constructor(t){super(),it(this,t,Qt,Jt,s,{})}}function Wt(t,e,n){const l=t.slice();return l[3]=e[n],l[5]=n,l}function Gt(t){let e,n,l;return{c(){e=b("rect"),x(e,"width","5"),x(e,"height","5"),x(e,"x",n=t[5]%10*10+1),x(e,"y",l=10*Math.floor((99-t[5])/10)+1),x(e,"class","svelte-1csbitr"),q(e,"filled",t[5]+1<=100*t[0]/t[2]),q(e,"baseline",t[5]+1<=100*t[1]/t[2])},m(t,n){p(t,e,n)},p(t,n){5&n&&q(e,"filled",t[5]+1<=100*t[0]/t[2]),6&n&&q(e,"baseline",t[5]+1<=100*t[1]/t[2])},d(t){t&&g(e)}}}function Xt(e){let n,l=Array(100),o=[];for(let t=0;t<l.length;t+=1)o[t]=Gt(Wt(e,l,t));return{c(){n=b("svg");for(let t=0;t<o.length;t+=1)o[t].c();x(n,"viewBox","0 0 100 100")},m(t,e){p(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(7&e){let r;for(l=Array(100),r=0;r<l.length;r+=1){const s=Wt(t,l,r);o[r]?o[r].p(s,e):(o[r]=Gt(s),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=l.length}},i:t,o:t,d(t){t&&g(n),$(o,t)}}}function Zt(t,e,n){let{number:l}=e,{reference:o}=e,{total:r=100}=e;return t.$$set=t=>{"number"in t&&n(0,l=t.number),"reference"in t&&n(1,o=t.reference),"total"in t&&n(2,r=t.total)},[l,o,r]}class te extends ut{constructor(t){super(),it(this,t,Zt,Xt,s,{number:0,reference:1,total:2})}}const ee=t=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(t));function ne(t,e,n){const l=t.slice();return l[7]=e[n].title,l[8]=e[n].number,l[9]=e[n].reference,l}function le(t,e,n){const l=t.slice();return l[12]=e[n],l}function oe(t,e,n){const l=t.slice();return l[12]=e[n],l}function re(t){let e,n,l,o=t[12]+"";return{c(){e=v("option"),n=y(o),e.__value=l=t[12],e.value=e.__value},m(t,l){p(t,e,l),m(e,n)},p(t,r){2&r&&o!==(o=t[12]+"")&&k(n,o),2&r&&l!==(l=t[12])&&(e.__value=l,e.value=e.__value)},d(t){t&&g(e)}}}function se(t){let e,n,l,o,r,s,c,i,u,a,f=t[1],h=[];for(let e=0;e<f.length;e+=1)h[e]=ce(le(t,f,e));return{c(){e=v("div"),n=v("label"),n.textContent="Comparison",l=_(),o=b("svg"),r=b("rect"),s=_(),c=v("select"),i=v("option"),i.textContent="None";for(let t=0;t<h.length;t+=1)h[t].c();x(n,"for","comarison-segment"),x(r,"class","baseline"),x(r,"width","10"),x(r,"height","10"),x(o,"width","10"),x(o,"viewBox","0 0 10 10"),i.__value="None",i.value=i.__value,x(c,"id","comparison-segment"),void 0===t[4]&&H((()=>t[6].call(c))),x(e,"class","selector")},m(f,d){p(f,e,d),m(e,n),m(e,l),m(e,o),m(o,r),m(e,s),m(e,c),m(c,i);for(let t=0;t<h.length;t+=1)h[t].m(c,null);C(c,t[4]),u||(a=w(c,"change",t[6]),u=!0)},p(t,e){if(2&e){let n;for(f=t[1],n=0;n<f.length;n+=1){const l=le(t,f,n);h[n]?h[n].p(l,e):(h[n]=ce(l),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}18&e&&C(c,t[4])},d(t){t&&g(e),$(h,t),u=!1,a()}}}function ce(t){let e,n,l,o=t[12]+"";return{c(){e=v("option"),n=y(o),e.__value=l=t[12],e.value=e.__value},m(t,l){p(t,e,l),m(e,n)},p(t,r){2&r&&o!==(o=t[12]+"")&&k(n,o),2&r&&l!==(l=t[12])&&(e.__value=l,e.value=e.__value)},d(t){t&&g(e)}}}function ie(t){let e,n,l,o,r,s,c,i,u,a,f,h,d,$=t[7]+"",b=t[8]+"";return n=new te({props:{number:t[8],reference:t[9]}}),{c(){e=v("section"),ot(n.$$.fragment),l=_(),o=v("p"),r=y($),s=_(),c=v("p"),i=y(b),u=y("% of "),a=y(t[3]),f=y(" respondents"),h=_(),x(c,"class","summary"),x(e,"class","response")},m(t,g){p(t,e,g),rt(n,e,null),m(e,l),m(e,o),m(o,r),m(e,s),m(e,c),m(c,i),m(c,u),m(c,a),m(c,f),m(e,h),d=!0},p(t,e){const l={};4&e&&(l.number=t[8]),4&e&&(l.reference=t[9]),n.$set(l),(!d||4&e)&&$!==($=t[7]+"")&&k(r,$),(!d||4&e)&&b!==(b=t[8]+"")&&k(i,b),(!d||8&e)&&k(a,t[3])},i(t){d||(X(n.$$.fragment,t),d=!0)},o(t){Z(n.$$.fragment,t),d=!1},d(t){t&&g(e),st(n)}}}function ue(t){let e,n,l,o,r,s,c,i,u,a,f,h,d,T,q,E,A,P,M,O,S,B,j,K,L,N=t[0].q+"",D=t[0].r+"",I=ee(t[0].d)+"",R=t[1],Y=[];for(let e=0;e<R.length;e+=1)Y[e]=re(oe(t,R,e));let z="All"!=t[3]&&se(t),F=t[2],U=[];for(let e=0;e<F.length;e+=1)U[e]=ie(ne(t,F,e));const J=t=>Z(U[t],1,1,(()=>{U[t]=null}));return{c(){e=v("section"),n=v("h3"),l=y(N),o=_(),r=v("div"),s=v("label"),s.textContent="Segment",c=_(),i=b("svg"),u=b("rect"),a=_(),f=v("select");for(let t=0;t<Y.length;t+=1)Y[t].c();h=_(),z&&z.c(),d=_(),T=v("div");for(let t=0;t<U.length;t+=1)U[t].c();q=_(),E=v("p"),A=y("Total respondents "),P=y(D),M=_(),O=v("p"),S=y("Question asked on "),B=y(I),x(s,"for","primary-segment"),x(u,"class","filled"),x(u,"width","10"),x(u,"height","10"),x(i,"width","10"),x(i,"viewBox","0 0 10 10"),x(f,"id","primary-segment"),void 0===t[3]&&H((()=>t[5].call(f))),x(r,"class","selector"),x(T,"class","grid")},m(g,$){p(g,e,$),m(e,n),m(n,l),m(e,o),m(e,r),m(r,s),m(r,c),m(r,i),m(i,u),m(r,a),m(r,f);for(let t=0;t<Y.length;t+=1)Y[t].m(f,null);C(f,t[3]),m(e,h),z&&z.m(e,null),m(e,d),m(e,T);for(let t=0;t<U.length;t+=1)U[t].m(T,null);m(e,q),m(e,E),m(E,A),m(E,P),m(e,M),m(e,O),m(O,S),m(O,B),j=!0,K||(L=w(f,"change",t[5]),K=!0)},p(t,[n]){if((!j||1&n)&&N!==(N=t[0].q+"")&&k(l,N),2&n){let e;for(R=t[1],e=0;e<R.length;e+=1){const l=oe(t,R,e);Y[e]?Y[e].p(l,n):(Y[e]=re(l),Y[e].c(),Y[e].m(f,null))}for(;e<Y.length;e+=1)Y[e].d(1);Y.length=R.length}if(10&n&&C(f,t[3]),"All"!=t[3]?z?z.p(t,n):(z=se(t),z.c(),z.m(e,d)):z&&(z.d(1),z=null),12&n){let e;for(F=t[2],e=0;e<F.length;e+=1){const l=ne(t,F,e);U[e]?(U[e].p(l,n),X(U[e],1)):(U[e]=ie(l),U[e].c(),X(U[e],1),U[e].m(T,null))}for(W(),e=F.length;e<U.length;e+=1)J(e);G()}(!j||1&n)&&D!==(D=t[0].r+"")&&k(P,D),(!j||1&n)&&I!==(I=ee(t[0].d)+"")&&k(B,I)},i(t){if(!j){for(let t=0;t<F.length;t+=1)X(U[t]);j=!0}},o(t){U=U.filter(Boolean);for(let t=0;t<U.length;t+=1)Z(U[t]);j=!1},d(t){t&&g(e),$(Y,t),z&&z.d(),$(U,t),K=!1,L()}}}function ae(t,e,n){let l,{question:o}=e,{keys:r}=e,s="All",c="All";return t.$$set=t=>{"question"in t&&n(0,o=t.question),"keys"in t&&n(1,r=t.keys)},t.$$.update=()=>{if(27&t.$$.dirty){const t=r.indexOf(s),e=r.indexOf(c);n(2,l=o.a.map((({t:n,d:l})=>({title:n,number:l[t],reference:0!==t?l[e]:void 0}))))}},[o,r,l,s,c,function(){s=T(this),n(3,s),n(1,r)},function(){c=T(this),n(4,c),n(1,r)}]}class fe extends ut{constructor(t){super(),it(this,t,ae,ue,s,{question:0,keys:1})}}function he(t,e,n){const l=t.slice();return l[3]=e[n],l}function de(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function me(t){let e,n,l=t[0].q,o=[];for(let e=0;e<l.length;e+=1)o[e]=pe(he(t,l,e));const r=t=>Z(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=y("")},m(t,l){for(let e=0;e<o.length;e+=1)o[e].m(t,l);p(t,e,l),n=!0},p(t,n){if(1&n){let s;for(l=t[0].q,s=0;s<l.length;s+=1){const r=he(t,l,s);o[s]?(o[s].p(r,n),X(o[s],1)):(o[s]=pe(r),o[s].c(),X(o[s],1),o[s].m(e.parentNode,e))}for(W(),s=l.length;s<o.length;s+=1)r(s);G()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)X(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Z(o[t]);n=!1},d(t){$(o,t),t&&g(e)}}}function pe(t){let e,n;return e=new fe({props:{question:t[3],keys:t[0].k}}),{c(){ot(e.$$.fragment)},m(t,l){rt(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.question=t[3]),1&n&&(l.keys=t[0].k),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function ge(e){let n;return{c(){n=v("p"),n.textContent="Loading data file"},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function $e(t){let e,n,l,o,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:ge,then:me,catch:de,blocks:[,,,]};return nt(o=t[1],s),{c(){e=v("section"),n=v("h2"),n.textContent="The Teacher's Perspective",l=_(),s.block.c(),x(e,"class","teachertapp")},m(t,o){p(t,e,o),m(e,n),m(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const l=(t=e).slice();s.block.p(l,n)}},i(t){r||(X(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(s.blocks[t])}r=!1},d(t){t&&g(e),s.block.d(),s.token=null,s=null}}}function ve(t,e,n){let l;c(t,mt,(t=>n(0,l=t)));const o=(async()=>{i(mt,l=await(async t=>(await fetch(t)).json())("data/teacher-tapp/questions.json"),l)})();return[l,o]}class be extends ut{constructor(t){super(),it(this,t,ve,$e,s,{})}}function ye(e){let n,l,o,r,s,c,i,u,a,f,h;return n=new qt({}),o=new Ct({}),c=new ft({}),u=new Vt({}),f=new be({}),{c(){ot(n.$$.fragment),l=_(),ot(o.$$.fragment),r=_(),s=v("main"),ot(c.$$.fragment),i=_(),ot(u.$$.fragment),a=_(),ot(f.$$.fragment),x(s,"role","main")},m(t,e){rt(n,t,e),p(t,l,e),rt(o,t,e),p(t,r,e),p(t,s,e),rt(c,s,null),m(s,i),rt(u,s,null),m(s,a),rt(f,s,null),h=!0},p:t,i(t){h||(X(n.$$.fragment,t),X(o.$$.fragment,t),X(c.$$.fragment,t),X(u.$$.fragment,t),X(f.$$.fragment,t),h=!0)},o(t){Z(n.$$.fragment,t),Z(o.$$.fragment,t),Z(c.$$.fragment,t),Z(u.$$.fragment,t),Z(f.$$.fragment,t),h=!1},d(t){st(n,t),t&&g(l),st(o,t),t&&g(r),t&&g(s),st(c),st(u),st(f)}}}new class extends ut{constructor(t){super(),it(this,t,null,ye,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
