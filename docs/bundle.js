!function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function l(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,l){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function i(t,e,n=e){return t.set(n),e}const u="undefined"!=typeof window;let a=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const h=new Set;function d(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&f(d)}function p(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function _(){return y(" ")}function w(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}}function T(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function q(t,e,n){t.classList[n?"add":"remove"](e)}const E=new Set;let A,P=0;function M(t,e,n,l,o,r,s,c=0){const i=16.666/l;let u="{\n";for(let t=0;t<=1;t+=i){const l=e+(n-e)*r(t);u+=100*t+`%{${s(l,1-l)}}\n`}const a=u+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${c}`,h=t.ownerDocument;E.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild($("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${a}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${f} ${l}ms linear ${o}ms 1 both`,P+=1,f}function O(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-l.length;o&&(t.style.animation=l.join(", "),P-=o,P||f((()=>{P||(E.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),E.clear())})))}function S(t){A=t}function j(){if(!A)throw new Error("Function called outside component initialization");return A}const K=[],L=[],N=[],B=[],D=Promise.resolve();let I=!1;function H(t){N.push(t)}let R=!1;const Y=new Set;function z(){if(!R){R=!0;do{for(let t=0;t<K.length;t+=1){const e=K[t];S(e),F(e.$$)}for(S(null),K.length=0;L.length;)L.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];Y.has(e)||(Y.add(e),e())}N.length=0}while(K.length);for(;B.length;)B.pop()();I=!1,R=!1,Y.clear()}}function F(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}let U;function J(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const Q=new Set;let V;function W(){V={r:0,c:[],p:V}}function G(){V.r||o(V.c),V=V.p}function X(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function Z(t,e,n,l){if(t&&t.o){if(Q.has(t))return;Q.add(t),V.c.push((()=>{Q.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}const tt={duration:0};function et(n,l,s,c){let i=l(n,s),u=c?0:1,p=null,m=null,g=null;function b(){g&&O(n,g)}function $(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(l){const{delay:r=0,duration:s=300,easing:c=e,tick:v=t,css:y}=i||tt,_={start:a()+r,b:l};l||(_.group=V,V.r+=1),p||m?m=_:(y&&(b(),g=M(n,u,l,s,r,c,y)),l&&v(0,1),p=$(_,s),H((()=>J(n,l,"start"))),function(t){let e;0===h.size&&f(d),new Promise((n=>{h.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(p=$(m,s),m=null,J(n,p.b,"start"),y&&(b(),g=M(n,u,p.b,p.duration,0,c,i.css))),p)if(t>=p.end)v(u=p.b,1-u),J(n,p.b,"end"),m||(p.b?b():--p.group.r||o(p.group.c)),p=null;else if(t>=p.start){const e=t-p.start;u=p.a+p.d*c(e/p.duration),v(u,1-u)}return!(!p&&!m)})))}return{run(t){r(i)?(U||(U=Promise.resolve(),U.then((()=>{U=null}))),U).then((()=>{i=i(),v(t)})):v(t)},end(){b(),p=m=null}}}function nt(t,e){const n=e.token={};function l(t,l,o,r){if(e.token!==n)return;e.resolved=r;let s=e.ctx;void 0!==o&&(s=s.slice(),s[o]=r);const c=t&&(e.current=t)(s);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==l&&t&&(W(),Z(t,1,1,(()=>{e.blocks[n]=null})),G())})):e.block.d(1),c.c(),X(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[l]=c),i&&z()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=j();if(t.then((t=>{S(n),l(e.then,1,e.value,t),S(null)}),(t=>{if(S(n),l(e.catch,2,e.error,t),S(null),!e.hasCatch)throw t})),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}var o}const lt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ot(t){t&&t.c()}function rt(t,e,l){const{fragment:s,on_mount:c,on_destroy:i,after_update:u}=t.$$;s&&s.m(e,l),H((()=>{const e=c.map(n).filter(r);i?i.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(H)}function st(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(K.push(t),I||(I=!0,D.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function it(e,n,r,s,c,i,u=[-1]){const a=A;S(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:l(),dirty:u,skip_bound:!1};let d=!1;if(h.ctx=r?r(e,f,((t,n,...l)=>{const o=l.length?l[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),d&&ct(e,t)),n})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(g)}else h.fragment&&h.fragment.c();n.intro&&X(e.$$.fragment),rt(e,n.target,n.anchor),z()}S(a)}class ut{$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function at(e){let n;return{c(){n=$("section"),n.innerHTML="<h2>The Child&#39;s Perspective</h2> \n  <p>TKTKTK</p>"},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}class ft extends ut{constructor(t){super(),it(this,t,null,at,s,{})}}const ht=[];function dt(e,n=t){let l;const o=[];function r(t){if(s(e,t)&&(e=t,l)){const t=!ht.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),ht.push(n,e)}if(t){for(let t=0;t<ht.length;t+=2)ht[t][0](ht[t+1]);ht.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,c=t){const i=[s,c];return o.push(i),1===o.length&&(l=n(r)||t),s(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(l(),l=null)}}}}const pt=dt(),mt=dt(0),gt=dt(),bt={subscribe:dt(["tokens","bigrams"],$t).subscribe};var $t;const{window:vt}=lt;function yt(t,e,n){const l=t.slice();return l[13]=e[n],l[15]=n,l}function _t(t){let e,n,l,o=t[13].charAt(0).toUpperCase()+t[13].slice(1)+"";return{c(){e=$("option"),n=y(o),e.__value=l=t[15],e.value=e.__value,x(e,"class","svelte-11bht8b")},m(t,l){m(t,e,l),p(e,n)},p(t,e){16&e&&o!==(o=t[13].charAt(0).toUpperCase()+t[13].slice(1)+"")&&k(n,o)},d(t){t&&g(e)}}}function wt(t){let e,n,l,o,r,s,c,i,u,a,f,h;return{c(){e=$("section"),n=$("h2"),n.textContent="The Teacher's Perspective",l=_(),o=$("p"),o.textContent="We commissioned a series of surveys with Teacher Tapp.\n        TKTKTK",r=_(),s=$("p"),s.textContent="The square charts show the percentage of respondents who selected that\n        option. Each square represents 1 percent.",c=_(),i=$("p"),i.textContent="The surveys returned by the teachers have been segmented during\n        analysis. Select a segment to drill down into the results.",u=_(),a=$("p"),a.textContent="You can comare this result against another segment with the select box\n        that appears. The baseline figure will appear as a solid border on the\n        chart.",x(n,"class","svelte-11bht8b"),x(o,"class","svelte-11bht8b"),x(s,"class","svelte-11bht8b"),x(i,"class","svelte-11bht8b"),x(a,"class","svelte-11bht8b"),x(e,"class","svelte-11bht8b"),q(e,"hidden",t[2])},m(d,g){m(d,e,g),p(e,n),p(e,l),p(e,o),p(e,r),p(e,s),p(e,c),p(e,i),p(e,u),p(e,a),f||(h=w(n,"click",t[10]),f=!0)},p(t,n){4&n&&q(e,"hidden",t[2])},d(t){t&&g(e),f=!1,h()}}}function xt(e){let n,l,r,s,c,i,u,a,f,h,d,v,y,k,T,E,A,P=e[4],M=[];for(let t=0;t<P.length;t+=1)M[t]=_t(yt(e,P,t));let O=e[5]&&wt(e);return{c(){n=$("aside"),l=$("section"),r=$("h2"),r.textContent="The Child's Perspective",s=_(),c=$("p"),c.textContent="TKTKTK",i=_(),u=$("section"),a=$("h2"),a.textContent="The Parent's Perspective",f=_(),h=$("p"),h.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",d=_(),v=$("p"),v.textContent="You can select either 'Tokens' for single words or 'Bigrams' for pairs of\n      words. Clicking the column title will sort the terms by the prevalence in\n      that month. The number of terms will be limited to the top 10.",y=_(),k=$("select");for(let t=0;t<M.length;t+=1)M[t].c();T=_(),O&&O.c(),x(r,"class","svelte-11bht8b"),x(c,"class","svelte-11bht8b"),x(l,"class","svelte-11bht8b"),q(l,"hidden",e[0]),x(a,"class","svelte-11bht8b"),x(h,"class","svelte-11bht8b"),x(v,"class","svelte-11bht8b"),x(k,"class","svelte-11bht8b"),void 0===e[3]&&H((()=>e[9].call(k))),x(u,"class","svelte-11bht8b"),q(u,"hidden",e[1]),x(n,"class","svelte-11bht8b")},m(t,o){m(t,n,o),p(n,l),p(l,r),p(l,s),p(l,c),p(n,i),p(n,u),p(u,a),p(u,f),p(u,h),p(u,d),p(u,v),p(u,y),p(u,k);for(let t=0;t<M.length;t+=1)M[t].m(k,null);C(k,e[3]),p(n,T),O&&O.m(n,null),E||(A=[w(vt,"scroll",e[6]),w(r,"click",e[7]),w(a,"click",e[8]),w(k,"change",e[9])],E=!0)},p(t,[e]){if(1&e&&q(l,"hidden",t[0]),16&e){let n;for(P=t[4],n=0;n<P.length;n+=1){const l=yt(t,P,n);M[n]?M[n].p(l,e):(M[n]=_t(l),M[n].c(),M[n].m(k,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=P.length}8&e&&C(k,t[3]),2&e&&q(u,"hidden",t[1]),t[5]?O?O.p(t,e):(O=wt(t),O.c(),O.m(n,null)):O&&(O.d(1),O=null)},i:t,o:t,d(t){t&&g(n),b(M,t),O&&O.d(),E=!1,o(A)}}}function kt(t,e,n){let l,o,r;c(t,mt,(t=>n(3,l=t))),c(t,bt,(t=>n(4,o=t))),c(t,pt,(t=>n(5,r=t)));let s=!0,i=!0,u=!0;const a=[10,920],f=t=>{n(0,[s,i,u]=t<a[0]?[!1,!0,!0]:t<a[1]?[!0,!1,!0]:[!0,!0,!1],s,n(1,i),n(2,u))};f(window.scrollY);return[s,i,u,l,o,r,()=>f(window.scrollY),()=>n(0,s=!s),()=>n(1,i=!i),function(){l=T(this),mt.set(l)},()=>n(2,u=!u)]}class Ct extends ut{constructor(t){super(),it(this,t,kt,xt,s,{})}}function Tt(e){let n;return{c(){n=$("header"),n.innerHTML="<h1>Exploring the impact of COVID-19 on Education</h1>"},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}class qt extends ut{constructor(t){super(),it(this,t,null,Tt,s,{})}}function Et(t,{delay:n=0,duration:l=400,easing:o=e}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:l,easing:o,css:t=>"opacity: "+t*r}}function At(t){let e,n,l;return{c(){e=$("div"),x(e,"class","popover")},m(n,o){m(n,e,o),e.innerHTML=t[1],l=!0},p(t,n){(!l||2&n)&&(e.innerHTML=t[1])},i(t){l||(H((()=>{n||(n=et(e,Et,{},!0)),n.run(1)})),l=!0)},o(t){n||(n=et(e,Et,{},!1)),n.run(0),l=!1},d(t){t&&g(e),t&&n&&n.end()}}}function Pt(t){let e,n,l,r,s,c,i,u=t[1]&&t[2]&&At(t);return{c(){e=$("div"),n=v("svg"),l=v("circle"),r=_(),u&&u.c(),x(l,"r",t[0]),x(n,"viewBox","-1 -1 2 2"),x(e,"class","container")},m(o,a){m(o,e,a),p(e,n),p(n,l),p(e,r),u&&u.m(e,null),s=!0,c||(i=[w(n,"mouseenter",t[3]),w(n,"mouseleave",t[4])],c=!0)},p(t,[n]){(!s||1&n)&&x(l,"r",t[0]),t[1]&&t[2]?u?(u.p(t,n),6&n&&X(u,1)):(u=At(t),u.c(),X(u,1),u.m(e,null)):u&&(W(),Z(u,1,1,(()=>{u=null})),G())},i(t){s||(X(u),s=!0)},o(t){Z(u),s=!1},d(t){t&&g(e),u&&u.d(),c=!1,o(i)}}}function Mt(t,e,n){let l,{radius:o}=e,{content:r}=e;return t.$$set=t=>{"radius"in t&&n(0,o=t.radius),"content"in t&&n(1,r=t.content)},[o,r,l,()=>n(2,l=!0),()=>n(2,l=!1)]}class Ot extends ut{constructor(t){super(),it(this,t,Mt,Pt,s,{radius:0,content:1})}}function St(t,e,n){const l=t.slice();return l[9]=e[n],l[11]=n,l}function jt(t,e,n){const l=t.slice();return l[6]=e[n],l}function Kt(t,e,n){const l=t.slice();return l[9]=e[n],l[11]=n,l}function Lt(t){let e,n,l,o,r=t[9]+"";function s(...e){return t[5](t[11],...e)}return{c(){e=$("th"),n=y(r),x(e,"class","svelte-mtqint"),q(e,"selected",t[11]===t[2])},m(t,r){m(t,e,r),p(e,n),l||(o=w(e,"click",s),l=!0)},p(l,o){t=l,1&o&&r!==(r=t[9]+"")&&k(n,r),4&o&&q(e,"selected",t[11]===t[2])},d(t){t&&g(e),l=!1,o()}}}function Nt(e){let n,l=e[6][e[9]]+"";return{c(){n=y(l)},m(t,e){m(t,n,e)},p(t,e){1&e&&l!==(l=t[6][t[9]]+"")&&k(n,l)},i:t,o:t,d(t){t&&g(n)}}}function Bt(t){let e,n;return e=new Ot({props:{radius:Math.sqrt(t[6][t[9]]/t[3]),content:"<p>"+t[6][t[9]]+"</p>"}}),{c(){ot(e.$$.fragment)},m(t,l){rt(e,t,l),n=!0},p(t,n){const l={};9&n&&(l.radius=Math.sqrt(t[6][t[9]]/t[3])),1&n&&(l.content="<p>"+t[6][t[9]]+"</p>"),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Dt(t){let e,n,l,o,r;const s=[Bt,Nt],c=[];function i(t,e){return 1&e&&(n=!!t[4](t[6][t[9]])),n?0:1}return l=i(t,-1),o=c[l]=s[l](t),{c(){e=$("td"),o.c(),x(e,"class","svelte-mtqint"),q(e,"selected",t[11]===t[2])},m(t,n){m(t,e,n),c[l].m(e,null),r=!0},p(t,n){let r=l;l=i(t,n),l===r?c[l].p(t,n):(W(),Z(c[r],1,1,(()=>{c[r]=null})),G(),o=c[l],o||(o=c[l]=s[l](t),o.c()),X(o,1),o.m(e,null)),4&n&&q(e,"selected",t[11]===t[2])},i(t){r||(X(o),r=!0)},o(t){Z(o),r=!1},d(t){t&&g(e),c[l].d()}}}function It(t){let e,n,l,o=t[0].columns,r=[];for(let e=0;e<o.length;e+=1)r[e]=Dt(St(t,o,e));const s=t=>Z(r[t],1,1,(()=>{r[t]=null}));return{c(){e=$("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=_()},m(t,o){m(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);p(e,n),l=!0},p(t,l){if(29&l){let c;for(o=t[0].columns,c=0;c<o.length;c+=1){const s=St(t,o,c);r[c]?(r[c].p(s,l),X(r[c],1)):(r[c]=Dt(s),r[c].c(),X(r[c],1),r[c].m(e,n))}for(W(),c=o.length;c<r.length;c+=1)s(c);G()}},i(t){if(!l){for(let t=0;t<o.length;t+=1)X(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Z(r[t]);l=!1},d(t){t&&g(e),b(r,t)}}}function Ht(t){let e,n,l,o,r,s,c=t[0].columns,i=[];for(let e=0;e<c.length;e+=1)i[e]=Lt(Kt(t,c,e));let u=t[0],a=[];for(let e=0;e<u.length;e+=1)a[e]=It(jt(t,u,e));const f=t=>Z(a[t],1,1,(()=>{a[t]=null}));return{c(){e=$("table"),n=$("thead"),l=$("tr");for(let t=0;t<i.length;t+=1)i[t].c();o=_(),r=$("tbody");for(let t=0;t<a.length;t+=1)a[t].c();x(e,"class","svelte-mtqint")},m(t,c){m(t,e,c),p(e,n),p(n,l);for(let t=0;t<i.length;t+=1)i[t].m(l,null);p(e,o),p(e,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);s=!0},p(t,[e]){if(7&e){let n;for(c=t[0].columns,n=0;n<c.length;n+=1){const o=Kt(t,c,n);i[n]?i[n].p(o,e):(i[n]=Lt(o),i[n].c(),i[n].m(l,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}if(29&e){let n;for(u=t[0],n=0;n<u.length;n+=1){const l=jt(t,u,n);a[n]?(a[n].p(l,e),X(a[n],1)):(a[n]=It(l),a[n].c(),X(a[n],1),a[n].m(r,null))}for(W(),n=u.length;n<a.length;n+=1)f(n);G()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)X(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Z(a[t]);s=!1},d(t){t&&g(e),b(i,t),b(a,t)}}}function Rt(t,e,n){let{data:l}=e,{handler:o=(()=>{})}=e,{highlight:r}=e;const s=t=>!isNaN(t);let c;return t.$$set=t=>{"data"in t&&n(0,l=t.data),"handler"in t&&n(1,o=t.handler),"highlight"in t&&n(2,r=t.highlight)},t.$$.update=()=>{1&t.$$.dirty&&n(3,c=l.reduce(((t,e)=>{const n=Math.max(...Object.values(e).filter(s));return n>t?n:t}),0))},[l,o,r,c,s,t=>o(t)]}class Yt extends ut{constructor(t){super(),it(this,t,Rt,Ht,s,{data:0,handler:1,highlight:2})}}function zt(e){let n,l,o,r,s=e[10]+"";return{c(){n=$("p"),n.textContent="Data not loaded!",l=_(),o=$("p"),r=y(s),function(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}(n,"color","red")},m(t,e){m(t,n,e),m(t,l,e),m(t,o,e),p(o,r)},p:t,i:t,o:t,d(t){t&&g(n),t&&g(l),t&&g(o)}}}function Ft(t){let e,n,l,o;return e=new Yt({props:{data:t[1],handler:t[3],highlight:t[0]}}),{c(){ot(e.$$.fragment),n=_(),l=$("aside"),l.textContent="Data sourced from Mumsnet MI systems with kind permission."},m(t,r){rt(e,t,r),m(t,n,r),m(t,l,r),o=!0},p(t,n){const l={};2&n&&(l.data=t[1]),1&n&&(l.highlight=t[0]),e.$set(l)},i(t){o||(X(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){st(e,t),t&&g(n),t&&g(l)}}}function Ut(e){let n;return{c(){n=y("Loading data...")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function Jt(t){let e,n,l,o,r,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Ut,then:Ft,catch:zt,error:10,blocks:[,,,]};return nt(o=t[2],s),{c(){e=$("section"),n=$("h2"),n.textContent="The Parent's Perspective",l=_(),s.block.c(),x(e,"class","mumsnet")},m(t,o){m(t,e,o),p(e,n),p(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const l=(t=e).slice();l[10]=s.resolved,s.block.p(l,n)}},i(t){r||(X(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(s.blocks[t])}r=!1},d(t){t&&g(e),s.block.d(),s.token=null,s=null}}}function Qt(t,e,n){let l,o,r;c(t,bt,(t=>n(5,l=t))),c(t,gt,(t=>n(1,o=t))),c(t,mt,(t=>n(6,r=t)));let s,u=2;function a(t,e,n){const l=t[e],o=l.columns[n],r=h(o),s=l.sort(r).slice(0,10);return s.columns=l.columns,s}let f=async function(){n(4,s=await Promise.all(l.map((t=>(async t=>{const e=await fetch(t),n=await e.text(),[l,...o]=n.split("\n").filter((t=>t)).map((t=>t.split(/\s*,\s*/))),r=o.map((t=>t.reduce(((t,e,n)=>(t[l[n]]=e,t)),{})));return Object.defineProperty(r,"columns",{enumerable:!1,writable:!0}),r.columns=l,r})(`data/mumsnet/${t}.csv`))))),i(gt,o=a(s,r,u),o)}();const h=t=>(e,n)=>parseInt(e[t])>parseInt(n[t])?-1:parseInt(e[t])<parseInt(n[t])?1:0;return t.$$.update=()=>{81&t.$$.dirty&&s&&i(gt,o=a(s,r,u),o)},[u,o,f,t=>{0!==t&&n(0,u=t)}]}class Vt extends ut{constructor(t){super(),it(this,t,Qt,Jt,s,{})}}function Wt(t,e,n){const l=t.slice();return l[3]=e[n],l[5]=n,l}function Gt(t){let e,n,l;return{c(){e=v("rect"),x(e,"width","8"),x(e,"height","8"),x(e,"x",n=t[5]%10*10),x(e,"y",l=10*Math.floor((99-t[5])/10)),x(e,"class","svelte-4kqj2h"),q(e,"greyed",t[5]+1>100*t[0]/t[2]),q(e,"baseline",t[5]+1<=100*t[1]/t[2])},m(t,n){m(t,e,n)},p(t,n){5&n&&q(e,"greyed",t[5]+1>100*t[0]/t[2]),6&n&&q(e,"baseline",t[5]+1<=100*t[1]/t[2])},d(t){t&&g(e)}}}function Xt(e){let n,l=Array(100),o=[];for(let t=0;t<l.length;t+=1)o[t]=Gt(Wt(e,l,t));return{c(){n=v("svg");for(let t=0;t<o.length;t+=1)o[t].c();x(n,"viewBox","0 0 100 100")},m(t,e){m(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(7&e){let r;for(l=Array(100),r=0;r<l.length;r+=1){const s=Wt(t,l,r);o[r]?o[r].p(s,e):(o[r]=Gt(s),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=l.length}},i:t,o:t,d(t){t&&g(n),b(o,t)}}}function Zt(t,e,n){let{number:l}=e,{reference:o}=e,{total:r=100}=e;return t.$$set=t=>{"number"in t&&n(0,l=t.number),"reference"in t&&n(1,o=t.reference),"total"in t&&n(2,r=t.total)},[l,o,r]}class te extends ut{constructor(t){super(),it(this,t,Zt,Xt,s,{number:0,reference:1,total:2})}}const ee=t=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(t));function ne(t,e,n){const l=t.slice();return l[7]=e[n].title,l[8]=e[n].number,l[9]=e[n].reference,l}function le(t,e,n){const l=t.slice();return l[12]=e[n],l}function oe(t,e,n){const l=t.slice();return l[12]=e[n],l}function re(t){let e,n,l,o=t[12]+"";return{c(){e=$("option"),n=y(o),e.__value=l=t[12],e.value=e.__value},m(t,l){m(t,e,l),p(e,n)},p(t,r){2&r&&o!==(o=t[12]+"")&&k(n,o),2&r&&l!==(l=t[12])&&(e.__value=l,e.value=e.__value)},d(t){t&&g(e)}}}function se(t){let e,n,l,o,r,s,c,i=t[1],u=[];for(let e=0;e<i.length;e+=1)u[e]=ce(le(t,i,e));return{c(){e=$("div"),n=$("label"),n.textContent="Comparison",l=_(),o=$("select"),r=$("option"),r.textContent="None";for(let t=0;t<u.length;t+=1)u[t].c();x(n,"for","comarison-segment"),r.__value="None",r.value=r.__value,x(o,"id","comparison-segment"),void 0===t[4]&&H((()=>t[6].call(o)))},m(i,a){m(i,e,a),p(e,n),p(e,l),p(e,o),p(o,r);for(let t=0;t<u.length;t+=1)u[t].m(o,null);C(o,t[4]),s||(c=w(o,"change",t[6]),s=!0)},p(t,e){if(2&e){let n;for(i=t[1],n=0;n<i.length;n+=1){const l=le(t,i,n);u[n]?u[n].p(l,e):(u[n]=ce(l),u[n].c(),u[n].m(o,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=i.length}18&e&&C(o,t[4])},d(t){t&&g(e),b(u,t),s=!1,c()}}}function ce(t){let e,n,l,o=t[12]+"";return{c(){e=$("option"),n=y(o),e.__value=l=t[12],e.value=e.__value},m(t,l){m(t,e,l),p(e,n)},p(t,r){2&r&&o!==(o=t[12]+"")&&k(n,o),2&r&&l!==(l=t[12])&&(e.__value=l,e.value=e.__value)},d(t){t&&g(e)}}}function ie(t){let e,n,l,o,r,s,c,i,u,a,f,h,d,b=t[7]+"",v=t[8]+"";return n=new te({props:{number:t[8],reference:t[9]}}),{c(){e=$("section"),ot(n.$$.fragment),l=_(),o=$("p"),r=y(b),s=_(),c=$("p"),i=y(v),u=y("% of "),a=y(t[3]),f=y(" respondents"),h=_(),x(c,"class","summary"),x(e,"class","response")},m(t,g){m(t,e,g),rt(n,e,null),p(e,l),p(e,o),p(o,r),p(e,s),p(e,c),p(c,i),p(c,u),p(c,a),p(c,f),p(e,h),d=!0},p(t,e){const l={};4&e&&(l.number=t[8]),4&e&&(l.reference=t[9]),n.$set(l),(!d||4&e)&&b!==(b=t[7]+"")&&k(r,b),(!d||4&e)&&v!==(v=t[8]+"")&&k(i,v),(!d||8&e)&&k(a,t[3])},i(t){d||(X(n.$$.fragment,t),d=!0)},o(t){Z(n.$$.fragment,t),d=!1},d(t){t&&g(e),st(n)}}}function ue(t){let e,n,l,o,r,s,c,i,u,a,f,h,d,v,T,q,E,A,P,M,O,S,j=t[0].q+"",K=t[0].r+"",L=ee(t[0].d)+"",N=t[1],B=[];for(let e=0;e<N.length;e+=1)B[e]=re(oe(t,N,e));let D="All"!=t[3]&&se(t),I=t[2],R=[];for(let e=0;e<I.length;e+=1)R[e]=ie(ne(t,I,e));const Y=t=>Z(R[t],1,1,(()=>{R[t]=null}));return{c(){e=$("section"),n=$("h3"),l=y(j),o=_(),r=$("div"),s=$("label"),s.textContent="Segment",c=_(),i=$("select");for(let t=0;t<B.length;t+=1)B[t].c();u=_(),D&&D.c(),a=_(),f=$("div");for(let t=0;t<R.length;t+=1)R[t].c();h=_(),d=$("p"),v=y("Total respondents "),T=y(K),q=_(),E=$("p"),A=y("Question asked on "),P=y(L),x(s,"for","primary-segment"),x(i,"id","primary-segment"),void 0===t[3]&&H((()=>t[5].call(i))),x(f,"class","grid")},m(g,b){m(g,e,b),p(e,n),p(n,l),p(e,o),p(e,r),p(r,s),p(r,c),p(r,i);for(let t=0;t<B.length;t+=1)B[t].m(i,null);C(i,t[3]),p(e,u),D&&D.m(e,null),p(e,a),p(e,f);for(let t=0;t<R.length;t+=1)R[t].m(f,null);p(e,h),p(e,d),p(d,v),p(d,T),p(e,q),p(e,E),p(E,A),p(E,P),M=!0,O||(S=w(i,"change",t[5]),O=!0)},p(t,[n]){if((!M||1&n)&&j!==(j=t[0].q+"")&&k(l,j),2&n){let e;for(N=t[1],e=0;e<N.length;e+=1){const l=oe(t,N,e);B[e]?B[e].p(l,n):(B[e]=re(l),B[e].c(),B[e].m(i,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=N.length}if(10&n&&C(i,t[3]),"All"!=t[3]?D?D.p(t,n):(D=se(t),D.c(),D.m(e,a)):D&&(D.d(1),D=null),12&n){let e;for(I=t[2],e=0;e<I.length;e+=1){const l=ne(t,I,e);R[e]?(R[e].p(l,n),X(R[e],1)):(R[e]=ie(l),R[e].c(),X(R[e],1),R[e].m(f,null))}for(W(),e=I.length;e<R.length;e+=1)Y(e);G()}(!M||1&n)&&K!==(K=t[0].r+"")&&k(T,K),(!M||1&n)&&L!==(L=ee(t[0].d)+"")&&k(P,L)},i(t){if(!M){for(let t=0;t<I.length;t+=1)X(R[t]);M=!0}},o(t){R=R.filter(Boolean);for(let t=0;t<R.length;t+=1)Z(R[t]);M=!1},d(t){t&&g(e),b(B,t),D&&D.d(),b(R,t),O=!1,S()}}}function ae(t,e,n){let l,{question:o}=e,{keys:r}=e,s="All",c="All";return t.$$set=t=>{"question"in t&&n(0,o=t.question),"keys"in t&&n(1,r=t.keys)},t.$$.update=()=>{if(27&t.$$.dirty){const t=r.indexOf(s),e=r.indexOf(c);n(2,l=o.a.map((({t:n,d:l})=>({title:n,number:l[t],reference:0!==t?l[e]:void 0}))))}},[o,r,l,s,c,function(){s=T(this),n(3,s),n(1,r)},function(){c=T(this),n(4,c),n(1,r)}]}class fe extends ut{constructor(t){super(),it(this,t,ae,ue,s,{question:0,keys:1})}}function he(t,e,n){const l=t.slice();return l[3]=e[n],l}function de(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function pe(t){let e,n,l=t[0].q,o=[];for(let e=0;e<l.length;e+=1)o[e]=me(he(t,l,e));const r=t=>Z(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=y("")},m(t,l){for(let e=0;e<o.length;e+=1)o[e].m(t,l);m(t,e,l),n=!0},p(t,n){if(1&n){let s;for(l=t[0].q,s=0;s<l.length;s+=1){const r=he(t,l,s);o[s]?(o[s].p(r,n),X(o[s],1)):(o[s]=me(r),o[s].c(),X(o[s],1),o[s].m(e.parentNode,e))}for(W(),s=l.length;s<o.length;s+=1)r(s);G()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)X(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Z(o[t]);n=!1},d(t){b(o,t),t&&g(e)}}}function me(t){let e,n;return e=new fe({props:{question:t[3],keys:t[0].k}}),{c(){ot(e.$$.fragment)},m(t,l){rt(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.question=t[3]),1&n&&(l.keys=t[0].k),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function ge(e){let n;return{c(){n=$("p"),n.textContent="Loading data file"},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function be(t){let e,n,l,o,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:ge,then:pe,catch:de,blocks:[,,,]};return nt(o=t[1],s),{c(){e=$("section"),n=$("h2"),n.textContent="The Teacher's Perspective",l=_(),s.block.c(),x(e,"class","teachertapp")},m(t,o){m(t,e,o),p(e,n),p(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,r=!0},p(e,[n]){{const l=(t=e).slice();s.block.p(l,n)}},i(t){r||(X(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(s.blocks[t])}r=!1},d(t){t&&g(e),s.block.d(),s.token=null,s=null}}}function $e(t,e,n){let l;c(t,pt,(t=>n(0,l=t)));const o=(async()=>{i(pt,l=await(async t=>(await fetch(t)).json())("data/teacher-tapp/questions.json"),l)})();return[l,o]}class ve extends ut{constructor(t){super(),it(this,t,$e,be,s,{})}}function ye(e){let n,l,o,r,s,c,i,u,a,f,h,d;return n=new qt({}),o=new Ct({}),i=new ft({}),a=new Vt({}),h=new ve({}),{c(){ot(n.$$.fragment),l=_(),ot(o.$$.fragment),r=_(),s=$("main"),c=$("article"),ot(i.$$.fragment),u=_(),ot(a.$$.fragment),f=_(),ot(h.$$.fragment),x(s,"role","main")},m(t,e){rt(n,t,e),m(t,l,e),rt(o,t,e),m(t,r,e),m(t,s,e),p(s,c),rt(i,c,null),p(c,u),rt(a,c,null),p(c,f),rt(h,c,null),d=!0},p:t,i(t){d||(X(n.$$.fragment,t),X(o.$$.fragment,t),X(i.$$.fragment,t),X(a.$$.fragment,t),X(h.$$.fragment,t),d=!0)},o(t){Z(n.$$.fragment,t),Z(o.$$.fragment,t),Z(i.$$.fragment,t),Z(a.$$.fragment,t),Z(h.$$.fragment,t),d=!1},d(t){st(n,t),t&&g(l),st(o,t),t&&g(r),t&&g(s),st(i),st(a),st(h)}}}new class extends ut{constructor(t){super(),it(this,t,null,ye,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
