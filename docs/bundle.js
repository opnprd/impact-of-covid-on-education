!function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(r)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(t,e,n=e){return t.set(n),e}const u="undefined"!=typeof window;let f=u?()=>window.performance.now():()=>Date.now(),h=u?t=>requestAnimationFrame(t):t;const d=new Set;function m(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&h(m)}function p(t){let e;return 0===d.size&&h(m),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}function g(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function _(){return x(" ")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function E(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function P(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function q(t,e,n){t.classList[n?"add":"remove"](e)}const M=new Set;let S,B=0;function j(t,e,n,r,o,l,s,c=0){const i=16.666/r;let a="{\n";for(let t=0;t<=1;t+=i){const r=e+(n-e)*l(t);a+=100*t+`%{${s(r,1-r)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,h=t.ownerDocument;M.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(y("style")).sheet),m=h.__svelte_rules||(h.__svelte_rules={});m[f]||(m[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?p+", ":""}${f} ${r}ms linear ${o}ms 1 both`,B+=1,f}function O(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),B-=o,B||h((()=>{B||(M.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),M.clear())})))}function D(t){S=t}function I(){if(!S)throw new Error("Function called outside component initialization");return S}const L=[],N=[],R=[],z=[],H=Promise.resolve();let Y=!1;function F(t){R.push(t)}let K=!1;const G=new Set;function J(){if(!K){K=!0;do{for(let t=0;t<L.length;t+=1){const e=L[t];D(e),Q(e.$$)}for(D(null),L.length=0;N.length;)N.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];G.has(e)||(G.add(e),e())}R.length=0}while(L.length);for(;z.length;)z.pop()();Y=!1,K=!1,G.clear()}}function Q(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}let U;function W(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const X=new Set;let V;function Z(){V={r:0,c:[],p:V}}function tt(){V.r||l(V.c),V=V.p}function et(t,e){t&&t.i&&(X.delete(t),t.i(e))}function nt(t,e,n,r){if(t&&t.o){if(X.has(t))return;X.add(t),V.c.push((()=>{X.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const rt={duration:0};function ot(n,r,o,c){let i=r(n,o),a=c?0:1,u=null,h=null,d=null;function m(){d&&O(n,d)}function g(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(r){const{delay:o=0,duration:s=300,easing:c=e,tick:$=t,css:b}=i||rt,v={start:f()+o,b:r};r||(v.group=V,V.r+=1),u||h?h=v:(b&&(m(),d=j(n,a,r,s,o,c,b)),r&&$(0,1),u=g(v,s),F((()=>W(n,r,"start"))),p((t=>{if(h&&t>h.start&&(u=g(h,s),h=null,W(n,u.b,"start"),b&&(m(),d=j(n,a,u.b,u.duration,0,c,i.css))),u)if(t>=u.end)$(a=u.b,1-a),W(n,u.b,"end"),h||(u.b?m():--u.group.r||l(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*c(e/u.duration),$(a,1-a)}return!(!u&&!h)})))}return{run(t){s(i)?(U||(U=Promise.resolve(),U.then((()=>{U=null}))),U).then((()=>{i=i(),$(t)})):$(t)},end(){m(),u=h=null}}}function lt(t,e){const n=e.token={};function r(t,r,o,l){if(e.token!==n)return;e.resolved=l;let s=e.ctx;void 0!==o&&(s=s.slice(),s[o]=l);const c=t&&(e.current=t)(s);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(Z(),nt(t,1,1,(()=>{e.blocks[n]=null})),tt())})):e.block.d(1),c.c(),et(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[r]=c),i&&J()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=I();if(t.then((t=>{D(n),r(e.then,1,e.value,t),D(null)}),(t=>{if(D(n),r(e.catch,2,e.error,t),D(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}const st="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ct(t){t&&t.c()}function it(t,e,n){const{fragment:o,on_mount:c,on_destroy:i,after_update:a}=t.$$;o&&o.m(e,n),F((()=>{const e=c.map(r).filter(s);i?i.push(...e):l(e),t.$$.on_mount=[]})),a.forEach(F)}function at(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ut(t,e){-1===t.$$.dirty[0]&&(L.push(t),Y||(Y=!0,H.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ft(e,n,r,s,c,i,a=[-1]){const u=S;D(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a,skip_bound:!1};let d=!1;if(h.ctx=r?r(e,f,((t,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),d&&ut(e,t)),n})):[],h.update(),d=!0,l(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(b)}else h.fragment&&h.fragment.c();n.intro&&et(e.$$.fragment),it(e,n.target,n.anchor),J()}D(u)}class ht{$destroy(){at(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const dt=[];function mt(e,n=t){let r;const o=[];function l(t){if(c(e,t)&&(e=t,r)){const t=!dt.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),dt.push(n,e)}if(t){for(let t=0;t<dt.length;t+=2)dt[t][0](dt[t+1]);dt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,c=t){const i=[s,c];return o.push(i),1===o.length&&(r=n(l)||t),s(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function pt(t){const e=t-1;return e*e*e+1}function gt(t){return"[object Date]"===Object.prototype.toString.call(t)}function $t(t,e,n,r){if("number"==typeof n||gt(n)){const o=r-n,l=(n-e)/(t.dt||1/60),s=(l+(t.opts.stiffness*o-t.opts.damping*l)*t.inv_mass)*t.dt;return Math.abs(s)<t.opts.precision&&Math.abs(o)<t.opts.precision?r:(t.settled=!1,gt(n)?new Date(n.getTime()+s):n+s)}if(Array.isArray(n))return n.map(((o,l)=>$t(t,e[l],n[l],r[l])));if("object"==typeof n){const o={};for(const l in n)o[l]=$t(t,e[l],n[l],r[l]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function bt(t,e={}){const n=mt(t),{stiffness:r=.15,damping:o=.8,precision:l=.01}=e;let s,c,i,a=t,u=t,h=1,d=0,m=!1;function g(e,r={}){u=e;const o=i={};if(null==t||r.hard||$.stiffness>=1&&$.damping>=1)return m=!0,s=f(),a=e,n.set(t=u),Promise.resolve();if(r.soft){const t=!0===r.soft?.5:+r.soft;d=1/(60*t),h=0}return c||(s=f(),m=!1,c=p((e=>{if(m)return m=!1,c=null,!1;h=Math.min(h+d,1);const r={inv_mass:h,opts:$,settled:!0,dt:60*(e-s)/1e3},o=$t(r,a,t,u);return s=e,a=t,n.set(t=o),r.settled&&(c=null),!r.settled}))),new Promise((t=>{c.promise.then((()=>{o===i&&t()}))}))}const $={set:g,update:(e,n)=>g(e(u,t),n),subscribe:n.subscribe,stiffness:r,damping:o,precision:l};return $}function vt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>vt(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(gt(t)&&gt(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=vt(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}const yt=async t=>{const e=await fetch(t),n=await e.text(),[r,...o]=n.split("\n").filter((t=>t)).map((t=>t.split(/\s*,\s*/))),l=o.map((t=>t.reduce(((t,e,n)=>(t[r[n]]=e,t)),{})));return Object.defineProperty(l,"columns",{enumerable:!1,writable:!0}),l.columns=r,l};function wt(e){let n,r,o;return{c(){n=w("svg"),r=w("rect"),C(r,"x","0"),C(r,"y","0"),C(r,"width",o=e[0]/e[1]),C(r,"height","1"),C(n,"viewBox","0 0 1 1"),C(n,"preserveAspectRatio","xMidYMin slice")},m(t,e){$(t,n,e),g(n,r)},p(t,[e]){3&e&&o!==(o=t[0]/t[1])&&C(r,"width",o)},i:t,o:t,d(t){t&&b(n)}}}function xt(t,e,n){let{value:r}=e,{max:o=100}=e;return t.$$set=t=>{"value"in t&&n(0,r=t.value),"max"in t&&n(1,o=t.max)},[r,o]}class _t extends ht{constructor(t){super(),ft(this,t,xt,wt,c,{value:0,max:1})}}function kt(t){let e,n,r,o,l,s,c,i,a,u,f=Math.round(t[1],0)+"";return s=new _t({props:{value:t[1],max:t[2]}}),{c(){e=y("ul"),n=y("li"),r=x(t[0]),o=_(),l=y("li"),ct(s.$$.fragment),c=_(),i=y("li"),a=x(f),C(n,"class","label svelte-13g22zm"),C(l,"class","bar svelte-13g22zm"),C(i,"class","value svelte-13g22zm"),C(e,"class","svelte-13g22zm")},m(t,f){$(t,e,f),g(e,n),g(n,r),g(e,o),g(e,l),it(s,l,null),g(e,c),g(e,i),g(i,a),u=!0},p(t,[e]){(!u||1&e)&&T(r,t[0]);const n={};2&e&&(n.value=t[1]),4&e&&(n.max=t[2]),s.$set(n),(!u||2&e)&&f!==(f=Math.round(t[1],0)+"")&&T(a,f)},i(t){u||(et(s.$$.fragment,t),u=!0)},o(t){nt(s.$$.fragment,t),u=!1},d(t){t&&b(e),at(s)}}}function Ct(t,e,n){let{label:r}=e,{value:o}=e,{max:l}=e;return t.$$set=t=>{"label"in t&&n(0,r=t.label),"value"in t&&n(1,o=t.value),"max"in t&&n(2,l=t.max)},[r,o,l]}class Tt extends ht{constructor(t){super(),ft(this,t,Ct,kt,c,{label:0,value:1,max:2})}}function At(t,e,n){const r=t.slice();return r[15]=e[n],r}function Et(t,e,n){const r=t.slice();return r[15]=e[n],r}function Pt(t,e,n){const r=t.slice();return r[15]=e[n],r}function qt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Mt(t){let e,n,r,o,s,c,i,a,u,f,h,d,m,p,w,E,P,q,M,S,B,j,O,D,I,L,N,R,z,H,Y,F=t[12].format(t[2][t[1]])+"",K=Math.round(t[5]["Total referrals"],0)+"",G=t[4]?"Stop":"Play";S=new Tt({props:{label:"All Channels",value:t[5]["Total referrals"],max:t[3]}});let J=t[8],Q=[];for(let e=0;e<J.length;e+=1)Q[e]=St(Pt(t,J,e));const U=t=>nt(Q[t],1,1,(()=>{Q[t]=null}));let W=t[10],X=[];for(let e=0;e<W.length;e+=1)X[e]=Bt(Et(t,W,e));const V=t=>nt(X[t],1,1,(()=>{X[t]=null}));let rt=t[9],ot=[];for(let e=0;e<rt.length;e+=1)ot[e]=jt(At(t,rt,e));const lt=t=>nt(ot[t],1,1,(()=>{ot[t]=null}));return{c(){e=y("section"),n=y("p"),r=x(F),o=_(),s=y("p"),c=x(K),i=x(" Referrals"),a=_(),u=y("section"),f=y("button"),h=x(G),d=_(),m=y("input"),w=_(),E=y("section"),P=y("div"),q=y("h3"),q.textContent="Sources of referral",M=_(),ct(S.$$.fragment),B=_();for(let t=0;t<Q.length;t+=1)Q[t].c();j=_(),O=y("h3"),O.textContent="Priority Groups",D=_();for(let t=0;t<X.length;t+=1)X[t].c();I=_(),L=y("div"),N=y("h3"),N.textContent="Reasons for referral",R=_();for(let t=0;t<ot.length;t+=1)ot[t].c();C(e,"class","headline"),C(f,"class","grey-button play"),C(m,"type","range"),C(m,"min","0"),C(m,"max",p=t[0].length-1),C(m,"step","1"),C(u,"class","timeline"),C(E,"class","two-col")},m(l,p){$(l,e,p),g(e,n),g(n,r),g(e,o),g(e,s),g(s,c),g(s,i),$(l,a,p),$(l,u,p),g(u,f),g(f,h),g(u,d),g(u,m),A(m,t[1]),$(l,w,p),$(l,E,p),g(E,P),g(P,q),g(P,M),it(S,P,null),g(P,B);for(let t=0;t<Q.length;t+=1)Q[t].m(P,null);g(P,j),g(P,O),g(P,D);for(let t=0;t<X.length;t+=1)X[t].m(P,null);g(E,I),g(E,L),g(L,N),g(L,R);for(let t=0;t<ot.length;t+=1)ot[t].m(L,null);z=!0,H||(Y=[k(f,"click",t[11]),k(m,"change",t[13]),k(m,"input",t[13])],H=!0)},p(t,e){(!z||6&e)&&F!==(F=t[12].format(t[2][t[1]])+"")&&T(r,F),(!z||32&e)&&K!==(K=Math.round(t[5]["Total referrals"],0)+"")&&T(c,K),(!z||16&e)&&G!==(G=t[4]?"Stop":"Play")&&T(h,G),(!z||1&e&&p!==(p=t[0].length-1))&&C(m,"max",p),2&e&&A(m,t[1]);const n={};if(32&e&&(n.value=t[5]["Total referrals"]),8&e&&(n.max=t[3]),S.$set(n),296&e){let n;for(J=t[8],n=0;n<J.length;n+=1){const r=Pt(t,J,n);Q[n]?(Q[n].p(r,e),et(Q[n],1)):(Q[n]=St(r),Q[n].c(),et(Q[n],1),Q[n].m(P,j))}for(Z(),n=J.length;n<Q.length;n+=1)U(n);tt()}if(1056&e){let n;for(W=t[10],n=0;n<W.length;n+=1){const r=Et(t,W,n);X[n]?(X[n].p(r,e),et(X[n],1)):(X[n]=Bt(r),X[n].c(),et(X[n],1),X[n].m(P,null))}for(Z(),n=W.length;n<X.length;n+=1)V(n);tt()}if(544&e){let n;for(rt=t[9],n=0;n<rt.length;n+=1){const r=At(t,rt,n);ot[n]?(ot[n].p(r,e),et(ot[n],1)):(ot[n]=jt(r),ot[n].c(),et(ot[n],1),ot[n].m(L,null))}for(Z(),n=rt.length;n<ot.length;n+=1)lt(n);tt()}},i(t){if(!z){et(S.$$.fragment,t);for(let t=0;t<J.length;t+=1)et(Q[t]);for(let t=0;t<W.length;t+=1)et(X[t]);for(let t=0;t<rt.length;t+=1)et(ot[t]);z=!0}},o(t){nt(S.$$.fragment,t),Q=Q.filter(Boolean);for(let t=0;t<Q.length;t+=1)nt(Q[t]);X=X.filter(Boolean);for(let t=0;t<X.length;t+=1)nt(X[t]);ot=ot.filter(Boolean);for(let t=0;t<ot.length;t+=1)nt(ot[t]);z=!1},d(t){t&&b(e),t&&b(a),t&&b(u),t&&b(w),t&&b(E),at(S),v(Q,t),v(X,t),v(ot,t),H=!1,l(Y)}}}function St(t){let e,n;return e=new Tt({props:{label:t[15],value:t[5][t[15]],max:t[3]}}),{c(){ct(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.value=t[5][t[15]]),8&n&&(r.max=t[3]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Bt(t){let e,n;return e=new Tt({props:{label:t[15],value:t[5][t[15]]}}),{c(){ct(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.value=t[5][t[15]]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function jt(t){let e,n;return e=new Tt({props:{label:t[15],value:t[5][t[15]]}}),{c(){ct(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.value=t[5][t[15]]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Ot(e){let n;return{c(){n=y("p"),n.textContent="Loading data..."},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}function Dt(t){let e,n,r,o,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Ot,then:Mt,catch:qt,blocks:[,,,]};return lt(o=t[7],s),{c(){e=y("section"),n=y("h2"),n.textContent="Data from See, Hear, Respond",r=_(),s.block.c(),C(e,"class","barnardos")},m(t,o){$(t,e,o),g(e,n),g(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,l=!0},p(e,[n]){{const r=(t=e).slice();s.block.p(r,n)}},i(t){l||(et(s.block),l=!0)},o(t){for(let t=0;t<3;t+=1){nt(s.blocks[t])}l=!1},d(t){t&&b(e),s.block.d(),s.token=null,s=null}}}function It(t,e,n){let r,o,l=0,s=bt(void 0);i(t,s,(t=>n(5,r=t)));let c,u=[],f=0;const h=(async()=>{const t=await yt("data/barnardos/referrals.csv");n(0,o=t.map((t=>Object.entries(t).reduce(((t,[e,n])=>(["date"].includes(e)||(t[e]=parseInt(n)),t)),{})))),n(2,u=t.map((({date:t})=>new Date(t)))),console.log(u),n(1,l=o.length-1)})(),d=new Intl.DateTimeFormat("default",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return t.$$.update=()=>{35&t.$$.dirty&&o&&(n(3,f=Math.max(...o.map((t=>t["Total referrals"])))),a(s,r=o[l],r))},[o,l,u,f,c,r,s,h,["Approved Delivery Partner","Professional","Guardian","Self"],["Child mental health","Isolation & loneliness","Barriers to reintegration to education","Parenting support","Parent mental health","Barriers to engagement with support services","Impact of caring responsibilities","Concerns about children outside the home","Other","Exposure to online harm","Child protection or safeguarding concerns referred to Statutory Agencies"],["Child mental health","BAMER","Children with SEN","Children under 5","At risk of (outside) exploitation","Young carers"],()=>{if(c)return window.clearInterval(c),void n(4,c=void 0);n(4,c=window.setInterval((()=>{n(1,l=(l+1)%o.length)}),500))},d,function(){var t;t=this.value,l=""===t?null:+t,n(1,l)}]}class Lt extends ht{constructor(t){super(),ft(this,t,It,Dt,c,{})}}const{window:Nt}=st;function Rt(e){let n,r,o,s,c,i,a,u,f,h,d,m,p,v,w,A,E,P,M,S,B,j,O,D,I,L,N,R,z,H,Y,F=e[0]?"Hide":"Show";return{c(){n=y("button"),r=x(F),o=x(" ToC"),s=_(),c=y("aside"),i=y("section"),a=y("h2"),a.textContent="The Child's Perspective",u=_(),f=y("p"),f.textContent="This data results from analysis of referral data from the Barnardo's See,\n      Hear, Respond initiative.",h=_(),d=y("p"),d.textContent="You can scroll through the available data by dragging the slider. Pressing\n      the Play button will animate the display.",m=_(),p=y("section"),v=y("h2"),v.textContent="The Parent's Perspective",w=_(),A=y("p"),A.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",E=_(),P=y("p"),P.textContent="You can select either 'Tokens' for single words or 'Bigrams' for pairs of\n      words. Clicking the column title will sort the terms by the prevalence in\n      that month. The number of terms will be limited to the top 10.",M=_(),S=y("section"),B=y("h2"),B.textContent="The Teacher's Perspective",j=_(),O=y("p"),O.textContent="We commissioned a series of surveys with Teacher Tapp. TKTKTK",D=_(),I=y("p"),I.textContent="The square charts show the percentage of respondents who selected that\n      option. Each square represents 1 percent.",L=_(),N=y("p"),N.textContent="The surveys returned by the teachers have been segmented during analysis.\n      Select a segment to drill down into the results.",R=_(),z=y("p"),z.textContent="You can comare this result against another segment with the select box\n      that appears. The baseline figure will appear as a solid border on the\n      chart.",C(n,"class","toc-display"),q(i,"hidden",e[1][0]),q(p,"hidden",e[1][1]),q(S,"hidden",e[1][2]),q(c,"open",e[0])},m(t,l){$(t,n,l),g(n,r),g(n,o),$(t,s,l),$(t,c,l),g(c,i),g(i,a),g(i,u),g(i,f),g(i,h),g(i,d),g(c,m),g(c,p),g(p,v),g(p,w),g(p,A),g(p,E),g(p,P),g(c,M),g(c,S),g(S,B),g(S,j),g(S,O),g(S,D),g(S,I),g(S,L),g(S,N),g(S,R),g(S,z),H||(Y=[k(Nt,"scroll",e[3]),k(n,"click",e[5]),k(a,"click",e[4](0)),k(v,"click",e[4](1)),k(B,"click",e[4](2))],H=!0)},p(t,[e]){1&e&&F!==(F=t[0]?"Hide":"Show")&&T(r,F),2&e&&q(i,"hidden",t[1][0]),2&e&&q(p,"hidden",t[1][1]),2&e&&q(S,"hidden",t[1][2]),1&e&&q(c,"open",t[0])},i:t,o:t,d(t){t&&b(n),t&&b(s),t&&b(c),H=!1,l(Y)}}}function zt(t,r,o){let l,s=!1;const c=function(t,r={}){const o=mt(t);let l,s=t;function c(c,i){if(null==t)return o.set(t=c),Promise.resolve();s=c;let a=l,u=!1,{delay:h=0,duration:d=400,easing:m=e,interpolate:g=vt}=n(n({},r),i);if(0===d)return a&&(a.abort(),a=null),o.set(t=s),Promise.resolve();const $=f()+h;let b;return l=p((e=>{if(e<$)return!0;u||(b=g(t,c),"function"==typeof d&&(d=d(t,c)),u=!0),a&&(a.abort(),a=null);const n=e-$;return n>d?(o.set(t=c),!1):(o.set(t=b(m(n/d))),!0)})),l.promise}return{set:c,update:(e,n)=>c(e(s,t),n),subscribe:o.subscribe}}(window.scrollX,{duration:750,easing:pt});i(t,c,(t=>o(6,l=t)));let a=[];const u=()=>{const t=document.querySelectorAll("main section h2");return Array.from(t).map((t=>t.offsetTop))},h=()=>{const t=u(),e=window.scrollY+160;o(1,a=t.map(((t,n,r)=>!(e>t&&!(e>r[n+1])))))};var d;d=()=>{h()},I().$$.after_update.push(d);return t.$$.update=()=>{64&t.$$.dirty&&window.scrollTo(0,l)},[s,a,c,()=>h(),t=>()=>{const e=u();c.set(e[t]-80)},()=>o(0,s=!s)]}class Ht extends ht{constructor(t){super(),ft(this,t,zt,Rt,c,{})}}function Yt(e){let n;return{c(){n=y("header"),n.innerHTML="<h1>Data about Children in Lockdown</h1>"},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class Ft extends ht{constructor(t){super(),ft(this,t,null,Yt,c,{})}}function Kt(t,{delay:n=0,duration:r=400,easing:o=e}){const l=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*l}}function Gt(t){let e,n,r;return{c(){e=y("div"),C(e,"class","popover")},m(n,o){$(n,e,o),e.innerHTML=t[1],r=!0},p(t,n){(!r||2&n)&&(e.innerHTML=t[1])},i(t){r||(F((()=>{n||(n=ot(e,Kt,{},!0)),n.run(1)})),r=!0)},o(t){n||(n=ot(e,Kt,{},!1)),n.run(0),r=!1},d(t){t&&b(e),t&&n&&n.end()}}}function Jt(t){let e,n,r,o,s,c,i,a=t[1]&&t[2]&&Gt(t);return{c(){e=y("div"),n=w("svg"),r=w("circle"),o=_(),a&&a.c(),C(r,"r",t[0]),C(n,"viewBox","-1 -1 2 2"),C(e,"class","container")},m(l,u){$(l,e,u),g(e,n),g(n,r),g(e,o),a&&a.m(e,null),s=!0,c||(i=[k(n,"mouseenter",t[3]),k(n,"mouseleave",t[4])],c=!0)},p(t,[n]){(!s||1&n)&&C(r,"r",t[0]),t[1]&&t[2]?a?(a.p(t,n),6&n&&et(a,1)):(a=Gt(t),a.c(),et(a,1),a.m(e,null)):a&&(Z(),nt(a,1,1,(()=>{a=null})),tt())},i(t){s||(et(a),s=!0)},o(t){nt(a),s=!1},d(t){t&&b(e),a&&a.d(),c=!1,l(i)}}}function Qt(t,e,n){let r,{radius:o}=e,{content:l}=e;return t.$$set=t=>{"radius"in t&&n(0,o=t.radius),"content"in t&&n(1,l=t.content)},[o,l,r,()=>n(2,r=!0),()=>n(2,r=!1)]}class Ut extends ht{constructor(t){super(),ft(this,t,Qt,Jt,c,{radius:0,content:1})}}function Wt(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Xt(t,e,n){const r=t.slice();return r[6]=e[n],r}function Vt(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Zt(t){let e,n,r,o,l=t[9]+"";function s(...e){return t[5](t[11],...e)}return{c(){e=y("th"),n=x(l),C(e,"class","svelte-mtqint"),q(e,"selected",t[11]===t[2])},m(t,l){$(t,e,l),g(e,n),r||(o=k(e,"click",s),r=!0)},p(r,o){t=r,1&o&&l!==(l=t[9]+"")&&T(n,l),4&o&&q(e,"selected",t[11]===t[2])},d(t){t&&b(e),r=!1,o()}}}function te(e){let n,r=e[6][e[9]]+"";return{c(){n=x(r)},m(t,e){$(t,n,e)},p(t,e){1&e&&r!==(r=t[6][t[9]]+"")&&T(n,r)},i:t,o:t,d(t){t&&b(n)}}}function ee(t){let e,n;return e=new Ut({props:{radius:Math.sqrt(t[6][t[9]]/t[3]),content:"<p>"+t[6][t[9]]+"</p>"}}),{c(){ct(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};9&n&&(r.radius=Math.sqrt(t[6][t[9]]/t[3])),1&n&&(r.content="<p>"+t[6][t[9]]+"</p>"),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function ne(t){let e,n,r,o,l;const s=[ee,te],c=[];function i(t,e){return 1&e&&(n=!!t[4](t[6][t[9]])),n?0:1}return r=i(t,-1),o=c[r]=s[r](t),{c(){e=y("td"),o.c(),C(e,"class","svelte-mtqint"),q(e,"selected",t[11]===t[2])},m(t,n){$(t,e,n),c[r].m(e,null),l=!0},p(t,n){let l=r;r=i(t,n),r===l?c[r].p(t,n):(Z(),nt(c[l],1,1,(()=>{c[l]=null})),tt(),o=c[r],o||(o=c[r]=s[r](t),o.c()),et(o,1),o.m(e,null)),4&n&&q(e,"selected",t[11]===t[2])},i(t){l||(et(o),l=!0)},o(t){nt(o),l=!1},d(t){t&&b(e),c[r].d()}}}function re(t){let e,n,r,o=t[0].columns,l=[];for(let e=0;e<o.length;e+=1)l[e]=ne(Wt(t,o,e));const s=t=>nt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=y("tr");for(let t=0;t<l.length;t+=1)l[t].c();n=_()},m(t,o){$(t,e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null);g(e,n),r=!0},p(t,r){if(29&r){let c;for(o=t[0].columns,c=0;c<o.length;c+=1){const s=Wt(t,o,c);l[c]?(l[c].p(s,r),et(l[c],1)):(l[c]=ne(s),l[c].c(),et(l[c],1),l[c].m(e,n))}for(Z(),c=o.length;c<l.length;c+=1)s(c);tt()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)et(l[t]);r=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)nt(l[t]);r=!1},d(t){t&&b(e),v(l,t)}}}function oe(t){let e,n,r,o,l,s,c=t[0].columns,i=[];for(let e=0;e<c.length;e+=1)i[e]=Zt(Vt(t,c,e));let a=t[0],u=[];for(let e=0;e<a.length;e+=1)u[e]=re(Xt(t,a,e));const f=t=>nt(u[t],1,1,(()=>{u[t]=null}));return{c(){e=y("table"),n=y("thead"),r=y("tr");for(let t=0;t<i.length;t+=1)i[t].c();o=_(),l=y("tbody");for(let t=0;t<u.length;t+=1)u[t].c();C(e,"class","svelte-mtqint")},m(t,c){$(t,e,c),g(e,n),g(n,r);for(let t=0;t<i.length;t+=1)i[t].m(r,null);g(e,o),g(e,l);for(let t=0;t<u.length;t+=1)u[t].m(l,null);s=!0},p(t,[e]){if(7&e){let n;for(c=t[0].columns,n=0;n<c.length;n+=1){const o=Vt(t,c,n);i[n]?i[n].p(o,e):(i[n]=Zt(o),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}if(29&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const r=Xt(t,a,n);u[n]?(u[n].p(r,e),et(u[n],1)):(u[n]=re(r),u[n].c(),et(u[n],1),u[n].m(l,null))}for(Z(),n=a.length;n<u.length;n+=1)f(n);tt()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)et(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)nt(u[t]);s=!1},d(t){t&&b(e),v(i,t),v(u,t)}}}function le(t,e,n){let{data:r}=e,{handler:o=(()=>{})}=e,{highlight:l}=e;const s=t=>!isNaN(t);let c;return t.$$set=t=>{"data"in t&&n(0,r=t.data),"handler"in t&&n(1,o=t.handler),"highlight"in t&&n(2,l=t.highlight)},t.$$.update=()=>{1&t.$$.dirty&&n(3,c=r.reduce(((t,e)=>{const n=Math.max(...Object.values(e).filter(s));return n>t?n:t}),0))},[r,o,l,c,s,t=>o(t)]}class se extends ht{constructor(t){super(),ft(this,t,le,oe,c,{data:0,handler:1,highlight:2})}}function ce(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function ie(e){let n,r,o,l,s=e[14]+"";return{c(){var t,e,c;n=y("p"),n.textContent="Data not loaded!",r=_(),o=y("p"),l=x(s),t="color",e="red",n.style.setProperty(t,e,c?"important":"")},m(t,e){$(t,n,e),$(t,r,e),$(t,o,e),g(o,l)},p:t,i:t,o:t,d(t){t&&b(n),t&&b(r),t&&b(o)}}}function ae(t){let e,n,r,o,l,s,c,i,a=t[3],u=[];for(let e=0;e<a.length;e+=1)u[e]=ue(ce(t,a,e));return r=new se({props:{data:t[1],handler:t[5],highlight:t[2]}}),{c(){e=y("select");for(let t=0;t<u.length;t+=1)u[t].c();n=_(),ct(r.$$.fragment),o=_(),l=y("aside"),l.textContent="Data sourced from Mumsnet MI systems with kind permission.",void 0===t[0]&&F((()=>t[6].call(e)))},m(a,f){$(a,e,f);for(let t=0;t<u.length;t+=1)u[t].m(e,null);E(e,t[0]),$(a,n,f),it(r,a,f),$(a,o,f),$(a,l,f),s=!0,c||(i=k(e,"change",t[6]),c=!0)},p(t,n){if(8&n){let r;for(a=t[3],r=0;r<a.length;r+=1){const o=ce(t,a,r);u[r]?u[r].p(o,n):(u[r]=ue(o),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}1&n&&E(e,t[0]);const o={};2&n&&(o.data=t[1]),4&n&&(o.highlight=t[2]),r.$set(o)},i(t){s||(et(r.$$.fragment,t),s=!0)},o(t){nt(r.$$.fragment,t),s=!1},d(t){t&&b(e),v(u,t),t&&b(n),at(r,t),t&&b(o),t&&b(l),c=!1,i()}}}function ue(e){let n,r,o,l=e[11].charAt(0).toUpperCase()+e[11].slice(1)+"";return{c(){n=y("option"),r=x(l),n.__value=o=e[13],n.value=n.__value},m(t,e){$(t,n,e),g(n,r)},p:t,d(t){t&&b(n)}}}function fe(e){let n;return{c(){n=x("Loading data...")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}function he(t){let e,n,r,o,l,s={ctx:t,current:null,token:null,hasCatch:!0,pending:fe,then:ae,catch:ie,error:14,blocks:[,,,]};return lt(o=t[4],s),{c(){e=y("section"),n=y("h2"),n.textContent="The Parent's Perspective",r=_(),s.block.c(),C(e,"class","mumsnet")},m(t,o){$(t,e,o),g(e,n),g(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,l=!0},p(e,[n]){{const r=(t=e).slice();r[14]=s.resolved,s.block.p(r,n)}},i(t){l||(et(s.block),l=!0)},o(t){for(let t=0;t<3;t+=1){nt(s.blocks[t])}l=!1},d(t){t&&b(e),s.block.d(),s.token=null,s=null}}}function de(t,e,n){const r=["bigrams","tokens"];let o,l=0,s=[],c=2;function i(t,e,n){const r=t[e],o=r.columns[n],l=u(o),s=r.sort(l).slice(0,10);return s.columns=r.columns,s}let a=async function(){n(7,o=await Promise.all(r.map((t=>yt(`data/mumsnet/${t}.csv`))))),n(1,s=i(o,l,c))}();const u=t=>(e,n)=>parseInt(e[t])>parseInt(n[t])?-1:parseInt(e[t])<parseInt(n[t])?1:0;return t.$$.update=()=>{133&t.$$.dirty&&o&&n(1,s=i(o,l,c))},[l,s,c,r,a,t=>{0!==t&&n(2,c=t)},function(){l=P(this),n(0,l)}]}class me extends ht{constructor(t){super(),ft(this,t,de,he,c,{})}}function pe(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function ge(t){let e,n,r;return{c(){e=w("rect"),C(e,"width","5"),C(e,"height","5"),C(e,"x",n=t[5]%10*10+1),C(e,"y",r=10*Math.floor((99-t[5])/10)+1),C(e,"class","svelte-1csbitr"),q(e,"filled",t[5]+1<=100*t[0]/t[2]),q(e,"baseline",t[5]+1<=100*t[1]/t[2])},m(t,n){$(t,e,n)},p(t,n){5&n&&q(e,"filled",t[5]+1<=100*t[0]/t[2]),6&n&&q(e,"baseline",t[5]+1<=100*t[1]/t[2])},d(t){t&&b(e)}}}function $e(e){let n,r=Array(100),o=[];for(let t=0;t<r.length;t+=1)o[t]=ge(pe(e,r,t));return{c(){n=w("svg");for(let t=0;t<o.length;t+=1)o[t].c();C(n,"viewBox","0 0 100 100")},m(t,e){$(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(7&e){let l;for(r=Array(100),l=0;l<r.length;l+=1){const s=pe(t,r,l);o[l]?o[l].p(s,e):(o[l]=ge(s),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},i:t,o:t,d(t){t&&b(n),v(o,t)}}}function be(t,e,n){let{number:r}=e,{reference:o}=e,{total:l=100}=e;return t.$$set=t=>{"number"in t&&n(0,r=t.number),"reference"in t&&n(1,o=t.reference),"total"in t&&n(2,l=t.total)},[r,o,l]}class ve extends ht{constructor(t){super(),ft(this,t,be,$e,c,{number:0,reference:1,total:2})}}const ye=t=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(t));function we(t,e,n){const r=t.slice();return r[7]=e[n].title,r[8]=e[n].number,r[9]=e[n].reference,r}function xe(t,e,n){const r=t.slice();return r[12]=e[n],r}function _e(t,e,n){const r=t.slice();return r[12]=e[n],r}function ke(t){let e,n,r,o=t[12]+"";return{c(){e=y("option"),n=x(o),e.__value=r=t[12],e.value=e.__value},m(t,r){$(t,e,r),g(e,n)},p(t,l){2&l&&o!==(o=t[12]+"")&&T(n,o),2&l&&r!==(r=t[12])&&(e.__value=r,e.value=e.__value)},d(t){t&&b(e)}}}function Ce(t){let e,n,r,o,l,s,c,i,a,u,f=t[1],h=[];for(let e=0;e<f.length;e+=1)h[e]=Te(xe(t,f,e));return{c(){e=y("div"),n=y("label"),n.textContent="Comparison",r=_(),o=w("svg"),l=w("rect"),s=_(),c=y("select"),i=y("option"),i.textContent="None";for(let t=0;t<h.length;t+=1)h[t].c();C(n,"for","comarison-segment"),C(l,"class","baseline"),C(l,"width","10"),C(l,"height","10"),C(o,"width","10"),C(o,"viewBox","0 0 10 10"),i.__value="None",i.value=i.__value,C(c,"id","comparison-segment"),void 0===t[4]&&F((()=>t[6].call(c))),C(e,"class","selector")},m(f,d){$(f,e,d),g(e,n),g(e,r),g(e,o),g(o,l),g(e,s),g(e,c),g(c,i);for(let t=0;t<h.length;t+=1)h[t].m(c,null);E(c,t[4]),a||(u=k(c,"change",t[6]),a=!0)},p(t,e){if(2&e){let n;for(f=t[1],n=0;n<f.length;n+=1){const r=xe(t,f,n);h[n]?h[n].p(r,e):(h[n]=Te(r),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}18&e&&E(c,t[4])},d(t){t&&b(e),v(h,t),a=!1,u()}}}function Te(t){let e,n,r,o=t[12]+"";return{c(){e=y("option"),n=x(o),e.__value=r=t[12],e.value=e.__value},m(t,r){$(t,e,r),g(e,n)},p(t,l){2&l&&o!==(o=t[12]+"")&&T(n,o),2&l&&r!==(r=t[12])&&(e.__value=r,e.value=e.__value)},d(t){t&&b(e)}}}function Ae(t){let e,n,r,o,l,s,c,i,a,u,f,h,d,m=t[7]+"",p=t[8]+"";return n=new ve({props:{number:t[8],reference:t[9]}}),{c(){e=y("section"),ct(n.$$.fragment),r=_(),o=y("p"),l=x(m),s=_(),c=y("p"),i=x(p),a=x("% of "),u=x(t[3]),f=x(" respondents"),h=_(),C(c,"class","summary"),C(e,"class","response")},m(t,m){$(t,e,m),it(n,e,null),g(e,r),g(e,o),g(o,l),g(e,s),g(e,c),g(c,i),g(c,a),g(c,u),g(c,f),g(e,h),d=!0},p(t,e){const r={};4&e&&(r.number=t[8]),4&e&&(r.reference=t[9]),n.$set(r),(!d||4&e)&&m!==(m=t[7]+"")&&T(l,m),(!d||4&e)&&p!==(p=t[8]+"")&&T(i,p),(!d||8&e)&&T(u,t[3])},i(t){d||(et(n.$$.fragment,t),d=!0)},o(t){nt(n.$$.fragment,t),d=!1},d(t){t&&b(e),at(n)}}}function Ee(t){let e,n,r,o,l,s,c,i,a,u,f,h,d,m,p,A,P,q,M,S,B,j,O,D,I,L=t[0].q+"",N=t[0].r+"",R=ye(t[0].d)+"",z=t[1],H=[];for(let e=0;e<z.length;e+=1)H[e]=ke(_e(t,z,e));let Y="All"!=t[3]&&Ce(t),K=t[2],G=[];for(let e=0;e<K.length;e+=1)G[e]=Ae(we(t,K,e));const J=t=>nt(G[t],1,1,(()=>{G[t]=null}));return{c(){e=y("section"),n=y("h3"),r=x(L),o=_(),l=y("div"),s=y("label"),s.textContent="Segment",c=_(),i=w("svg"),a=w("rect"),u=_(),f=y("select");for(let t=0;t<H.length;t+=1)H[t].c();h=_(),Y&&Y.c(),d=_(),m=y("div");for(let t=0;t<G.length;t+=1)G[t].c();p=_(),A=y("p"),P=x("Total respondents "),q=x(N),M=_(),S=y("p"),B=x("Question asked on "),j=x(R),C(s,"for","primary-segment"),C(a,"class","filled"),C(a,"width","10"),C(a,"height","10"),C(i,"width","10"),C(i,"viewBox","0 0 10 10"),C(f,"id","primary-segment"),void 0===t[3]&&F((()=>t[5].call(f))),C(l,"class","selector"),C(m,"class","grid")},m(b,v){$(b,e,v),g(e,n),g(n,r),g(e,o),g(e,l),g(l,s),g(l,c),g(l,i),g(i,a),g(l,u),g(l,f);for(let t=0;t<H.length;t+=1)H[t].m(f,null);E(f,t[3]),g(e,h),Y&&Y.m(e,null),g(e,d),g(e,m);for(let t=0;t<G.length;t+=1)G[t].m(m,null);g(e,p),g(e,A),g(A,P),g(A,q),g(e,M),g(e,S),g(S,B),g(S,j),O=!0,D||(I=k(f,"change",t[5]),D=!0)},p(t,[n]){if((!O||1&n)&&L!==(L=t[0].q+"")&&T(r,L),2&n){let e;for(z=t[1],e=0;e<z.length;e+=1){const r=_e(t,z,e);H[e]?H[e].p(r,n):(H[e]=ke(r),H[e].c(),H[e].m(f,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=z.length}if(10&n&&E(f,t[3]),"All"!=t[3]?Y?Y.p(t,n):(Y=Ce(t),Y.c(),Y.m(e,d)):Y&&(Y.d(1),Y=null),12&n){let e;for(K=t[2],e=0;e<K.length;e+=1){const r=we(t,K,e);G[e]?(G[e].p(r,n),et(G[e],1)):(G[e]=Ae(r),G[e].c(),et(G[e],1),G[e].m(m,null))}for(Z(),e=K.length;e<G.length;e+=1)J(e);tt()}(!O||1&n)&&N!==(N=t[0].r+"")&&T(q,N),(!O||1&n)&&R!==(R=ye(t[0].d)+"")&&T(j,R)},i(t){if(!O){for(let t=0;t<K.length;t+=1)et(G[t]);O=!0}},o(t){G=G.filter(Boolean);for(let t=0;t<G.length;t+=1)nt(G[t]);O=!1},d(t){t&&b(e),v(H,t),Y&&Y.d(),v(G,t),D=!1,I()}}}function Pe(t,e,n){let r,{question:o}=e,{keys:l}=e,s="All",c="All";return t.$$set=t=>{"question"in t&&n(0,o=t.question),"keys"in t&&n(1,l=t.keys)},t.$$.update=()=>{if(27&t.$$.dirty){const t=l.indexOf(s),e=l.indexOf(c);n(2,r=o.a.map((({t:n,d:r})=>({title:n,number:r[t],reference:0!==t?r[e]:void 0}))))}},[o,l,r,s,c,function(){s=P(this),n(3,s),n(1,l)},function(){c=P(this),n(4,c),n(1,l)}]}class qe extends ht{constructor(t){super(),ft(this,t,Pe,Ee,c,{question:0,keys:1})}}const Me=mt();function Se(t,e,n){const r=t.slice();return r[3]=e[n],r}function Be(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function je(t){let e,n,r=t[0].q,o=[];for(let e=0;e<r.length;e+=1)o[e]=Oe(Se(t,r,e));const l=t=>nt(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=x("")},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);$(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=t[0].q,s=0;s<r.length;s+=1){const l=Se(t,r,s);o[s]?(o[s].p(l,n),et(o[s],1)):(o[s]=Oe(l),o[s].c(),et(o[s],1),o[s].m(e.parentNode,e))}for(Z(),s=r.length;s<o.length;s+=1)l(s);tt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)et(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)nt(o[t]);n=!1},d(t){v(o,t),t&&b(e)}}}function Oe(t){let e,n;return e=new qe({props:{question:t[3],keys:t[0].k}}),{c(){ct(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.question=t[3]),1&n&&(r.keys=t[0].k),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function De(e){let n;return{c(){n=y("p"),n.textContent="Loading data file"},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}function Ie(t){let e,n,r,o,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:De,then:je,catch:Be,blocks:[,,,]};return lt(o=t[1],s),{c(){e=y("section"),n=y("h2"),n.textContent="The Teacher's Perspective",r=_(),s.block.c(),C(e,"class","teachertapp")},m(t,o){$(t,e,o),g(e,n),g(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,l=!0},p(e,[n]){{const r=(t=e).slice();s.block.p(r,n)}},i(t){l||(et(s.block),l=!0)},o(t){for(let t=0;t<3;t+=1){nt(s.blocks[t])}l=!1},d(t){t&&b(e),s.block.d(),s.token=null,s=null}}}function Le(t,e,n){let r;i(t,Me,(t=>n(0,r=t)));const o=(async()=>{a(Me,r=await(async t=>(await fetch(t)).json())("data/teacher-tapp/questions.json"),r)})();return[r,o]}class Ne extends ht{constructor(t){super(),ft(this,t,Le,Ie,c,{})}}function Re(e){let n,r,o,l,s,c,i,a,u,f,h;return n=new Ft({}),o=new Ht({}),c=new Lt({}),a=new me({}),f=new Ne({}),{c(){ct(n.$$.fragment),r=_(),ct(o.$$.fragment),l=_(),s=y("main"),ct(c.$$.fragment),i=_(),ct(a.$$.fragment),u=_(),ct(f.$$.fragment),C(s,"role","main")},m(t,e){it(n,t,e),$(t,r,e),it(o,t,e),$(t,l,e),$(t,s,e),it(c,s,null),g(s,i),it(a,s,null),g(s,u),it(f,s,null),h=!0},p:t,i(t){h||(et(n.$$.fragment,t),et(o.$$.fragment,t),et(c.$$.fragment,t),et(a.$$.fragment,t),et(f.$$.fragment,t),h=!0)},o(t){nt(n.$$.fragment,t),nt(o.$$.fragment,t),nt(c.$$.fragment,t),nt(a.$$.fragment,t),nt(f.$$.fragment,t),h=!1},d(t){at(n,t),t&&b(r),at(o,t),t&&b(l),t&&b(s),at(c),at(a),at(f)}}}new class extends ht{constructor(t){super(),ft(this,t,null,Re,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
