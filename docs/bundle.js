!function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(e,t,n=t){return e.set(n),t}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),f=a?e=>requestAnimationFrame(e):e;const d=new Set;function h(e){d.forEach((t=>{t.c(e)||(d.delete(t),t.f())})),0!==d.size&&f(h)}function m(e){let t;return 0===d.size&&f(h),{promise:new Promise((n=>{d.add(t={c:e,f:n})})),abort(){d.delete(t)}}}function p(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function x(){return w(" ")}function k(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function T(e,t){e.value=null==t?"":t}function M(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function q(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function S(e,t,n){e.classList[n?"add":"remove"](t)}const A=new Set;let E,P=0;function B(e,t,n,r,o,l,s,i=0){const c=16.666/r;let a="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*l(e);a+=100*e+`%{${s(r,1-r)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${i}`,d=e.ownerDocument;A.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(v("style")).sheet),m=d.__svelte_rules||(d.__svelte_rules={});m[f]||(m[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?p+", ":""}${f} ${r}ms linear ${o}ms 1 both`,P+=1,f}function j(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),P-=o,P||f((()=>{P||(A.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),A.clear())})))}function D(e){E=e}function O(){if(!E)throw new Error("Function called outside component initialization");return E}const I=[],L=[],N=[],H=[],R=Promise.resolve();let Y=!1;function F(e){N.push(e)}let z=!1;const K=new Set;function G(){if(!z){z=!0;do{for(let e=0;e<I.length;e+=1){const t=I[e];D(t),J(t.$$)}for(D(null),I.length=0;L.length;)L.pop()();for(let e=0;e<N.length;e+=1){const t=N[e];K.has(t)||(K.add(t),t())}N.length=0}while(I.length);for(;H.length;)H.pop()();Y=!1,z=!1,K.clear()}}function J(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}let W;function Q(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const U=new Set;let X;function V(){X={r:0,c:[],p:X}}function Z(){X.r||o(X.c),X=X.p}function ee(e,t){e&&e.i&&(U.delete(e),e.i(t))}function te(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),X.c.push((()=>{U.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const ne={duration:0};function re(n,r,s,i){let c=r(n,s),a=i?0:1,f=null,d=null,h=null;function p(){h&&j(n,h)}function g(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function $(r){const{delay:l=0,duration:s=300,easing:i=t,tick:$=e,css:b}=c||ne,v={start:u()+l,b:r};r||(v.group=X,X.r+=1),f||d?d=v:(b&&(p(),h=B(n,a,r,s,l,i,b)),r&&$(0,1),f=g(v,s),F((()=>Q(n,r,"start"))),m((e=>{if(d&&e>d.start&&(f=g(d,s),d=null,Q(n,f.b,"start"),b&&(p(),h=B(n,a,f.b,f.duration,0,i,c.css))),f)if(e>=f.end)$(a=f.b,1-a),Q(n,f.b,"end"),d||(f.b?p():--f.group.r||o(f.group.c)),f=null;else if(e>=f.start){const t=e-f.start;a=f.a+f.d*i(t/f.duration),$(a,1-a)}return!(!f&&!d)})))}return{run(e){l(c)?(W||(W=Promise.resolve(),W.then((()=>{W=null}))),W).then((()=>{c=c(),$(e)})):$(e)},end(){p(),f=d=null}}}function oe(e,t){const n=t.token={};function r(e,r,o,l){if(t.token!==n)return;t.resolved=l;let s=t.ctx;void 0!==o&&(s=s.slice(),s[o]=l);const i=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(V(),te(e,1,1,(()=>{t.blocks[n]=null})),Z())})):t.block.d(1),i.c(),ee(i,1),i.m(t.mount(),t.anchor),c=!0),t.block=i,t.blocks&&(t.blocks[r]=i),c&&G()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=O();if(e.then((e=>{D(n),r(t.then,1,t.value,e),D(null)}),(e=>{if(D(n),r(t.catch,2,t.error,e),D(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}const le="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function se(e){e&&e.c()}function ie(e,t,r){const{fragment:s,on_mount:i,on_destroy:c,after_update:a}=e.$$;s&&s.m(t,r),F((()=>{const t=i.map(n).filter(l);c?c.push(...t):o(t),e.$$.on_mount=[]})),a.forEach(F)}function ce(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(e,t){-1===e.$$.dirty[0]&&(I.push(e),Y||(Y=!0,R.then(G)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ue(t,n,l,s,i,c,a=[-1]){const u=E;D(t);const f=n.props||{},d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:a,skip_bound:!1};let h=!1;if(d.ctx=l?l(t,f,((e,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),h&&ae(t,e)),n})):[],d.update(),h=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach($)}else d.fragment&&d.fragment.c();n.intro&&ee(t.$$.fragment),ie(t,n.target,n.anchor),G()}D(u)}class fe{$destroy(){ce(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const de=[];function he(t,n=e){let r;const o=[];function l(e){if(s(t,e)&&(t=e,r)){const e=!de.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),de.push(n,t)}if(e){for(let e=0;e<de.length;e+=2)de[e][0](de[e+1]);de.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(s,i=e){const c=[s,i];return o.push(c),1===o.length&&(r=n(l)||e),s(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function me(e){return"[object Date]"===Object.prototype.toString.call(e)}function pe(e,t,n,r){if("number"==typeof n||me(n)){const o=r-n,l=(n-t)/(e.dt||1/60),s=(l+(e.opts.stiffness*o-e.opts.damping*l)*e.inv_mass)*e.dt;return Math.abs(s)<e.opts.precision&&Math.abs(o)<e.opts.precision?r:(e.settled=!1,me(n)?new Date(n.getTime()+s):n+s)}if(Array.isArray(n))return n.map(((o,l)=>pe(e,t[l],n[l],r[l])));if("object"==typeof n){const o={};for(const l in n)o[l]=pe(e,t[l],n[l],r[l]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function ge(e,t={}){const n=he(e),{stiffness:r=.15,damping:o=.8,precision:l=.01}=t;let s,i,c,a=e,f=e,d=1,h=0,p=!1;function g(t,r={}){f=t;const o=c={};if(null==e||r.hard||$.stiffness>=1&&$.damping>=1)return p=!0,s=u(),a=t,n.set(e=f),Promise.resolve();if(r.soft){const e=!0===r.soft?.5:+r.soft;h=1/(60*e),d=0}return i||(s=u(),p=!1,i=m((t=>{if(p)return p=!1,i=null,!1;d=Math.min(d+h,1);const r={inv_mass:d,opts:$,settled:!0,dt:60*(t-s)/1e3},o=pe(r,a,e,f);return s=t,a=e,n.set(e=o),r.settled&&(i=null),!r.settled}))),new Promise((e=>{i.promise.then((()=>{o===c&&e()}))}))}const $={set:g,update:(t,n)=>g(t(f,e),n),subscribe:n.subscribe,stiffness:r,damping:o,precision:l};return $}const $e=async e=>{const t=await fetch(e),n=await t.text(),[r,...o]=n.split("\n").filter((e=>e)).map((e=>e.split(/\s*,\s*/))),l=o.map((e=>e.reduce(((e,t,n)=>(e[r[n]]=t,e)),{})));return Object.defineProperty(l,"columns",{enumerable:!1,writable:!0}),l.columns=r,l};function be(t){let n,r,o;return{c(){n=y("svg"),r=y("rect"),_(r,"x","0"),_(r,"y","0"),_(r,"width",o=t[0]/t[1]),_(r,"height","1"),_(n,"viewBox","0 0 1 1"),_(n,"preserveAspectRatio","xMidYMin slice")},m(e,t){g(e,n,t),p(n,r)},p(e,[t]){3&t&&o!==(o=e[0]/e[1])&&_(r,"width",o)},i:e,o:e,d(e){e&&$(n)}}}function ve(e,t,n){let{value:r}=t,{max:o=100}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value),"max"in e&&n(1,o=e.max)},[r,o]}class ye extends fe{constructor(e){super(),ue(this,e,ve,be,s,{value:0,max:1})}}function we(e){let t,n,r,o,l,s,i,c,a,u,f,d=Math.round(e[1],0)+"";return s=new ye({props:{value:e[1],max:e[2]}}),{c(){t=v("ul"),n=v("li"),r=w(e[0]),o=x(),l=v("li"),se(s.$$.fragment),i=x(),c=v("li"),a=w(d),u=w(e[3]),_(n,"class","label svelte-mayqbk"),_(l,"class","bar svelte-mayqbk"),_(c,"class","value svelte-mayqbk"),_(t,"class","svelte-mayqbk")},m(e,d){g(e,t,d),p(t,n),p(n,r),p(t,o),p(t,l),ie(s,l,null),p(t,i),p(t,c),p(c,a),p(c,u),f=!0},p(e,[t]){(!f||1&t)&&C(r,e[0]);const n={};2&t&&(n.value=e[1]),4&t&&(n.max=e[2]),s.$set(n),(!f||2&t)&&d!==(d=Math.round(e[1],0)+"")&&C(a,d),(!f||8&t)&&C(u,e[3])},i(e){f||(ee(s.$$.fragment,e),f=!0)},o(e){te(s.$$.fragment,e),f=!1},d(e){e&&$(t),ce(s)}}}function xe(e,t,n){let{label:r}=t,{value:o}=t,{max:l}=t,{unit:s=""}=t;return e.$$set=e=>{"label"in e&&n(0,r=e.label),"value"in e&&n(1,o=e.value),"max"in e&&n(2,l=e.max),"unit"in e&&n(3,s=e.unit)},[r,o,l,s]}class ke extends fe{constructor(e){super(),ue(this,e,xe,we,s,{label:0,value:1,max:2,unit:3})}}function _e(e,t,n){const r=e.slice();return r[15]=t[n],r}function Ce(e,t,n){const r=e.slice();return r[15]=t[n],r}function Te(e,t,n){const r=e.slice();return r[15]=t[n],r}function Me(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function qe(e){let t,n,r,l,s,i,c,a,u,f,d,h,m,y,M,q,S,A,E,P,B,j,D,O,I,L,N,H,R,Y,F,z,K,G=e[12].format(e[2][e[1]])+"",J=Math.round(e[5]["Total referrals"],0)+"",W=e[4]?"Stop":"Play";j=new ke({props:{label:"All Channels",value:e[5]["Total referrals"],max:e[3]}});let Q=e[8],U=[];for(let t=0;t<Q.length;t+=1)U[t]=Se(Te(e,Q,t));const X=e=>te(U[e],1,1,(()=>{U[e]=null}));let ne=e[10],re=[];for(let t=0;t<ne.length;t+=1)re[t]=Ae(Ce(e,ne,t));const oe=e=>te(re[e],1,1,(()=>{re[e]=null}));let le=e[9],ae=[];for(let t=0;t<le.length;t+=1)ae[t]=Ee(_e(e,le,t));const ue=e=>te(ae[e],1,1,(()=>{ae[e]=null}));return{c(){t=v("section"),n=v("p"),r=w(G),l=x(),s=v("p"),i=w(J),c=w(" Referrals"),a=x(),u=v("aside"),u.innerHTML="<p>NB The numbers presented refer to individual referrals not including children\n        reached in detached settings. The latter accounted for a further 12451 children.</p>",f=x(),d=v("section"),h=v("button"),m=w(W),y=x(),M=v("input"),S=x(),A=v("section"),E=v("div"),P=v("h3"),P.textContent="Sources of referral",B=x(),se(j.$$.fragment),D=x();for(let e=0;e<U.length;e+=1)U[e].c();O=x(),I=v("h3"),I.textContent="Priority Groups",L=x();for(let e=0;e<re.length;e+=1)re[e].c();N=x(),H=v("div"),R=v("h3"),R.textContent="Reasons for referral",Y=x();for(let e=0;e<ae.length;e+=1)ae[e].c();_(t,"class","headline"),_(h,"class","grey-button play"),_(M,"title","Week selector slider"),_(M,"type","range"),_(M,"min","0"),_(M,"max",q=e[0].length-1),_(M,"step","1"),_(d,"class","timeline"),_(A,"class","two-col")},m(o,$){g(o,t,$),p(t,n),p(n,r),p(t,l),p(t,s),p(s,i),p(s,c),g(o,a,$),g(o,u,$),g(o,f,$),g(o,d,$),p(d,h),p(h,m),p(d,y),p(d,M),T(M,e[1]),g(o,S,$),g(o,A,$),p(A,E),p(E,P),p(E,B),ie(j,E,null),p(E,D);for(let e=0;e<U.length;e+=1)U[e].m(E,null);p(E,O),p(E,I),p(E,L);for(let e=0;e<re.length;e+=1)re[e].m(E,null);p(A,N),p(A,H),p(H,R),p(H,Y);for(let e=0;e<ae.length;e+=1)ae[e].m(H,null);F=!0,z||(K=[k(h,"click",e[11]),k(M,"change",e[13]),k(M,"input",e[13])],z=!0)},p(e,t){(!F||6&t)&&G!==(G=e[12].format(e[2][e[1]])+"")&&C(r,G),(!F||32&t)&&J!==(J=Math.round(e[5]["Total referrals"],0)+"")&&C(i,J),(!F||16&t)&&W!==(W=e[4]?"Stop":"Play")&&C(m,W),(!F||1&t&&q!==(q=e[0].length-1))&&_(M,"max",q),2&t&&T(M,e[1]);const n={};if(32&t&&(n.value=e[5]["Total referrals"]),8&t&&(n.max=e[3]),j.$set(n),296&t){let n;for(Q=e[8],n=0;n<Q.length;n+=1){const r=Te(e,Q,n);U[n]?(U[n].p(r,t),ee(U[n],1)):(U[n]=Se(r),U[n].c(),ee(U[n],1),U[n].m(E,O))}for(V(),n=Q.length;n<U.length;n+=1)X(n);Z()}if(1056&t){let n;for(ne=e[10],n=0;n<ne.length;n+=1){const r=Ce(e,ne,n);re[n]?(re[n].p(r,t),ee(re[n],1)):(re[n]=Ae(r),re[n].c(),ee(re[n],1),re[n].m(E,null))}for(V(),n=ne.length;n<re.length;n+=1)oe(n);Z()}if(544&t){let n;for(le=e[9],n=0;n<le.length;n+=1){const r=_e(e,le,n);ae[n]?(ae[n].p(r,t),ee(ae[n],1)):(ae[n]=Ee(r),ae[n].c(),ee(ae[n],1),ae[n].m(H,null))}for(V(),n=le.length;n<ae.length;n+=1)ue(n);Z()}},i(e){if(!F){ee(j.$$.fragment,e);for(let e=0;e<Q.length;e+=1)ee(U[e]);for(let e=0;e<ne.length;e+=1)ee(re[e]);for(let e=0;e<le.length;e+=1)ee(ae[e]);F=!0}},o(e){te(j.$$.fragment,e),U=U.filter(Boolean);for(let e=0;e<U.length;e+=1)te(U[e]);re=re.filter(Boolean);for(let e=0;e<re.length;e+=1)te(re[e]);ae=ae.filter(Boolean);for(let e=0;e<ae.length;e+=1)te(ae[e]);F=!1},d(e){e&&$(t),e&&$(a),e&&$(u),e&&$(f),e&&$(d),e&&$(S),e&&$(A),ce(j),b(U,e),b(re,e),b(ae,e),z=!1,o(K)}}}function Se(e){let t,n;return t=new ke({props:{label:e[15],value:e[5][e[15]],max:e[3]}}),{c(){se(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.value=e[5][e[15]]),8&n&&(r.max=e[3]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Ae(e){let t,n;return t=new ke({props:{label:e[15],value:e[5][e[15]],unit:"%"}}),{c(){se(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.value=e[5][e[15]]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Ee(e){let t,n;return t=new ke({props:{label:e[15],value:e[5][e[15]],unit:"%"}}),{c(){se(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.value=e[5][e[15]]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Pe(t){let n;return{c(){n=v("p"),n.textContent="Loading data..."},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}function Be(e){let t,n,r,o,l,s={ctx:e,current:null,token:null,hasCatch:!1,pending:Pe,then:qe,catch:Me,blocks:[,,,]};return oe(o=e[7],s),{c(){t=v("section"),n=v("h2"),n.textContent="Data from See, Hear, Respond",r=x(),s.block.c(),_(n,"id","barnardos"),_(t,"class","barnardos")},m(e,o){g(e,t,o),p(t,n),p(t,r),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null,l=!0},p(t,[n]){{const r=(e=t).slice();s.block.p(r,n)}},i(e){l||(ee(s.block),l=!0)},o(e){for(let e=0;e<3;e+=1){te(s.blocks[e])}l=!1},d(e){e&&$(t),s.block.d(),s.token=null,s=null}}}function je(e,t,n){let r,o,l=0,s=ge(void 0);i(e,s,(e=>n(5,r=e)));let a,u=[],f=0;const d=(async()=>{const e=await $e("data/barnardos/referrals.csv");n(0,o=e.map((e=>Object.entries(e).reduce(((e,[t,n])=>(["date"].includes(t)||(e[t]=parseInt(n)),e)),{})))),n(2,u=e.map((({date:e})=>new Date(e)))),n(1,l=o.length-1)})(),h=()=>{if(a)return window.clearInterval(a),void n(4,a=void 0);n(4,a=window.setInterval((()=>{n(1,l=(l+1)%o.length),l==o.length-1&&h()}),500))},m=new Intl.DateTimeFormat("default",{year:"numeric",month:"short",day:"numeric"});return e.$$.update=()=>{3&e.$$.dirty&&o&&(n(3,f=Math.max(...o.map((e=>e["Total referrals"])))),c(s,r=o[l],r))},[o,l,u,f,a,r,s,d,["Approved Delivery Partner","Professional","Guardian","Self"],["Child mental health","Isolation & loneliness","Barriers to reintegration to education","Parenting support","Parent mental health","Barriers to engagement with support services","Impact of caring responsibilities","Concerns about children outside the home","Other","Exposure to online harm","Child protection or safeguarding concerns referred to Statutory Agencies"],["Child mental health","BAMER","Children with SEN","Children under 5","At risk of (outside) exploitation","Young carers"],h,m,function(){var e;e=this.value,l=""===e?null:+e,n(1,l)}]}class De extends fe{constructor(e){super(),ue(this,e,je,Be,s,{})}}const{window:Oe}=le;function Ie(t){let n,r,l,s,i,c,a,u,f,d,h,m,b,y,T,M,q,A,E,P,B,j,D,O,I,L,N,H,R,Y,F,z=t[0]?"Hide":"Show";return{c(){n=v("button"),r=w(z),l=w("\n  Menu"),s=x(),i=v("aside"),c=v("section"),a=v("h2"),a.innerHTML='<a href="#barnardos">The Child&#39;s Perspective →</a>',u=x(),f=v("p"),f.textContent="This data results from analysis of referral data from the Barnardo's See,\n      Hear, Respond initiative.",d=x(),h=v("p"),h.textContent="You can scroll through the available data by dragging the slider. Pressing\n      the Play button will animate the display.",m=x(),b=v("section"),y=v("h2"),y.innerHTML='<a href="#teachertapp">The Teacher&#39;s Perspective →</a>',T=x(),M=v("p"),M.textContent="We commissioned a series of surveys with Teacher Tapp. TKTKTK",q=x(),A=v("p"),A.textContent="The square charts show the percentage of respondents who selected that\n      option. Each square represents 1 percent.",E=x(),P=v("p"),P.textContent="The surveys returned by the teachers have been segmented during analysis.\n      Select a segment to drill down into the results.",B=x(),j=v("p"),j.textContent="You can comare this result against another segment with the select box\n      that appears. The baseline figure will appear as a solid border on the\n      chart.",D=x(),O=v("section"),I=v("h2"),I.innerHTML='<a href="#mumsnet">The Parent&#39;s Perspective →</a>',L=x(),N=v("p"),N.textContent="The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.",H=x(),R=v("ul"),R.innerHTML='<li class="svelte-117459f">Select either bigrams (pairs of words) or tokens (single words) to see\n        how many times they were mentioned in the months of January, April or\n        September.</li> \n\n      <li class="svelte-117459f">You can select either &#39;Tokens&#39; for single words or &#39;Bigrams&#39; for pairs\n        of words. Clicking the column title will sort the terms by the\n        prevalence in that month. The number of terms will be limited to the top\n        10.</li>',_(n,"class","toc-display"),_(f,"class","svelte-117459f"),_(h,"class","svelte-117459f"),S(c,"hidden",t[1][0]),_(M,"class","svelte-117459f"),_(A,"class","svelte-117459f"),_(P,"class","svelte-117459f"),_(j,"class","svelte-117459f"),S(b,"hidden",t[1][1]),_(N,"class","svelte-117459f"),_(R,"class","svelte-117459f"),S(O,"hidden",t[1][2]),S(i,"open",t[0])},m(e,o){g(e,n,o),p(n,r),p(n,l),g(e,s,o),g(e,i,o),p(i,c),p(c,a),p(c,u),p(c,f),p(c,d),p(c,h),p(i,m),p(i,b),p(b,y),p(b,T),p(b,M),p(b,q),p(b,A),p(b,E),p(b,P),p(b,B),p(b,j),p(i,D),p(i,O),p(O,I),p(O,L),p(O,N),p(O,H),p(O,R),Y||(F=[k(Oe,"scroll",t[3]),k(n,"click",t[5]),k(a,"click",t[4]("barnardos")),k(y,"click",t[4]("teachertapp")),k(I,"click",t[4]("mumsnet"))],Y=!0)},p(e,[t]){1&t&&z!==(z=e[0]?"Hide":"Show")&&C(r,z),2&t&&S(c,"hidden",e[1][0]),2&t&&S(b,"hidden",e[1][1]),2&t&&S(O,"hidden",e[1][2]),1&t&&S(i,"open",e[0])},i:e,o:e,d(e){e&&$(n),e&&$(s),e&&$(i),Y=!1,o(F)}}}function Le(e,t,n){let r,o=!1;const l=ge(window.scrollX);i(e,l,(e=>n(6,r=e)));let s=[];const c=()=>{const e=document.querySelectorAll("main section h2");return Array.from(e).reduce(((e,t)=>(e[t.id]=t.offsetTop,e)),{})},a=()=>{const e=c(),t=window.scrollY+160;n(1,s=Object.values(e).map(((e,n,r)=>!(t>e&&!(t>r[n+1])))))};var u;u=()=>{a()},O().$$.after_update.push(u);return e.$$.update=()=>{64&e.$$.dirty&&window.scrollTo(0,r)},[o,s,l,()=>a(),e=>()=>{const t=c();l.set(t[e]-80),n(0,o=!1)},()=>n(0,o=!o)]}class Ne extends fe{constructor(e){super(),ue(this,e,Le,Ie,s,{})}}function He(t){let n;return{c(){n=v("header"),n.innerHTML="<h1>Data about Children in Lockdown</h1>"},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}class Re extends fe{constructor(e){super(),ue(this,e,null,He,s,{})}}function Ye(e,{delay:n=0,duration:r=400,easing:o=t}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*l}}function Fe(e){let t,n,r,o;return{c(){t=y("text"),n=w(e[1]),_(t,"x","100"),_(t,"y","100"),_(t,"dy","10"),_(t,"text-anchor","middle"),_(t,"dominant-baseline","middle"),_(t,"class","svelte-qxowdj"),S(t,"shown",e[2])},m(e,r){g(e,t,r),p(t,n),o=!0},p(e,r){(!o||2&r)&&C(n,e[1]),4&r&&S(t,"shown",e[2])},i(e){o||(F((()=>{r||(r=re(t,Ye,{},!0)),r.run(1)})),o=!0)},o(e){r||(r=re(t,Ye,{},!1)),r.run(0),o=!1},d(e){e&&$(t),e&&r&&r.end()}}}function ze(e){let t,n,r,l,s,i,c=e[1]&&e[2]&&Fe(e);return{c(){t=y("svg"),n=y("circle"),c&&c.c(),_(n,"cx","100"),_(n,"cy","100"),_(n,"r",r=100*e[0]),_(t,"viewBox","0 0 200 200"),_(t,"class","svelte-qxowdj")},m(r,o){g(r,t,o),p(t,n),c&&c.m(t,null),l=!0,s||(i=[k(t,"mouseenter",e[3]),k(t,"mouseleave",e[4]),k(t,"touchstart",e[5],{passive:!0})],s=!0)},p(e,[o]){(!l||1&o&&r!==(r=100*e[0]))&&_(n,"r",r),e[1]&&e[2]?c?(c.p(e,o),6&o&&ee(c,1)):(c=Fe(e),c.c(),ee(c,1),c.m(t,null)):c&&(V(),te(c,1,1,(()=>{c=null})),Z())},i(e){l||(ee(c),l=!0)},o(e){te(c),l=!1},d(e){e&&$(t),c&&c.d(),s=!1,o(i)}}}function Ke(e,t,n){let r,{radius:o}=t,{content:l}=t;return e.$$set=e=>{"radius"in e&&n(0,o=e.radius),"content"in e&&n(1,l=e.content)},[o,l,r,()=>n(2,r=!0),()=>n(2,r=!1),()=>n(2,r=!r)]}class Ge extends fe{constructor(e){super(),ue(this,e,Ke,ze,s,{radius:0,content:1})}}function Je(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function We(e,t,n){const r=e.slice();return r[8]=t[n],r}function Qe(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Ue(e){let t,n,r,o,l=e[11]+"";function s(...t){return e[5](e[13],...t)}return{c(){t=v("th"),n=w(l),S(t,"selected",e[13]===e[2])},m(e,l){g(e,t,l),p(t,n),r||(o=k(t,"click",s),r=!0)},p(r,o){e=r,16&o&&l!==(l=e[11]+"")&&C(n,l),4&o&&S(t,"selected",e[13]===e[2])},d(e){e&&$(t),r=!1,o()}}}function Xe(e){let t,n,r;return n=new Ge({props:{radius:Math.sqrt(e[8][e[11]]/e[3]),content:e[8][e[11]]}}),{c(){t=v("td"),se(n.$$.fragment),S(t,"selected",e[13]===e[2])},m(e,o){g(e,t,o),ie(n,t,null),r=!0},p(e,r){const o={};9&r&&(o.radius=Math.sqrt(e[8][e[11]]/e[3])),1&r&&(o.content=e[8][e[11]]),n.$set(o),4&r&&S(t,"selected",e[13]===e[2])},i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(e){e&&$(t),ce(n)}}}function Ve(e){let t,n,r,o,l,s,i=e[8].term+"",c=e[0].columns.slice(1),a=[];for(let t=0;t<c.length;t+=1)a[t]=Xe(Je(e,c,t));const u=e=>te(a[e],1,1,(()=>{a[e]=null}));return{c(){t=v("tr");for(let e=0;e<a.length;e+=1)a[e].c();n=x(),r=v("td"),o=w(i),l=x(),_(r,"class","term")},m(e,i){g(e,t,i);for(let e=0;e<a.length;e+=1)a[e].m(t,null);p(t,n),p(t,r),p(r,o),p(t,l),s=!0},p(e,r){if(13&r){let o;for(c=e[0].columns.slice(1),o=0;o<c.length;o+=1){const l=Je(e,c,o);a[o]?(a[o].p(l,r),ee(a[o],1)):(a[o]=Xe(l),a[o].c(),ee(a[o],1),a[o].m(t,n))}for(V(),o=c.length;o<a.length;o+=1)u(o);Z()}(!s||1&r)&&i!==(i=e[8].term+"")&&C(o,i)},i(e){if(!s){for(let e=0;e<c.length;e+=1)ee(a[e]);s=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)te(a[e]);s=!1},d(e){e&&$(t),b(a,e)}}}function Ze(e){let t,n,r,o,l,s,i,c,a=e[4],u=[];for(let t=0;t<a.length;t+=1)u[t]=Ue(Qe(e,a,t));let f=e[0],d=[];for(let t=0;t<f.length;t+=1)d[t]=Ve(We(e,f,t));const h=e=>te(d[e],1,1,(()=>{d[e]=null}));return{c(){t=v("table"),n=v("thead"),r=v("tr");for(let e=0;e<u.length;e+=1)u[e].c();o=x(),l=v("td"),s=x(),i=v("tbody");for(let e=0;e<d.length;e+=1)d[e].c()},m(e,a){g(e,t,a),p(t,n),p(n,r);for(let e=0;e<u.length;e+=1)u[e].m(r,null);p(r,o),p(r,l),p(t,s),p(t,i);for(let e=0;e<d.length;e+=1)d[e].m(i,null);c=!0},p(e,[t]){if(22&t){let n;for(a=e[4],n=0;n<a.length;n+=1){const l=Qe(e,a,n);u[n]?u[n].p(l,t):(u[n]=Ue(l),u[n].c(),u[n].m(r,o))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}if(13&t){let n;for(f=e[0],n=0;n<f.length;n+=1){const r=We(e,f,n);d[n]?(d[n].p(r,t),ee(d[n],1)):(d[n]=Ve(r),d[n].c(),ee(d[n],1),d[n].m(i,null))}for(V(),n=f.length;n<d.length;n+=1)h(n);Z()}},i(e){if(!c){for(let e=0;e<f.length;e+=1)ee(d[e]);c=!0}},o(e){d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)te(d[e]);c=!1},d(e){e&&$(t),b(u,e),b(d,e)}}}function et(e,t,n){let{data:r}=t,{handler:o=(()=>{})}=t,{highlight:l}=t;const s=e=>!isNaN(e),i=new Intl.DateTimeFormat("default",{month:"short",year:"numeric"});let c,a;return e.$$set=e=>{"data"in e&&n(0,r=e.data),"handler"in e&&n(1,o=e.handler),"highlight"in e&&n(2,l=e.highlight)},e.$$.update=()=>{1&e.$$.dirty&&n(3,c=r.reduce(((e,t)=>{const n=Math.max(...Object.values(t).filter(s));return n>e?n:e}),0)),1&e.$$.dirty&&n(4,a=r.columns.slice(1).map((e=>i.format(new Date(e)))))},[r,o,l,c,a,e=>o(e)]}class tt extends fe{constructor(e){super(),ue(this,e,et,Ze,s,{data:0,handler:1,highlight:2})}}function nt(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function rt(t){let n,r,o,l,s=t[14]+"";return{c(){var e,t,i;n=v("p"),n.textContent="Data not loaded!",r=x(),o=v("p"),l=w(s),e="color",t="red",n.style.setProperty(e,t,i?"important":"")},m(e,t){g(e,n,t),g(e,r,t),g(e,o,t),p(o,l)},p:e,i:e,o:e,d(e){e&&$(n),e&&$(r),e&&$(o)}}}function ot(e){let t,n,r,o,l,s,i,c,a,u,f,d,h=e[3],m=[];for(let t=0;t<h.length;t+=1)m[t]=lt(nt(e,h,t));return i=new tt({props:{data:e[1],handler:e[5],highlight:e[2]}}),{c(){t=v("label"),t.textContent="Select a type of term:",n=x(),r=v("select");for(let e=0;e<m.length;e+=1)m[e].c();o=x(),l=v("p"),l.textContent=`Click the date header to select the\n      ${ct}\n      terms used most frequently in that month.`,s=x(),se(i.$$.fragment),c=x(),a=v("p"),a.textContent="Data sourced from Mumsnet MI systems with kind permission.",_(t,"for","token-selector"),_(r,"id","token-selector"),void 0===e[0]&&F((()=>e[6].call(r)))},m(h,p){g(h,t,p),g(h,n,p),g(h,r,p);for(let e=0;e<m.length;e+=1)m[e].m(r,null);M(r,e[0]),g(h,o,p),g(h,l,p),g(h,s,p),ie(i,h,p),g(h,c,p),g(h,a,p),u=!0,f||(d=k(r,"change",e[6]),f=!0)},p(e,t){if(8&t){let n;for(h=e[3],n=0;n<h.length;n+=1){const o=nt(e,h,n);m[n]?m[n].p(o,t):(m[n]=lt(o),m[n].c(),m[n].m(r,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=h.length}1&t&&M(r,e[0]);const n={};2&t&&(n.data=e[1]),4&t&&(n.highlight=e[2]),i.$set(n)},i(e){u||(ee(i.$$.fragment,e),u=!0)},o(e){te(i.$$.fragment,e),u=!1},d(e){e&&$(t),e&&$(n),e&&$(r),b(m,e),e&&$(o),e&&$(l),e&&$(s),ce(i,e),e&&$(c),e&&$(a),f=!1,d()}}}function lt(t){let n,r,o,l=t[11].charAt(0).toUpperCase()+t[11].slice(1)+"";return{c(){n=v("option"),r=w(l),n.__value=o=t[13],n.value=n.__value},m(e,t){g(e,n,t),p(n,r)},p:e,d(e){e&&$(n)}}}function st(t){let n;return{c(){n=w("Loading data...")},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}function it(e){let t,n,r,o,l,s={ctx:e,current:null,token:null,hasCatch:!0,pending:st,then:ot,catch:rt,error:14,blocks:[,,,]};return oe(o=e[4],s),{c(){t=v("section"),n=v("h2"),n.textContent="Analysis of terms in Mumsnet forums",r=x(),s.block.c(),_(n,"id","mumsnet"),_(t,"class","mumsnet")},m(e,o){g(e,t,o),p(t,n),p(t,r),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null,l=!0},p(t,[n]){{const r=(e=t).slice();r[14]=s.resolved,s.block.p(r,n)}},i(e){l||(ee(s.block),l=!0)},o(e){for(let e=0;e<3;e+=1){te(s.blocks[e])}l=!1},d(e){e&&$(t),s.block.d(),s.token=null,s=null}}}let ct=10;function at(e,t,n){const r=["bigrams","tokens"];let o,l=0,s=[],i=1;function c(e,t,n){const r=e[t],o=r.columns[n],l=u(o),s=r.sort(l).slice(0,ct);return s.columns=r.columns,s}let a=async function(){n(7,o=await Promise.all(r.map((e=>$e(`data/mumsnet/${e}.csv`))))),n(1,s=c(o,l,i+1))}();const u=e=>(t,n)=>parseInt(t[e])>parseInt(n[e])?-1:parseInt(t[e])<parseInt(n[e])?1:0;return e.$$.update=()=>{133&e.$$.dirty&&o&&n(1,s=c(o,l,i+1))},[l,s,i,r,a,e=>{n(2,i=e)},function(){l=q(this),n(0,l)}]}class ut extends fe{constructor(e){super(),ue(this,e,at,it,s,{})}}function ft(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function dt(e){let t,n,r;return{c(){t=y("rect"),_(t,"width","5"),_(t,"height","5"),_(t,"x",n=e[5]%10*10+1),_(t,"y",r=10*Math.floor((99-e[5])/10)+1),_(t,"class","svelte-1csbitr"),S(t,"filled",e[5]+1<=100*e[0]/e[2]),S(t,"baseline",e[5]+1<=100*e[1]/e[2])},m(e,n){g(e,t,n)},p(e,n){5&n&&S(t,"filled",e[5]+1<=100*e[0]/e[2]),6&n&&S(t,"baseline",e[5]+1<=100*e[1]/e[2])},d(e){e&&$(t)}}}function ht(t){let n,r=Array(100),o=[];for(let e=0;e<r.length;e+=1)o[e]=dt(ft(t,r,e));return{c(){n=y("svg");for(let e=0;e<o.length;e+=1)o[e].c();_(n,"viewBox","0 0 100 100")},m(e,t){g(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(7&t){let l;for(r=Array(100),l=0;l<r.length;l+=1){const s=ft(e,r,l);o[l]?o[l].p(s,t):(o[l]=dt(s),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},i:e,o:e,d(e){e&&$(n),b(o,e)}}}function mt(e,t,n){let{number:r}=t,{reference:o}=t,{total:l=100}=t;return e.$$set=e=>{"number"in e&&n(0,r=e.number),"reference"in e&&n(1,o=e.reference),"total"in e&&n(2,l=e.total)},[r,o,l]}class pt extends fe{constructor(e){super(),ue(this,e,mt,ht,s,{number:0,reference:1,total:2})}}const gt=e=>Intl.DateTimeFormat([],{dateStyle:"full"}).format(new Date(e));function $t(e,t,n){const r=e.slice();return r[8]=t[n].title,r[9]=t[n].number,r[10]=t[n].reference,r}function bt(e,t,n){const r=e.slice();return r[13]=t[n],r}function vt(e,t,n){const r=e.slice();return r[13]=t[n],r}function yt(e){let t,n,r,o=e[13]+"";return{c(){t=v("option"),n=w(o),t.__value=r=e[13],t.value=t.__value},m(e,r){g(e,t,r),p(t,n)},p(e,l){2&l&&o!==(o=e[13]+"")&&C(n,o),2&l&&r!==(r=e[13])&&(t.__value=r,t.value=t.__value)},d(e){e&&$(t)}}}function wt(e){let t,n,r,o,l,s,i,c,a,u,f,d,h,m=e[1],C=[];for(let t=0;t<m.length;t+=1)C[t]=xt(bt(e,m,t));return{c(){t=v("div"),n=v("label"),r=w("Comparison"),l=x(),s=y("svg"),i=y("rect"),c=x(),a=v("select"),u=v("option"),u.textContent="None";for(let e=0;e<C.length;e+=1)C[e].c();_(n,"for",o="comarison-segment-"+e[2]),_(i,"class","baseline"),_(i,"width","10"),_(i,"height","10"),_(s,"width","10"),_(s,"viewBox","0 0 10 10"),u.__value="None",u.value=u.__value,_(a,"id",f="comparison-segment-"+e[2]),void 0===e[5]&&F((()=>e[7].call(a))),_(t,"class","selector")},m(o,f){g(o,t,f),p(t,n),p(n,r),p(t,l),p(t,s),p(s,i),p(t,c),p(t,a),p(a,u);for(let e=0;e<C.length;e+=1)C[e].m(a,null);M(a,e[5]),d||(h=k(a,"change",e[7]),d=!0)},p(e,t){if(4&t&&o!==(o="comarison-segment-"+e[2])&&_(n,"for",o),2&t){let n;for(m=e[1],n=0;n<m.length;n+=1){const r=bt(e,m,n);C[n]?C[n].p(r,t):(C[n]=xt(r),C[n].c(),C[n].m(a,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=m.length}4&t&&f!==(f="comparison-segment-"+e[2])&&_(a,"id",f),34&t&&M(a,e[5])},d(e){e&&$(t),b(C,e),d=!1,h()}}}function xt(e){let t,n,r,o=e[13]+"";return{c(){t=v("option"),n=w(o),t.__value=r=e[13],t.value=t.__value},m(e,r){g(e,t,r),p(t,n)},p(e,l){2&l&&o!==(o=e[13]+"")&&C(n,o),2&l&&r!==(r=e[13])&&(t.__value=r,t.value=t.__value)},d(e){e&&$(t)}}}function kt(e){let t,n,r,o,l,s,i,c,a,u,f,d,h,m=e[8]+"",b=e[9]+"";return n=new pt({props:{number:e[9],reference:e[10]}}),{c(){t=v("section"),se(n.$$.fragment),r=x(),o=v("p"),l=w(m),s=x(),i=v("p"),c=w(b),a=w("% of "),u=w(e[4]),f=w(" respondents"),d=x(),_(i,"class","summary"),_(t,"class","response")},m(e,m){g(e,t,m),ie(n,t,null),p(t,r),p(t,o),p(o,l),p(t,s),p(t,i),p(i,c),p(i,a),p(i,u),p(i,f),p(t,d),h=!0},p(e,t){const r={};8&t&&(r.number=e[9]),8&t&&(r.reference=e[10]),n.$set(r),(!h||8&t)&&m!==(m=e[8]+"")&&C(l,m),(!h||8&t)&&b!==(b=e[9]+"")&&C(c,b),(!h||16&t)&&C(u,e[4])},i(e){h||(ee(n.$$.fragment,e),h=!0)},o(e){te(n.$$.fragment,e),h=!1},d(e){e&&$(t),ce(n)}}}function _t(e){let t,n,r,o,l,s,i,c,a,u,f,d,h,m,T,q,S,A,E,P,B,j,D,O,I,L,N,H,R=e[0].q+"",Y=e[0].r+"",z=gt(e[0].d)+"",K=e[1],G=[];for(let t=0;t<K.length;t+=1)G[t]=yt(vt(e,K,t));let J="All"!=e[4]&&wt(e),W=e[3],Q=[];for(let t=0;t<W.length;t+=1)Q[t]=kt($t(e,W,t));const U=e=>te(Q[e],1,1,(()=>{Q[e]=null}));return{c(){t=v("section"),n=v("h3"),r=w(R),o=x(),l=v("div"),s=v("label"),i=w("Segment"),a=x(),u=y("svg"),f=y("rect"),d=x(),h=v("select");for(let e=0;e<G.length;e+=1)G[e].c();T=x(),J&&J.c(),q=x(),S=v("div");for(let e=0;e<Q.length;e+=1)Q[e].c();A=x(),E=v("p"),P=w("Total respondents "),B=w(Y),j=x(),D=v("p"),O=w("Question asked on "),I=w(z),_(s,"for",c="primary-segment-"+e[2]),_(f,"class","filled"),_(f,"width","10"),_(f,"height","10"),_(u,"width","10"),_(u,"viewBox","0 0 10 10"),_(h,"id",m="primary-segment-"+e[2]),void 0===e[4]&&F((()=>e[6].call(h))),_(l,"class","selector"),_(S,"class","grid")},m(c,m){g(c,t,m),p(t,n),p(n,r),p(t,o),p(t,l),p(l,s),p(s,i),p(l,a),p(l,u),p(u,f),p(l,d),p(l,h);for(let e=0;e<G.length;e+=1)G[e].m(h,null);M(h,e[4]),p(t,T),J&&J.m(t,null),p(t,q),p(t,S);for(let e=0;e<Q.length;e+=1)Q[e].m(S,null);p(t,A),p(t,E),p(E,P),p(E,B),p(t,j),p(t,D),p(D,O),p(D,I),L=!0,N||(H=k(h,"change",e[6]),N=!0)},p(e,[n]){if((!L||1&n)&&R!==(R=e[0].q+"")&&C(r,R),(!L||4&n&&c!==(c="primary-segment-"+e[2]))&&_(s,"for",c),2&n){let t;for(K=e[1],t=0;t<K.length;t+=1){const r=vt(e,K,t);G[t]?G[t].p(r,n):(G[t]=yt(r),G[t].c(),G[t].m(h,null))}for(;t<G.length;t+=1)G[t].d(1);G.length=K.length}if((!L||4&n&&m!==(m="primary-segment-"+e[2]))&&_(h,"id",m),18&n&&M(h,e[4]),"All"!=e[4]?J?J.p(e,n):(J=wt(e),J.c(),J.m(t,q)):J&&(J.d(1),J=null),24&n){let t;for(W=e[3],t=0;t<W.length;t+=1){const r=$t(e,W,t);Q[t]?(Q[t].p(r,n),ee(Q[t],1)):(Q[t]=kt(r),Q[t].c(),ee(Q[t],1),Q[t].m(S,null))}for(V(),t=W.length;t<Q.length;t+=1)U(t);Z()}(!L||1&n)&&Y!==(Y=e[0].r+"")&&C(B,Y),(!L||1&n)&&z!==(z=gt(e[0].d)+"")&&C(I,z)},i(e){if(!L){for(let e=0;e<W.length;e+=1)ee(Q[e]);L=!0}},o(e){Q=Q.filter(Boolean);for(let e=0;e<Q.length;e+=1)te(Q[e]);L=!1},d(e){e&&$(t),b(G,e),J&&J.d(),b(Q,e),N=!1,H()}}}function Ct(e,t,n){let r,{question:o}=t,{keys:l}=t,{id:s=""}=t,i="All",c="All";return e.$$set=e=>{"question"in e&&n(0,o=e.question),"keys"in e&&n(1,l=e.keys),"id"in e&&n(2,s=e.id)},e.$$.update=()=>{if(51&e.$$.dirty){const e=l.indexOf(i),t=l.indexOf(c);n(3,r=o.a.map((({t:n,d:r})=>({title:n,number:r[e],reference:0!==e?r[t]:void 0}))))}},[o,l,s,r,i,c,function(){i=q(this),n(4,i),n(1,l)},function(){c=q(this),n(5,c),n(1,l)}]}class Tt extends fe{constructor(e){super(),ue(this,e,Ct,_t,s,{question:0,keys:1,id:2})}}const Mt=he();function qt(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function St(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function At(e){let t,n,r=e[0].q,o=[];for(let t=0;t<r.length;t+=1)o[t]=Et(qt(e,r,t));const l=e=>te(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=w("")},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);g(e,t,r),n=!0},p(e,n){if(1&n){let s;for(r=e[0].q,s=0;s<r.length;s+=1){const l=qt(e,r,s);o[s]?(o[s].p(l,n),ee(o[s],1)):(o[s]=Et(l),o[s].c(),ee(o[s],1),o[s].m(t.parentNode,t))}for(V(),s=r.length;s<o.length;s+=1)l(s);Z()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ee(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)te(o[e]);n=!1},d(e){b(o,e),e&&$(t)}}}function Et(e){let t,n;return t=new Tt({props:{question:e[3],keys:e[0].k,id:e[5]}}),{c(){se(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.question=e[3]),1&n&&(r.keys=e[0].k),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Pt(t){let n;return{c(){n=v("p"),n.textContent="Loading data file"},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}function Bt(e){let t,n,r,o,l,s={ctx:e,current:null,token:null,hasCatch:!1,pending:Pt,then:At,catch:St,blocks:[,,,]};return oe(o=e[1],s),{c(){t=v("section"),n=v("h2"),n.textContent="Teacher Surveys",r=x(),s.block.c(),_(n,"id","teachertapp"),_(t,"class","teachertapp")},m(e,o){g(e,t,o),p(t,n),p(t,r),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null,l=!0},p(t,[n]){{const r=(e=t).slice();s.block.p(r,n)}},i(e){l||(ee(s.block),l=!0)},o(e){for(let e=0;e<3;e+=1){te(s.blocks[e])}l=!1},d(e){e&&$(t),s.block.d(),s.token=null,s=null}}}function jt(e,t,n){let r;i(e,Mt,(e=>n(0,r=e)));const o=(async()=>{c(Mt,r=await(async e=>(await fetch(e)).json())("data/teacher-tapp/questions.json"),r)})();return[r,o]}class Dt extends fe{constructor(e){super(),ue(this,e,jt,Bt,s,{})}}function Ot(t){let n,r,o,l,s,i,c,a,u,f,d;return n=new Re({}),o=new Ne({}),i=new De({}),a=new Dt({}),f=new ut({}),{c(){se(n.$$.fragment),r=x(),se(o.$$.fragment),l=x(),s=v("main"),se(i.$$.fragment),c=x(),se(a.$$.fragment),u=x(),se(f.$$.fragment),_(s,"role","main")},m(e,t){ie(n,e,t),g(e,r,t),ie(o,e,t),g(e,l,t),g(e,s,t),ie(i,s,null),p(s,c),ie(a,s,null),p(s,u),ie(f,s,null),d=!0},p:e,i(e){d||(ee(n.$$.fragment,e),ee(o.$$.fragment,e),ee(i.$$.fragment,e),ee(a.$$.fragment,e),ee(f.$$.fragment,e),d=!0)},o(e){te(n.$$.fragment,e),te(o.$$.fragment,e),te(i.$$.fragment,e),te(a.$$.fragment,e),te(f.$$.fragment,e),d=!1},d(e){ce(n,e),e&&$(r),ce(o,e),e&&$(l),e&&$(s),ce(i),ce(a),ce(f)}}}new class extends fe{constructor(e){super(),ue(this,e,null,Ot,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
