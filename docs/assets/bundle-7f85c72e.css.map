{"version":3,"sources":["../../src/style/_reset.scss","../../src/style/main.scss","../../src/style/_odileeds.scss","../../src/style/_barnardos.scss","../../src/style/_mumsnet.scss","../../src/components/ControlPanel.svelte","../../src/components/GraphRow.svelte","../../src/components/Circle.svelte","../../src/components/chart/Waffle.svelte"],"names":[],"mappings":"AAKA,2ZAaC,QAAS,CACT,SAAU,CACV,QAAS,CACT,cAAe,CACf,YAAa,CACb,uBAAwB,CAGzB,8EAEC,aAAc,CAEf,KACC,aAAc,CAEf,MACC,eAAgB,CAEjB,aACC,WAAY,CAEb,oDAEC,UAAW,CACX,YAAa,CAEd,MACC,wBAAyB,CACzB,gBAAiB,CC9BlB,yBACE,mECXmF,CDYnF,cCXuB,CDYvB,eAAgB,CAGlB,SACE,cAAe,CACf,kBAAoB,CAGtB,uBAIE,oBAAmB,CAGrB,qBACE,UAAW,CACX,WAAY,CAGd,oFACE,YAAa,CACb,6BAA8B,CAC9B,kBAAmB,CAIrB,GAEE,eAAgB,CAGlB,GAEE,eACiB,CAGnB,MAHE,eAMiB,CAHnB,GAEE,eACiB,CAanB,GACE,qBAAsB,CAGxB,YAII,cAAe,CACf,UAAW,CACX,qBAAsB,CACtB,kBClFoC,CDmFpC,8BAA6C,CAC7C,YAAa,CACb,WAAY,CAVhB,eAYM,SAAU,CACV,QAAS,CACT,kBAAmB,CACnB,iBAAkB,CAfxB,WAqBI,cAAe,CACf,KAAM,CACN,MAAO,CACP,qBAAsB,CACtB,eApGqB,CAqGrB,UAAW,CACX,YAAa,CACb,iBAAkB,CA5BtB,gBA8BM,eAAgB,CAjGpB,yCAmEF,WAmCM,eAAgB,CAChB,WAAY,CApClB,6CAwCY,YAAa,CACd,CAOX,0BACE,UAAY,CACZ,4BAAgC,CAChC,WAAY,CACZ,iBAAkB,CAClB,YAAc,CAGhB,aAEE,cAAe,CACf,UAAW,CACX,SAAU,CACV,YAAa,CACb,SAAU,CAjIV,yCA2HF,aAQI,YAAa,CAEhB,CArIC,yCAgIA,YAUE,iBAAkB,CAClB,cAAe,CAElB,CErJD,eAEI,YAJuC,CAKvC,UAAW,CACX,WAAY,CAJhB,kBAOI,WAAY,CAPhB,qBAWI,aAAc,CAXlB,4BAgBM,SAAU,CAhBhB,2BAmBM,eAAgB,CAChB,WAAY,CFZhB,yCERF,oBAyBM,YAAa,CACb,kBAAmB,CACnB,6BAA8B,CAC9B,sBAAuB,CA5B7B,sBA8BQ,SAAU,CACX,CCjCP,SACE,cAAe,CADjB,oBAIM,YHDoC,CGH1C,mBAQI,wBAAsE,CAR1E,eAWI,wBAAyB,CACzB,eAAgB,CAChB,aAAc,CHHhB,yCGVF,eAeM,aAAc,CAgBjB,CA/BH,oCAmBM,mBAAsB,CACtB,iBAAkB,CApBxB,kBAuBM,eAAiB,CAvBvB,qBA0BM,UAAW,CACX,iBAAkB,CAClB,yBAA0B,CAC1B,eAAgB,CH+HtB,uBAGI,aAAe,CACf,UAAW,CAJf,2BAMM,cAAgB,CANtB,8BASM,WAAY,CATlB,mBAaI,aAAc,CACd,UAAW,CAdf,mBAkBI,iBAAkB,CAClB,qBAAsB,CACtB,cAAe,CApBnB,uBAuBI,WAAY,CACZ,kBAAmB,CACnB,iBAAmB,CAzBvB,yBA2BM,cAAgB,CAChB,QAAS,CA5Bf,yBAiCM,YAzLwC,CA0LxC,cA1LwC,CAwJ9C,2BAqCM,YAAoD,CIrFxD,mCAAO,kBACe,CACrB,kBACG,8BAC6B,CAC/B,eAAgB,CACjB,kBACG,kBACkB,CC5GA,iBAAI,YACb,CACb,kBAAmB,CACnB,6BAA8B,CAC9B,YAAa,CAAG,qBAEV,cACU,CAChB,iBAAkB,CAClB,UAAW,CACX,aAAc,CACd,gBAAiB,CACjB,kBAAoB,CAAG,mBAEnB,WACQ,CAAG,qBAET,SACI,CACV,gBAAiB,CCjBK,qCAAU,eAChB,CAChB,eAAiB,CACjB,yBAA0B,CAC1B,YAAa,CCGS,oBAAM,SAClB,CACV,WAAY,CACZ,cAAe","file":"bundle-7f85c72e.css","sourcesContent":["/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}","$popover-size: 80%;\n\n$background-colour: white;\n$mumsnet-brand-colour: hsl(204, 100%, 32%);\n$teacher-tapp-brand-colour: hsl(164, 76%, 47%);\n\n@import 'reset', 'odileeds';\n\n// Mixins\n@mixin desktop() {\n  @media only screen and (min-width: 720px) {\n    @content;\n  }\n}\n\n// Placeholders\n%standard-font {\n  font-family: $odileeds-font-stack;\n  font-size: $odileeds-font-size;\n  line-height: 1.2;\n}\n\n%spaced-text {\n  margin-top: 1em;\n  margin-bottom: 0.5em;\n}\n\n%content-block {\n  padding-top: 60px;\n  padding-left: 1em;\n  padding-right: 1em;\n  padding-bottom: 2em;\n}\n\n%full-size {\n  width: 100%;\n  height: 100%;\n}\n\n%flex-layout {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n\nh1 {\n  @extend %spaced-text;\n  font-size: 1.5em;\n}\n\nh2 {\n  @extend %spaced-text;\n  font-size: 1.2em;\n  font-weight: bold;\n}\n\nh3 {\n  @extend %spaced-text;\n  font-size: 1.1em;\n  font-weight: bold;\n}\n\nhtml {\n  @extend %full-size;\n}\n\ninput,\nselect,\nbutton {\n  @extend %standard-font;\n}\n\ntd {\n  vertical-align: middle;\n}\n\nbody {\n  @extend %standard-font;\n  @extend %full-size;\n  > header {\n    position: fixed;\n    width: 100%;\n    box-sizing: border-box;\n    background: $odileeds-colour-c10;\n    box-shadow: 0 0 5px 1px hsla(0, 0%, 65%, 95%);\n    padding: 1rem;\n    z-index: 100;\n    h1 {\n      padding: 0;\n      margin: 0;\n      white-space: nowrap;\n      overflow-x: scroll;\n    }\n  }\n  > aside {\n    @extend %content-block;\n    @extend %full-size;\n    position: fixed;\n    top: 0;\n    left: 0;\n    box-sizing: border-box;\n    background: $background-colour;\n    z-index: 50;\n    display: none;\n    overflow-y: scroll;\n    &.open {\n      display: initial;\n    }\n  }\n  @include desktop {\n    > aside {\n      display: initial;\n      width: 18rem;\n      section {\n        &.hidden {\n          :not(:first-child) {\n            display: none;\n          }\n        }\n      }\n    }\n  }\n}\n\n.grey-button {\n  color: white;\n  background: hsla(0, 0, 30%, 0.5);\n  border: none;\n  border-radius: 2em;\n  padding: 0.5em;\n}\n\n.toc-display {\n  @extend .grey-button;\n  position: fixed;\n  bottom: 1em;\n  right: 1em;\n  z-index: 1000;\n  width: 7em;\n  @include desktop {\n    display: none;\n  }\n}\n\n[role='main'] {\n  @extend %content-block;\n  @include desktop {\n    margin-left: 22rem;\n    max-width: 50em;\n  }\n}\n\n@import 'barnardos',\n        'mumsnet';\n\n.teachertapp {\n  .selector {\n    @extend %flex-layout;\n    margin: 0.5em 0;\n    height: 2em;\n    svg {\n      padding: 0 0.5em;\n    }\n    select {\n      flex-grow: 2;\n    }\n  }\n  label {\n    display: block;\n    width: 10em;\n  }\n  .grid {\n    @extend %flex-layout;\n    align-items: start;\n    justify-content: start;\n    flex-wrap: wrap;\n  }\n  .response {\n    width: 100px;\n    padding-bottom: 1em;\n    margin-right: 0.5em;\n    p {\n      font-size: 0.8em;\n      margin: 0;\n    }\n  }\n  svg {\n    .filled {\n      fill: $teacher-tapp-brand-colour;\n      stroke: $teacher-tapp-brand-colour;\n    }\n    .baseline {\n      fill: adjust-hue($teacher-tapp-brand-colour, 120deg);\n    }\n  }\n}\n","$odileeds-colour-c4: hsl(187, 95%, 50%);\n$odileeds-colour-c7: hsl(120, 73%, 65%);\n$odileeds-colour-c10: hsl(323, 85%, 58%);\n\n$odileeds-colour-b5: hsl(0, 0%, 87%);\n\n$odileeds-font-stack: \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n$odileeds-font-size: 16px;","$barnardos-brand-colour: hsl(81, 100%, 32%);\n\n.barnardos {\n  svg {\n    fill: $barnardos-brand-colour;\n    width: 100%;\n    height: 25px;\n  }\n  .wider {\n    width: 300px;\n  }\n  .headline {\n    @extend %flex-layout;\n    font-size: 2em;\n  }\n  .timeline {\n    @extend %flex-layout;\n    > button {\n      width: 5em;\n    }\n    > input {\n      margin-left: 1em;\n      flex-grow: 2;\n    }\n  }\n  @include desktop {\n    .two-col {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      align-items: flex-start;\n      > * {\n        width: 49%;\n      }\n    }\n  }\n}",".mumsnet {\n  max-width: 100%;\n  svg {\n    circle {\n      fill: $mumsnet-brand-colour;\n    }\n  }\n  .selected {\n    background-color: change-color($mumsnet-brand-colour, $lightness: 75%);\n  }\n  table {\n    border-collapse: collapse;\n    overflow: hidden;\n    display: block;\n    @include desktop {\n      font-size: 2em;\n    }\n    td,\n    th {\n      padding: 0.2rem 0.5rem;\n      text-align: center;\n    }\n    th {\n      font-weight: bold;\n    }\n    .term {\n      width: 7rem;\n      font-style: italic;\n      text-transform: capitalize;\n      text-align: left;\n    }\n  }\n}\n","<script>\n  import { afterUpdate } from 'svelte';\n  import { spring } from 'svelte/motion';\n  let open = false;\n\n  const scrollPos = spring(window.scrollX);\n\n  const topPadding = 80;\n  let hidden = [];\n\n  const findHeaders = () => {\n    const targets = document.querySelectorAll('main section h2');\n    return Array.from(targets).reduce((a, x) => {\n      a[x.id] = x.offsetTop;\n      return a;\n    }, {});\n  };\n\n  const calculateState = () => {\n    const offsets = findHeaders();\n    const y = window.scrollY + 2 * topPadding;\n\n    hidden = Object.values(offsets).map((c, i, a) => !(y > c && !(y > a[i + 1])));\n  };\n\n  const scrollHandler = () => calculateState();\n\n  const scroller = (pos) => () => {\n    const offsets = findHeaders();\n    scrollPos.set(offsets[pos] - topPadding);\n    open = false;\n  };\n\n  $: window.scrollTo(0, $scrollPos);\n\n  afterUpdate(() => {\n    calculateState();\n  });\n</script>\n\n<svelte:window on:scroll={scrollHandler} />\n\n<button\n  class=\"toc-display\"\n  on:click={() => (open = !open)}>{open ? 'Hide' : 'Show'}\n  Menu</button>\n<aside class:open>\n  <section class:hidden={hidden[0]}>\n    <h2 on:click={scroller('barnardos')}>\n      <a href='#barnardos'>The Child's Perspective &rarr;</a>\n    </h2>\n    <p>\n      This data results from analysis of referral data from the Barnardo's See,\n      Hear, Respond initiative.\n    </p>\n    <p>\n      You can scroll through the available data by dragging the slider. Pressing\n      the Play button will animate the display.\n    </p>\n  </section>\n\n  <section class:hidden={hidden[1]}>\n    <h2 on:click={scroller('teachertapp')}>\n      <a href='#teachertapp'>The Teacher's Perspective &rarr;</a>\n    </h2>\n    <p>We commissioned a series of surveys with Teacher Tapp. TKTKTK</p>\n    <p>\n      The square charts show the percentage of respondents who selected that\n      option. Each square represents 1 percent.\n    </p>\n    <p>\n      The surveys returned by the teachers have been segmented during analysis.\n      Select a segment to drill down into the results.\n    </p>\n    <p>\n      You can comare this result against another segment with the select box\n      that appears. The baseline figure will appear as a solid border on the\n      chart.\n    </p>\n  </section>\n\n  <section class:hidden={hidden[2]}>\n    <h2 on:click={scroller('mumsnet')}>\n      <a href=\"#mumsnet\">The Parent's Perspective &rarr;</a>\n    </h2>\n    <p>\n      The text extracted from the Mumsnet forums has been analysed to assess the\n      relative frequencies of individual terms and pairs of words during all of\n      January, April and September 2020.\n    </p>\n    <ul>\n      <li>\n        Select either bigrams (pairs of words) or tokens (single words) to see\n        how many times they were mentioned in the months of January, April or\n        September.\n      </li>\n\n      <li>\n        You can select either 'Tokens' for single words or 'Bigrams' for pairs\n        of words. Clicking the column title will sort the terms by the\n        prevalence in that month. The number of terms will be limited to the top\n        10.\n      </li>\n    </ul>\n  </section>\n</aside>\n\n<style>\n  p, ul {\n    margin-bottom: 0.5em;\n  }\n  ul {\n    list-style: square outside none;\n    margin-left: 2em;\n  }\n  li {\n    margin-bottom: 0.2em;\n  }\n</style>","<script>\n  import Bar from './chart/Bar.svelte';\n  export let label;\n  export let value;\n  export let max;\n  export let unit = '';\n</script>\n\n<style type='text/scss'>ul {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 2.5em; }\n\n.label {\n  font-size: 0.7em;\n  font-style: italic;\n  width: 12em;\n  display: block;\n  text-align: right;\n  padding-right: 0.5em; }\n\n.bar {\n  flex-grow: 2; }\n\n.value {\n  width: 5em;\n  text-align: right; }\n</style>\n<ul>\n  <li class='label'>\n    { label }\n  </li>\n  <li class='bar'>\n    <Bar {value} {max} />\n  </li>\n  <li class='value'>\n    { Math.round(value, 0) }{ unit }\n  </li>\n</ul>\n","<script>\n  import { fade } from 'svelte/transition';\n  export let radius;\n  export let content;\n  let shown;\n  const showPopover = () => (shown = true);\n  const hidePopover = () => (shown = false);\n  const togglePopover = () => (shown = !shown);\n</script>\n\n<style type=\"text/scss\">svg text {\n  font-size: 100px;\n  font-weight: bold;\n  mix-blend-mode: difference;\n  fill: #f90606; }\n</style>\n\n<svg\n  viewbox=\"0 0 200 200\"\n  on:mouseenter={showPopover}\n  on:mouseleave={hidePopover}\n  on:touchstart={togglePopover}>\n  <circle cx=\"100\" cy=\"100\" r={radius * 100} />\n  {#if content && shown}\n    <text\n      class:shown\n      transition:fade\n      x=\"100\"\n      y=\"100\"\n      dy=\"10\"\n      text-anchor=\"middle\"\n      dominant-baseline=\"middle\">\n      {content}\n    </text>\n  {/if}\n</svg>\n","<script>\n  export let number;\n  export let reference;\n  export let total = 100;\n</script>\n\n<svg viewbox=\"0 0 100 100\">\n  {#each Array(100) as _, cell}\n    <rect\n      class:filled={ cell + 1 <= 100*number/total }\n      class:baseline={ cell + 1 <= 100*reference/total }\n      width=\"5\" height=\"5\"\n      x={(10 * (cell % 10)) + 1}\n      y={(10 * Math.floor((99-cell) / 10)) + 1} />\n  {/each}\n</svg>\n\n<style type='text/scss'>rect {\n  fill: #eee;\n  stroke: #eee;\n  stroke-width: 3; }\n</style>"]}